  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (257.7ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
  [4;35;1mSQL (298.7ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100824050856)
  [4;36;1mSQL (164.9ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `username` varchar(255), `email` varchar(255), `crypted_password` varchar(255), `password_salt` varchar(255), `persistence_token` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (42.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100824050856')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'efbe854639c6344beaa5a54008f7b6683c7e9071a0decb87c3734e2e73bbe7d42d79571b0bcd147f88d96e9a657f6dfd610acbba6db0ff978e02ec46821a2486') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `password_salt`, `persistence_token`, `email`) VALUES('2010-08-25 00:29:59', '3dd54817e338236ddacc2fa1be3c6a3d05a3a636d4d65a4128ba2b731d91c1d6dcba217ffc508c539be295b4d29ffb8b6a534c023699bccda6538ced78dae7db', '2010-08-25 00:29:59', 'admin', 'ImkJP2pwI4BOJEdmGj0H', 'efbe854639c6344beaa5a54008f7b6683c7e9071a0decb87c3734e2e73bbe7d42d79571b0bcd147f88d96e9a657f6dfd610acbba6db0ff978e02ec46821a2486', 'admin@admin.com.br')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '141573666fc2e788df5f42c69141fa9ccc513155f0db0c01f1fab118bc3e962c5a307136a04879bd81073087712e4925582134342fabfb218c951381873ad7f5') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `password_salt`, `persistence_token`, `email`) VALUES('2010-08-25 00:30:18', '6ca8ad148809f256b0e72171a1efccf40cb2ee149eff236e923c871954aaab921e5e01a4ebec3803408ef50cdb9202f77e119b6033cc4de35eed74be904c2f9c', '2010-08-25 00:30:18', 'admin', 'rQ76gahS1u7XQRqnPAfW', '141573666fc2e788df5f42c69141fa9ccc513155f0db0c01f1fab118bc3e962c5a307136a04879bd81073087712e4925582134342fabfb218c951381873ad7f5', 'admin@admin.com.br')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'aaf9a9fc64ea84598e9712d94bb2868cdd40f9955cc0d2b6ac9b3cccb1ea4bdfde46bd031cb620fc613dda49c7fe975dd37575c7edac21ffab860088fd6ae808') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `password_salt`, `persistence_token`, `email`) VALUES('2010-08-25 00:31:21', 'fc8e00238071ac8dda55fea9df878b10e2289ead18f12fd1d60860e3967492007311d8c89589dd3f7d0163a76f2efb7854881cd6812254f7018475edf726adfb', '2010-08-25 00:31:21', 'admin', 'LkQZtrP7Aq13Wf1bJYRE', 'aaf9a9fc64ea84598e9712d94bb2868cdd40f9955cc0d2b6ac9b3cccb1ea4bdfde46bd031cb620fc613dda49c7fe975dd37575c7edac21ffab860088fd6ae808', 'admin@admin.com.br')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (64.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '81676ee181bcf3dfd9b0c8a204eec2fa8f3957bec568fa4b45f45e426d6f9d2969db533486e95e62c8641acd91a2ac3766ff1de89342e8ae2eabe9a365b459e5') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:05:05', '4ecf3e98fbc23c5009869b94b3d2264a5fba8bb1db6969ae9df5d773beb3c60f3e1a9fdc2782de07a51e1126fb6b3fa803399df4c010c789bff03aa6c43084f9', '2010-08-25 17:05:05', 'admin', NULL, 'gZMf3wsN5QtzMM0RtMLH', '81676ee181bcf3dfd9b0c8a204eec2fa8f3957bec568fa4b45f45e426d6f9d2969db533486e95e62c8641acd91a2ac3766ff1de89342e8ae2eabe9a365b459e5', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (84.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '965cb0d5f4dd6546f11e3366cad43c2630b1a5596c02cbc89456141bf91e45c338c48862b1367ea76af81c018f6b0e6126c131dd2bc19055d8f3da28639f5399') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:06:40', '0efdb517e3f74b6cebdaf4188716ec84eeef854a5271a516add1c911e2a86aaa5aedd0e7c0f241349ce399b7c5ff6942025798951815e8bc5816efb1aaa566e7', '2010-08-25 17:06:40', 'admin', NULL, 'uZFz0GKuSgqb0UWALKSZ', '965cb0d5f4dd6546f11e3366cad43c2630b1a5596c02cbc89456141bf91e45c338c48862b1367ea76af81c018f6b0e6126c131dd2bc19055d8f3da28639f5399', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (87.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5a8ff572538bf6bbaedc0dfacb260839ae7d241aeaa92b02df14efb837e1e82386ca669bf9c7e9a01ca13c351fa317039cb996b0529515d9d6c66350965f7f69') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:08:50', 'd762fe8a9a4927206e7705fa1b24f67496181684f9f80ebd002adedda07ee93d18aed93b28150b671b7541eaefcaf3d7f660a659d4f29aa56b39845b606b69ba', '2010-08-25 17:08:50', 'admin', NULL, 'Kw79niadhnsdFYit35W1', '5a8ff572538bf6bbaedc0dfacb260839ae7d241aeaa92b02df14efb837e1e82386ca669bf9c7e9a01ca13c351fa317039cb996b0529515d9d6c66350965f7f69', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f9fcd56354de152bb205909adc48102988ccb0c7c953197b6d7a52886af69f2bd18c1a153b7a38ab284cbf5546445f75bef657487ffd1e7738e2d700006abfe9') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:10:27', '76f392697620a58139fdad828c70a1a30eed92c76d0214d6de4b6ffdc96ea60f4f7e4a7e6d4185a7cb6672ee35a79e8e20c566121580af21803b0c7f95817bc8', '2010-08-25 17:10:27', 'admin', NULL, 'ZSLUQESRhxl4zKbFyHsv', 'f9fcd56354de152bb205909adc48102988ccb0c7c953197b6d7a52886af69f2bd18c1a153b7a38ab284cbf5546445f75bef657487ffd1e7738e2d700006abfe9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (67.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '82fcc171966c52dea8f7a4c1f91f0e2e5740d2dc3d01d3151bc2fd24c59f3fa8b35e5a7137817a52340aa364cae461f45ab17f464f4b117988341931bf834038') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:13:08', '53faae60e7d6c13efe39d3350414a683279855a2d2d6fa987af5649ca1b34bd5bbea8d12c5c0fa7cb85b280c1326a5d233d35e5eb8fcedab51b92895e860aa9d', '2010-08-25 17:13:08', 'admin', NULL, 'OmEjuyS2QYDdrSJR5c9X', '82fcc171966c52dea8f7a4c1f91f0e2e5740d2dc3d01d3151bc2fd24c59f3fa8b35e5a7137817a52340aa364cae461f45ab17f464f4b117988341931bf834038', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (3.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (85.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '224f19c012631b193c3c4cf71d4d0f93ba31dc43e13aed39075f9cd97dc6ae81c654b5b915f16e363162f27f110e435805f69a6eb253b3483574c1aece1148eb') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:14:41', '3960ed4030d3ec6eae8e8e001e403fa0df3f2a50a90b3628cca940f764dc91f22090e68c4f5af9ef483b2dc083b93f651e6c83b36eea538e4dc2d83ce4552b73', '2010-08-25 17:14:41', 'admin', NULL, 'FPLxYC9ErQ7WdayQiW', '224f19c012631b193c3c4cf71d4d0f93ba31dc43e13aed39075f9cd97dc6ae81c654b5b915f16e363162f27f110e435805f69a6eb253b3483574c1aece1148eb', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (57.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '19b2f7ffddbdc5d744118e2f197d6e0606231bbe7ddf71db082a0d6088764b0a45c390ecd8953f4e40ad83a2b363a0e41d72d0a015b5ef64b47ecf982a8820a9') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:15:35', 'c15aca63f7b464e6c4a3a0da9fd1d2dd8fc995656ba572e10128c4a0d86dc80d95bc0af4254a0d8d687fbede8d6d59259755be50fe0184f5a7db16fd84a23e89', '2010-08-25 17:15:35', 'admin', NULL, 'TsGhJgsMGj7cDm83gdgF', '19b2f7ffddbdc5d744118e2f197d6e0606231bbe7ddf71db082a0d6088764b0a45c390ecd8953f4e40ad83a2b363a0e41d72d0a015b5ef64b47ecf982a8820a9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.0ms)[0m   [0;1mMysql::Error: Table 'beckanos-rails_test.opinion' doesn't exist: select count(*) from opinion where message_id = 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: Table 'beckanos-rails_test.opinion' doesn't exist: select count(*) from opinion where message_id = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100824050856)
Migrating to CreateMessages (20100825133403)
Migrating to CreateUserSessions (20100825143403)
Migrating to CreateOpinions (20100825171403)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mdescribe `messages`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW KEYS FROM `messages`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `opinions`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mdescribe `opinions`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW KEYS FROM `opinions`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `user_sessions`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `user_sessions`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `user_sessions`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '21178e8c573301163f388d6b4b521013aeea66221a5fdda63ff4d9279511c77b69ff642d70db34f3db760ad56dd8c27b86dddab3a119ac890d39638f4b5b6943') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:16:05', '180e8cf77bc06247533674bd1fe8239cec8bf68230dee6b5a89fa0729410e39a6ff2936c701ff3055b89649909697023e6127ca64779c5fc78b3b892dae99101', '2010-08-25 17:16:05', 'admin', NULL, 'VUPKE0e4wBtcKE6Ove', '21178e8c573301163f388d6b4b521013aeea66221a5fdda63ff4d9279511c77b69ff642d70db34f3db760ad56dd8c27b86dddab3a119ac890d39638f4b5b6943', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (53.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.0ms)[0m   [0;1mMysql::Error: Table 'beckanos-rails_test.opinion' doesn't exist: select count(*) from opinion where message_id = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: Table 'beckanos-rails_test.opinion' doesn't exist: select count(*) from opinion where message_id = 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1b24b4d8b196e0b4d287413fffaaa69471259087ee62862925d9de19bed33688a76dc79ba532a826f3158a2d78940ecde88c4f3f5c73d478d49e8dbd21ee90b1') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:17:04', 'e4bf89ae012fca349c5145505ef904d41c621c1b79368ef55a54d34d089138f23a18b9af246db5c8fa1316f6b3af1eaac224533bfbc6c9bd3a6fc1b38e7631a9', '2010-08-25 17:17:04', 'admin', NULL, 'cchUqJ4HaW8dWVfuvhB', '1b24b4d8b196e0b4d287413fffaaa69471259087ee62862925d9de19bed33688a76dc79ba532a826f3158a2d78940ecde88c4f3f5c73d478d49e8dbd21ee90b1', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (115.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (6.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) from opinions where message_id = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '730a25b5179419df67e8ef3ac634b3adfb00412bf5b6770783dde425aca2d6e22dcb0b834133934464134e3e89028cd997cee05cd6f61aa3374d82b848340d73') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:17:53', '1bd2b6c6562f0725a382035b803c059394cbc47581856219f08d0dd447404b9950d0efed3638357c0de8aa900910936e1033292e2f1d19d90d170b7efd09f96c', '2010-08-25 17:17:53', 'admin', NULL, 'KKXJ5LWcv0bU3Dz7ZU', '730a25b5179419df67e8ef3ac634b3adfb00412bf5b6770783dde425aca2d6e22dcb0b834133934464134e3e89028cd997cee05cd6f61aa3374d82b848340d73', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (82.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b4e2cdbaf1e583c6201654de16d422b738be89369a9a7310a49ad15cbd28077288e76bd1ab637c31850eadbba1e40c0444570baf6568da5b2e7eebbe490e152e') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:18:40', '3444e393213415897eabc3aeacefe84220a4ee1e91475b65b314382a1e69a8872ff4f1bb58c8b623e51214fc7ce02930faca091ff86d627a7fbdea852c8f82df', '2010-08-25 17:18:40', 'admin', NULL, '9WntGu5yJb9b7Udx8', 'b4e2cdbaf1e583c6201654de16d422b738be89369a9a7310a49ad15cbd28077288e76bd1ab637c31850eadbba1e40c0444570baf6568da5b2e7eebbe490e152e', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (114.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1194b36ac0c634e5c3da9b328be9628e5771c6f83694a4bc35c37a804b878100025a07796fe6ca7ffc6b3218003373e3b6f61ddab77393b1fb4fedd78a8c9514') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:21:00', 'a240f5f94bf134da8bdadf7279d7f712748e43f15ed191b18e426719605ac82f0ef3d8d5bade1d240ee37b683d437b16e0bf57172bec87bac8da2021c0354fde', '2010-08-25 17:21:00', 'admin', NULL, 'hSuBHgjOKk2o1i5kgVM', '1194b36ac0c634e5c3da9b328be9628e5771c6f83694a4bc35c37a804b878100025a07796fe6ca7ffc6b3218003373e3b6f61ddab77393b1fb4fedd78a8c9514', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:21:00', '2010-08-25 17:21:00', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:21:00', '2010-08-25 17:21:00', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (17.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:21:00', '2010-08-25 17:21:00', 1, 2, 2)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (50.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3542b52c1c9ee44999312c783e788e42edcbc4a21ba88d32c3542ab051a24d32c0b9980e72b3ce60c30035f6b123e40a17fe2d9731466a2fa23048588e03b541') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:21:55', 'bbc530bc1b4fe5ff52f94249cd8e58e9286b3f9811066ebc0542bbfa6e7455676bd7e5b4356628c593f319306ddb19ed8b24943f27b1495ae1ac010d97cea03d', '2010-08-25 17:21:55', 'admin', NULL, 'I56c47YrSIFyMUnWfhpK', '3542b52c1c9ee44999312c783e788e42edcbc4a21ba88d32c3542ab051a24d32c0b9980e72b3ce60c30035f6b123e40a17fe2d9731466a2fa23048588e03b541', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (82.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:21:55', '2010-08-25 17:21:55', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (73.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:21:55', '2010-08-25 17:21:55', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:21:55', '2010-08-25 17:21:55', 1, 2, 2)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (68.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4bf43fdb2721652cd39b8d871037a07fc5293779736b4542a33fe0e4b79088c4ec237152c3d476f3b1eaef24b9cfa5ce584a2b84087380209128b5a3228334db') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:23:23', 'e42655e07aceee4913c41bf890bbd8834833e58bddc07d5c6a658df387c5da32ebcaa64a8542bf7369ccaeb5f9c3b438ffe9d9b3dc36c7daa537be66004a71e8', '2010-08-25 17:23:23', 'admin', NULL, 'ASTMtcXD3VhBI1fESYG', '4bf43fdb2721652cd39b8d871037a07fc5293779736b4542a33fe0e4b79088c4ec237152c3d476f3b1eaef24b9cfa5ce584a2b84087380209128b5a3228334db', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (76.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 2, 2)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (62.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:23:23', '2010-08-25 17:23:23', 1, 3, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (65.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b1927c759323d56c4fab5b47f9f3742a225f9b35a9afc6a0ae97ad19e02ac74c6ea0c5d85b68827b54deee4aaf24d3eff65b58020199f9a0774719508f141a5f') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:30:13', '15f18334010cc52e5e571d3c4682fb34c6465df9aa7d05d1794195379f2ca4be11bca3446a11d2d1d17a4bfedf80ee5a36fb602c49f4adafedf4f5fe2db694c2', '2010-08-25 17:30:13', 'admin', NULL, 'Q2lxfpTN3RoyLHg1oE', 'b1927c759323d56c4fab5b47f9f3742a225f9b35a9afc6a0ae97ad19e02ac74c6ea0c5d85b68827b54deee4aaf24d3eff65b58020199f9a0774719508f141a5f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (90.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (8.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (50.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:13', '2010-08-25 17:30:13', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (64.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY '@joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd280a51269b05a39959c8d9bbc45613ac99a5193e119fca1d3b68649cd162002772caaa9b5790b5f884fb10712b04a473f042e89ccf806157a26ada74316b373') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd42794a0b8892bb497f783556cb8d672e5ec21a81d0c7142ae0d176a4c7a8d176db94aa1b801a5a2931da167897b119a6e3c04d7d349dd7fda6e6a989486d896') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:30:47', '2b99c521e291ad0586d6c2dd7adb8d7db6dd517cb7a0f8096f88f4b3f39da08136f236162d5bb997c495d81651ed38c3763b0b02a7b62babd8c2a3e0c8cb43dd', '2010-08-25 17:30:47', 'admin', NULL, 'M2NlnLEyyJWiXfWsPe7', 'd42794a0b8892bb497f783556cb8d672e5ec21a81d0c7142ae0d176a4c7a8d176db94aa1b801a5a2931da167897b119a6e3c04d7d349dd7fda6e6a989486d896', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (46.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (41.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 2, 2)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (43.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:30:47', '2010-08-25 17:30:47', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (47.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY '@joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ff806a074296677d0c240d11d4fdfc7d32e0226faf3b99d91df4bebfc48ad19ed0bc98acb3a536ca067af90e019fe9b7d9a4a54fa7148ec942844f7cd60c79ae') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b2b3d09e2a4d4a23ee827155f7694fd8d9ea59472925dce8a85568191778110baefe7b2e2ab938d96351fca5693cad6b67ad6647916ae2c51e48652f8ca8f2d7') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:31:07', '8b933a98bb508c098b8ceea39160961a9b585cd541db549da49c62cc2e50b884716c49d8635bb26cc59fd746abfdd43a6f6d574492b35316fce566e694d8b8f3', '2010-08-25 17:31:07', 'admin', NULL, 'VBN6UOqaDyW7ceW9V7Ad', 'b2b3d09e2a4d4a23ee827155f7694fd8d9ea59472925dce8a85568191778110baefe7b2e2ab938d96351fca5693cad6b67ad6647916ae2c51e48652f8ca8f2d7', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (69.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (28.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (36.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:07', '2010-08-25 17:31:07', 1, 3, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (39.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ee1e3a152401677e9a11eba209f442dcc35684edadb100650867734e0e1cf0313a09d03234a5df43846d7c806c485896d2ac15880eb4cfcfc1b80d4c9541f6d2') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '50a0f4fa3fa86ecf9aa93808d864dd7e319cbc9c2d59c81b6e6ab54f434671b1eb3f7110c2c22621dac4769fd91e8a5d8dd160ae50f6faf1008b71529f9f52a7') LIMIT 1[0m
  [4;36;1mUser Create (8.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:31:45', 'afb1af2650974ca0b3f64de2fce94d407207793968274a3f4873852737d1662ab56259221d308aa625047bf161db4ccac0a4e76794feb369a6763e5222a3b3d1', '2010-08-25 17:31:45', 'admin', NULL, 'sFGqbWV5c1rHmYDFLaSh', '50a0f4fa3fa86ecf9aa93808d864dd7e319cbc9c2d59c81b6e6ab54f434671b1eb3f7110c2c22621dac4769fd91e8a5d8dd160ae50f6faf1008b71529f9f52a7', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:45', '2010-08-25 17:31:45', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (70.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (55.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (6.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.9ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (31.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (6.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (9.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6395bce3dc3f3dc40b892d1ee92729edd00d68d9afb7013b849e82a540949cd7ed13195340d379f1eb8f512f55c1a9fcfec45a55a7baacacec9e91eb42499ba8') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:31:46', 'c4b9051c69689967d64e38a87d239a6a253f1b4217152d5814c964d8e8e7424f5a79bbf72f43948254b044c3c5d6094301e82de66936d12b22681721154bf488', '2010-08-25 17:31:46', 'joao', NULL, 'oxIJTYp3XXCldBmUmwy4', '6395bce3dc3f3dc40b892d1ee92729edd00d68d9afb7013b849e82a540949cd7ed13195340d379f1eb8f512f55c1a9fcfec45a55a7baacacec9e91eb42499ba8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:31:46', '2010-08-25 17:31:46', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (42.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '28419a4c627628a9ee5d0a9db68f5c6b41ff66e2f4c5196436ab4d6e65a42f941f2836ceb6f4d0f5ce01215729ece380522691dcdfa61c6459a18dfc260705e1') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:32:20', 'c347ee0e3d4bff0c7f1b61e81ac0d9756afb6976f963c3304e300f746e6f43652e13c5c6bfe3658a66bd651e9f8cd43769e95bcbcdb612d8bc6d0e2366765894', '2010-08-25 17:32:20', 'admin', NULL, 'TEuAbiDRp4FuMsZ7CMFw', '28419a4c627628a9ee5d0a9db68f5c6b41ff66e2f4c5196436ab4d6e65a42f941f2836ceb6f4d0f5ce01215729ece380522691dcdfa61c6459a18dfc260705e1', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (72.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 2, 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (29.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (31.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fe010eea8a81488efec6b8666db217d6a9495494d4c6764d420f344bf11bf7b19d0bebe1c5601f6f31a8f34800f39dd824e034fda613ecc6995deb8a955ab6bf') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:32:21', '530ba845c884944be7903db00c5d3a60c02eeed7217141113ab0bd95b3e7682c0976a1a9da0810f08326856e09783eae71ee710806364407b96094adbc1be93d', '2010-08-25 17:32:21', 'joao', NULL, '4BWMAVcP7YdvwRWGdwF', 'fe010eea8a81488efec6b8666db217d6a9495494d4c6764d420f344bf11bf7b19d0bebe1c5601f6f31a8f34800f39dd824e034fda613ecc6995deb8a955ab6bf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:32:21', '2010-08-25 17:32:21', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (55.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '20730b69af3189dcb885db221146f48f106a631cdcef54c0265920be7934108cc1980613f649174a3938055959e3322b5f6896fc250ce1acf364752e38bef1c8') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:33:18', '4faa68d9b08ce398e9c17d96d1741a4989a7dda7a9ff592820a28ffd373f9175a286338fabd4188ad498bd523c5b32bd675d773f55472f3ad675e793055457b4', '2010-08-25 17:33:18', 'admin', NULL, '5GWHJ4c82POm1Quo8j6v', '20730b69af3189dcb885db221146f48f106a631cdcef54c0265920be7934108cc1980613f649174a3938055959e3322b5f6896fc250ce1acf364752e38bef1c8', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (59.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (48.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '846f8b2da2aa52ea38e059d0c55d3975de7365b7c94fc7b37a43b5bf47c954709f6affbfa408daad8ad73041a8d6fbc633062c5b3d7427e9fd497e61a5c42918') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:33:18', 'd3850aca3b97dee61b8db5ee00b25b0da203cc11f348a635c5cc58b0e56d2e749a13cc7cab1a2de37a4caf170d38cf5c6c8c5ad546e22d92d64d0593471626b6', '2010-08-25 17:33:18', 'joao', NULL, 'jXlFlWyfl1iPNwFKqk5', '846f8b2da2aa52ea38e059d0c55d3975de7365b7c94fc7b37a43b5bf47c954709f6affbfa408daad8ad73041a8d6fbc633062c5b3d7427e9fd497e61a5c42918', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:33:18', '2010-08-25 17:33:18', 2, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'opinions where user_id = 2' at line 1: select count(*) as importance opinions where user_id = 2[0m
  [4;36;1mSQL (38.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5cc4a3b5a0ca64b0ec5a3ef141cf970246528b4cea0fd85aaa1bbb7581f1da307a8686d0aa2ca7861bdb6b69d53f6634ec1fb2f8fdca3861e1957997d57ea771') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:35:11', '8d8bd5fc5cdb8b8795429357ea9887975469fec5d3244a5d80c30fe941a8ea51f76cbaeb5f25c8ab09d2dc9a25662a8ba5f3dd834bfabbda3dbe9eae15ee0c1c', '2010-08-25 17:35:11', 'admin', NULL, 'mxdu3amSGHNQByARyNd7', '5cc4a3b5a0ca64b0ec5a3ef141cf970246528b4cea0fd85aaa1bbb7581f1da307a8686d0aa2ca7861bdb6b69d53f6634ec1fb2f8fdca3861e1957997d57ea771', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (87.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (64.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (64.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (1.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 2, 3)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 1, 3, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (52.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cafdf301ea42b2bfbf9b7929ea6f9865de3d8bbf14e9e5bd9789d1aff9555ed9cbb47b2bc1aa0a6e199b458495864214414ca8c814c3cbcf9bfcf22b815b0096') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:35:11', '9737a23ae73961e938a555fbf033ac41983083b57acddefc9f63a2f549b23bdc000f08ba029bae13bd4640e9047d1cdcfd5e89be51939b70cb4287a3c1da39c9', '2010-08-25 17:35:11', 'joao', NULL, 'HEGrUq0wmLr3OvGfU3Y', 'cafdf301ea42b2bfbf9b7929ea6f9865de3d8bbf14e9e5bd9789d1aff9555ed9cbb47b2bc1aa0a6e199b458495864214414ca8c814c3cbcf9bfcf22b815b0096', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:11', '2010-08-25 17:35:11', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'opinions where user_id = 2' at line 1: select count(*) as i opinions where user_id = 2[0m
  [4;36;1mSQL (53.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0f3ad7f1d87f9949a6b036cedbb339ee3f2dc0ded8582fbf4858dd0f4f00949925227a19dede8daacf2236bf6164d6e23287fa01360f93ef57021f3a3d1fbe99') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:35:55', 'e3c02d18d5337c039ed1d5361fdf38750c15bebcc1cc44cdfff6072021433e28b499584aa61442611c41259e9f3f6f66f4d6997778f073c2bed9e85875279b7d', '2010-08-25 17:35:55', 'admin', NULL, 'WblGAD0Qg6uWN6wan6L', '0f3ad7f1d87f9949a6b036cedbb339ee3f2dc0ded8582fbf4858dd0f4f00949925227a19dede8daacf2236bf6164d6e23287fa01360f93ef57021f3a3d1fbe99', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (67.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.0ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (72.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 2, 2)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (59.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 1, 3, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (62.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4b22fc1b51921a30ddfc2e00e030ff199b23e87f21675a4f4db47b502e86913207754906304e5c53646da6804bf5b287397d6647ec0c70a86f9ce57dae1476d7') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:35:55', '1c5fddb6f4621b066f216be7cd1fb7cfb7381e04465b4e5b251114de520304204674636f20376a838aecaca9aec9b8e248444f79f3ccb61f925e0957b0881e9b', '2010-08-25 17:35:55', 'joao', NULL, 'RNYvIx1zsLDkyOSoW', '4b22fc1b51921a30ddfc2e00e030ff199b23e87f21675a4f4db47b502e86913207754906304e5c53646da6804bf5b287397d6647ec0c70a86f9ce57dae1476d7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:35:55', '2010-08-25 17:35:55', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (45.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5f2c4e08df6bac3035d98189eceb1e443742ce6cd7998b31ad1e68712a711085fecba916186f3dd87c2b282c1f9d7eb1bbaf0f544a4da92aef0b013b2994f184') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:37:53', '26bdc3c986170065257dfec8cdd07579849ab560d23b6612cc23f53508105c4fe7701223eaa4e77e982159041c7bd387e5d765f2be6eefd77282327b97e069e4', '2010-08-25 17:37:53', 'admin', NULL, 'IVswvSQMHOtduJhlIz5U', '5f2c4e08df6bac3035d98189eceb1e443742ce6cd7998b31ad1e68712a711085fecba916186f3dd87c2b282c1f9d7eb1bbaf0f544a4da92aef0b013b2994f184', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.0ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (50.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (49.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'caeea364e377133bb6bbe7c8f8f0e6a3a84f6a974abd739b82101d8a9f3f18c50348b333266fab18317f1dbb3e9b8021a2be3bec444aef47872579fe9ab4980e') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:37:53', '81bbdceb9bd8dc11f5a92638c8819417788f6f192eacf46c1c7ed7ac2c5425489b4d39aba6e8c329dbbbcad58b2c81ec7a685181c9eca813b49c203ac1b66bb7', '2010-08-25 17:37:53', 'joao', NULL, 'MG2uWQ0iEf0AUSOMpn', 'caeea364e377133bb6bbe7c8f8f0e6a3a84f6a974abd739b82101d8a9f3f18c50348b333266fab18317f1dbb3e9b8021a2be3bec444aef47872579fe9ab4980e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (38.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '020e601bf74d4c2710b25540e8ef92adf21e7ed57cfd193c9fdb09d5a3fa0e6664fd268b685b4f5afae13dc0a3b7a99f50eaa5e1b4ee15eb285874a9778e4bee') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'caeea364e377133bb6bbe7c8f8f0e6a3a84f6a974abd739b82101d8a9f3f18c50348b333266fab18317f1dbb3e9b8021a2be3bec444aef47872579fe9ab4980e') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'caeea364e377133bb6bbe7c8f8f0e6a3a84f6a974abd739b82101d8a9f3f18c50348b333266fab18317f1dbb3e9b8021a2be3bec444aef47872579fe9ab4980e') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:37:53', '46d65e1326eef5adfde4b81f50bbf084239f6deffc4429a11de6739f2eb405da5b4da5c65a649d6d768ccd9bf43c21bf689c7adbcd304fee056eb77e68e55373', '2010-08-25 17:37:53', 'joao', NULL, 'aHF29q4BcCLuLgVc9uo', '020e601bf74d4c2710b25540e8ef92adf21e7ed57cfd193c9fdb09d5a3fa0e6664fd268b685b4f5afae13dc0a3b7a99f50eaa5e1b4ee15eb285874a9778e4bee', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 3, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:37:53', '2010-08-25 17:37:53', 1, 3, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where user_id = 3[0m
  [4;35;1mSQL (36.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '80ad761bffbfb9c94ad68d90b99f1a193241302ab6b18f42a51a2cb99a491749a349db510d09282ae4aef9f76e68d1e4173b4a7e78eeb2105364dfb9a047286e') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:11', 'f6ce5ec33dc0eb9f7ce3e008f567c949a94799ac7f7f05145f3427825148f860c0df4e016c2acba41feb599b769e01718bbc0407bd5b4fbe8a24449c14a8b076', '2010-08-25 17:38:11', 'admin', NULL, 'pXtptmPRIXbSIl87nvM', '80ad761bffbfb9c94ad68d90b99f1a193241302ab6b18f42a51a2cb99a491749a349db510d09282ae4aef9f76e68d1e4173b4a7e78eeb2105364dfb9a047286e', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (50.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (78.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 2, 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (31.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:11', '2010-08-25 17:38:11', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (33.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c4b292326e72877585bb3a91f04a58e392862ae9570853717a12ba0c2346e79094b7fd6c9f89348666137290b46544b3d33173763b1a5ae4ae2ad603fa73c93c') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:12', '856c4f52a56e5bd8c496cb90c5b67bcfe382ea4395d4462a47713e51a1217cda6d9b8dd1a9c6c554014949f7e1f829a271b0ffbaf1f8624ce0724ca9184ca3df', '2010-08-25 17:38:12', 'joao', NULL, 'zE0WjC82wsgivoXiL67T', 'c4b292326e72877585bb3a91f04a58e392862ae9570853717a12ba0c2346e79094b7fd6c9f89348666137290b46544b3d33173763b1a5ae4ae2ad603fa73c93c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:12', '2010-08-25 17:38:12', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (26.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2bd35341138a154a3463acbbc86d8f63c81c50382812999a9e4eba84be690efb12ccfbd8bad870b3ccdf0c0f8b3794723f534667072804c1135d6a2b3d435f19') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c4b292326e72877585bb3a91f04a58e392862ae9570853717a12ba0c2346e79094b7fd6c9f89348666137290b46544b3d33173763b1a5ae4ae2ad603fa73c93c') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c4b292326e72877585bb3a91f04a58e392862ae9570853717a12ba0c2346e79094b7fd6c9f89348666137290b46544b3d33173763b1a5ae4ae2ad603fa73c93c') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:12', 'b58dd84d5b017be4245644009acab870d8c46400bbc55943e16d33bf985908738ef2c74ed8c2f50fec48fcd0e449f88aeca56faf93b58ec7bd564b405518c4ce', '2010-08-25 17:38:12', 'joao', NULL, 'JMapNDxnyOhlmZQx8rR', '2bd35341138a154a3463acbbc86d8f63c81c50382812999a9e4eba84be690efb12ccfbd8bad870b3ccdf0c0f8b3794723f534667072804c1135d6a2b3d435f19', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:12', '2010-08-25 17:38:12', 3, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:12', '2010-08-25 17:38:12', 1, 3, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where user_id = 3[0m
  [4;35;1mSQL (33.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '279c22743a56fb7636eb2fab7240e4f3299bdad1adc4255beda5e5f1014fd8fbdd4d83dcfa1cf4a733383557ae89101db854dc9dc20f415ffba7bf456618d95e') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:48', '532063ea7d4fe65506289a958f334f02c67eb7b32a1cf3bd7c89cf455946b801f4c7cf7972519d23c90010daf0787157b8636f806db920db53066e7938336566', '2010-08-25 17:38:48', 'admin', NULL, 'IRQ4jP9MsrHTteDSSScQ', '279c22743a56fb7636eb2fab7240e4f3299bdad1adc4255beda5e5f1014fd8fbdd4d83dcfa1cf4a733383557ae89101db854dc9dc20f415ffba7bf456618d95e', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (45.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 1, 3, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (46.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4d9e7acadfe5f17889ac172ebf8188171cea95cf2c1f0c70f637fc2ce6059477b16f1cc990ac576002c26c87a6ecf24a8112d170e1a994366dee55c26bba49e6') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:48', 'cd2329baac1c51435fdba5557e76c8f853bd3636dd61bb16bd2ec81147b5cb22ff1da51258dafd102991d336f410d8032ec78f73abb0fde90b52213b7909199d', '2010-08-25 17:38:48', 'joao', NULL, 'umOOFhChcfAQJccpVE6', '4d9e7acadfe5f17889ac172ebf8188171cea95cf2c1f0c70f637fc2ce6059477b16f1cc990ac576002c26c87a6ecf24a8112d170e1a994366dee55c26bba49e6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:48', '2010-08-25 17:38:48', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '739c3bbc01aea411e8c41ac07d4f842b4e6fe57e2a7f29a5e4aa789799291fed51147926569631858d37f6ac6f718ef60482e8aa0b871fd068f8b1e46d5de2ca') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4d9e7acadfe5f17889ac172ebf8188171cea95cf2c1f0c70f637fc2ce6059477b16f1cc990ac576002c26c87a6ecf24a8112d170e1a994366dee55c26bba49e6') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4d9e7acadfe5f17889ac172ebf8188171cea95cf2c1f0c70f637fc2ce6059477b16f1cc990ac576002c26c87a6ecf24a8112d170e1a994366dee55c26bba49e6') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:49', '07d402f79f3b8f8c5c41de59fbdd1549e3ef551eccfd88140ffcbe664814e1b2ba16841d3e67fc61836f3ffd65df9d4be9f646e3d05fc8d02a37486ca432654c', '2010-08-25 17:38:49', 'joao', NULL, 'woSdrQ14PUj9RD9bRmYA', '739c3bbc01aea411e8c41ac07d4f842b4e6fe57e2a7f29a5e4aa789799291fed51147926569631858d37f6ac6f718ef60482e8aa0b871fd068f8b1e46d5de2ca', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:49', '2010-08-25 17:38:49', 3, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:49', '2010-08-25 17:38:49', 1, 3, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where user_id = 3[0m
  [4;35;1mSQL (44.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ddc4c91154db80f1b42d9d7e3645b6268adddc4be46af723ae1afb24399deb470a7d318db6540b26c330612c7593aee129cc9d91b887302f5d27fd0f68317b4c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '739c3bbc01aea411e8c41ac07d4f842b4e6fe57e2a7f29a5e4aa789799291fed51147926569631858d37f6ac6f718ef60482e8aa0b871fd068f8b1e46d5de2ca') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '739c3bbc01aea411e8c41ac07d4f842b4e6fe57e2a7f29a5e4aa789799291fed51147926569631858d37f6ac6f718ef60482e8aa0b871fd068f8b1e46d5de2ca') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:38:49', '1816eb78d0a96628d7e06cd80889e9a28803fa9c7ca372a910df01d85d09576a837e87bd406dbfc9483e84dc6b36473cf6a9d3e5e6e7facfa28f6f1405c74827', '2010-08-25 17:38:49', 'joao', NULL, '0VNqgUgQlcKpX3AsjtD', 'ddc4c91154db80f1b42d9d7e3645b6268adddc4be46af723ae1afb24399deb470a7d318db6540b26c330612c7593aee129cc9d91b887302f5d27fd0f68317b4c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:38:49', '2010-08-25 17:38:49', 4, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:38:49', '2010-08-25 17:38:49', 1, 4, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where user_id = 4[0m
  [4;36;1mSQL (44.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '542048f3f940db4c46fbeef9ed4fa35033b8f13a4630232b62cdfd506b04f3076194ddeb263f4047a1d5d1b8fe3fe6266025441ccfee0b2b44e729b076bea4bc') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:31', '2a646b70452f03715a6ea89ffb23ec4d708397d338a1a3ca2ab8b8fc79045bc48ac58ad0a78acaa9007c6fb642ea940ef90a63e4a60055f665a25c99b1185398', '2010-08-25 17:39:31', 'admin', NULL, 'bTO81K4SL4G9L16XpYHn', '542048f3f940db4c46fbeef9ed4fa35033b8f13a4630232b62cdfd506b04f3076194ddeb263f4047a1d5d1b8fe3fe6266025441ccfee0b2b44e729b076bea4bc', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (58.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (30.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.1ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (31.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9678a2cbcfc5612f8548ae9042e2cac249ff0279d7ca68af77e7290be6eec9a7bf03aa71ae7056fc2560ea992b942ac66a7932d7c79571df7c314bf78a1ba8a4') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:31', 'c06400c89b506f3f1dd0847b7320fc0ed4bb1a928494ce148f5732e546b24355ca3e39863a0454252405c83b6793a2bc5783f6059e5d1f8c98b3aaa9d8adafb6', '2010-08-25 17:39:31', 'joao', NULL, 'VjIYh6plkVbJNHxKeMQM', '9678a2cbcfc5612f8548ae9042e2cac249ff0279d7ca68af77e7290be6eec9a7bf03aa71ae7056fc2560ea992b942ac66a7932d7c79571df7c314bf78a1ba8a4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 2, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (27.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '58dfc96db628bdcc8f4e6b9ad4a07b0f707feb11875192645f2ab7e0ff7c3f8b252d392ca1efd39730f96b612401b5fe883aea64e8a346e7227810bcbce8b2fd') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9678a2cbcfc5612f8548ae9042e2cac249ff0279d7ca68af77e7290be6eec9a7bf03aa71ae7056fc2560ea992b942ac66a7932d7c79571df7c314bf78a1ba8a4') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9678a2cbcfc5612f8548ae9042e2cac249ff0279d7ca68af77e7290be6eec9a7bf03aa71ae7056fc2560ea992b942ac66a7932d7c79571df7c314bf78a1ba8a4') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:31', 'b6bc6becfb019242b32b1af1d21e8d88d1648424de499e0585b5a242782d8c8d52d9c6a340c7c5ec9fed57197ed14660458bf20757d611a386fe01153ff6649e', '2010-08-25 17:39:31', 'joao', NULL, '9lsuC3UJ9BMzb0CCnQrK', '58dfc96db628bdcc8f4e6b9ad4a07b0f707feb11875192645f2ab7e0ff7c3f8b252d392ca1efd39730f96b612401b5fe883aea64e8a346e7227810bcbce8b2fd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 3, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where user_id = 3[0m
  [4;36;1mSQL (27.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '92389c39bf3c063bfc0d5c7f2379c76aeb80883c3a3cbf20a0c11b39056d5a6b8aa9b02e44ae8be29c3d9a0562655f074601c3053560ba8d55d86f61f166af23') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '58dfc96db628bdcc8f4e6b9ad4a07b0f707feb11875192645f2ab7e0ff7c3f8b252d392ca1efd39730f96b612401b5fe883aea64e8a346e7227810bcbce8b2fd') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '58dfc96db628bdcc8f4e6b9ad4a07b0f707feb11875192645f2ab7e0ff7c3f8b252d392ca1efd39730f96b612401b5fe883aea64e8a346e7227810bcbce8b2fd') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:31', 'b48a56acb5985211bab7d9b31b417122b33148df8518a165dfd761ef63646607872aff9697e7bd4d5c049d44e1c0c33097f68562afd7581bcfb449cc1de7ec4b', '2010-08-25 17:39:31', 'joao', NULL, 'NAATRZnxS99Xj20vGc74', '92389c39bf3c063bfc0d5c7f2379c76aeb80883c3a3cbf20a0c11b39056d5a6b8aa9b02e44ae8be29c3d9a0562655f074601c3053560ba8d55d86f61f166af23', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 2, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:31', '2010-08-25 17:39:31', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from opinions where user_id = 4[0m
  [4;36;1mSQL (47.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '854ac519304a55f25560fc0efaa0395d0e7991189c09985c47a21b25d96cffe3eacd24c22b0771a762534bc37d44235c8f41329a7c96ade1780fd7e6e9f3a1e9') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:55', '29a88e3f30053aeeb17a8c1e97fe125ec51cb4a177a39e8786582116a446cbffad59082951a156fcff043d782673597f36a2f075cfef0f4656b77bf54143dab2', '2010-08-25 17:39:55', 'admin', NULL, 'rrsSZniBfvchlQfGcya', '854ac519304a55f25560fc0efaa0395d0e7991189c09985c47a21b25d96cffe3eacd24c22b0771a762534bc37d44235c8f41329a7c96ade1780fd7e6e9f3a1e9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (52.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (39.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (3.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 2, 2)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (4.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (41.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 3, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (56.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '44e863388c5913f0fc765d67337b27e61db67ff348347aeea29983a4ce3c3c6d1d5903e377b5690d43ed35c42870bed5d065083f38413f4ce89fd51a0b931ea5') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:55', '632c1ef1ce57a904049d1b96793efbdb1c6400e49ba106cd5f7b988da7420cddf4cbfbe4a279c8fcdd1145a9a8970c3d5d42c6588005ccb77fa7ae376a2c25dd', '2010-08-25 17:39:55', 'joao', NULL, 'm0iGtbJjXSggdY02LWWc', '44e863388c5913f0fc765d67337b27e61db67ff348347aeea29983a4ce3c3c6d1d5903e377b5690d43ed35c42870bed5d065083f38413f4ce89fd51a0b931ea5', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 2, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where user_id = 2[0m
  [4;36;1mSQL (55.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '809351b66150cc714a36205715a1bff79027435e156f2c85205f583e25189f9f58eacf171e3e9febfa20bdb5a2b36a1251ba752157679fa3561df0577a136e54') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '44e863388c5913f0fc765d67337b27e61db67ff348347aeea29983a4ce3c3c6d1d5903e377b5690d43ed35c42870bed5d065083f38413f4ce89fd51a0b931ea5') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '44e863388c5913f0fc765d67337b27e61db67ff348347aeea29983a4ce3c3c6d1d5903e377b5690d43ed35c42870bed5d065083f38413f4ce89fd51a0b931ea5') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:55', '23c59464f1a3c6cff029c45a2f44b368c5c1d9ca63f858a433b3cecc7e52d87a89e62aeafaa55409a8b99695469d9256420f0f352745b8217be622e882ca0cdb', '2010-08-25 17:39:55', 'joao', NULL, 'KojipMbfylPXtUyRhVVR', '809351b66150cc714a36205715a1bff79027435e156f2c85205f583e25189f9f58eacf171e3e9febfa20bdb5a2b36a1251ba752157679fa3561df0577a136e54', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 3, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where user_id = 3[0m
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5b9aae82cac04aadd1fa5f23fedbb3dffdcb6542b859efa49553eaf374709e63b6f49dd7aaa198a4c18294a365926742129cc80b4e527259df988a564f9bd954') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '809351b66150cc714a36205715a1bff79027435e156f2c85205f583e25189f9f58eacf171e3e9febfa20bdb5a2b36a1251ba752157679fa3561df0577a136e54') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '809351b66150cc714a36205715a1bff79027435e156f2c85205f583e25189f9f58eacf171e3e9febfa20bdb5a2b36a1251ba752157679fa3561df0577a136e54') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:39:55', '9818ed5b502cab4f69de8b5323eb2f215cbbed8648c9ab608e59a8162557fa2207ef6df5a74a8b3e7547b518b02144d5b454054324dcd436349223297232bd1e', '2010-08-25 17:39:55', 'joao', NULL, 'R53SrMHP14NNkQzCqBG', '5b9aae82cac04aadd1fa5f23fedbb3dffdcb6542b859efa49553eaf374709e63b6f49dd7aaa198a4c18294a365926742129cc80b4e527259df988a564f9bd954', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 2, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:39:55', '2010-08-25 17:39:55', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from opinions where user_id = 4[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2d1527d160331e37135e05fa3a1de28082ac5b866b7a3b19632ba94e6f6a4bc28c2d264b382a461ee566d6125ccdc419162e03a9b69366a11d9613eb058628bf') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:41:26', '80941b92220e8f45ae07235ff4fb76338a5a77bf198867646c8d80fd63efc6ccef36fd7b15ea7633e0884e6980cb9f4ba5b28c80199170427735819ce9b01ece', '2010-08-25 17:41:26', 'admin', NULL, '7ZZdRwged367haR2zF4', '2d1527d160331e37135e05fa3a1de28082ac5b866b7a3b19632ba94e6f6a4bc28c2d264b382a461ee566d6125ccdc419162e03a9b69366a11d9613eb058628bf', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (62.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 2, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 2[0m
  [4;35;1mSQL (68.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 3, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 3[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ffedbde71b439be830fa56c782bcb1ea6be9fb261cf46d7b88febeb8092da8fc8139b8615ff26c0218b6aad0544e98f042e98a5a647666d18d081a10239e1d38') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:41:26', '434f7207b0f3a41179607c7da960a94f5a6797973db963aa0f28b27467bbb34f134cdecbeffdedbfcf392849d249756299c70d8c2adcf8046b3f42babb7a5e9c', '2010-08-25 17:41:26', 'joao', NULL, 'ZUy1LmJJWSGMnsuLreRj', 'ffedbde71b439be830fa56c782bcb1ea6be9fb261cf46d7b88febeb8092da8fc8139b8615ff26c0218b6aad0544e98f042e98a5a647666d18d081a10239e1d38', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 2, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (15.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;36;1mSQL (52.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7c7e3ae80c25f799e8ca6a260a37549c347415f02093898ac79a5369308efad6f255d9ba87bffba5ab244efb66bd57e7de948f5afd37dffdec5e40cc6ed17770') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ffedbde71b439be830fa56c782bcb1ea6be9fb261cf46d7b88febeb8092da8fc8139b8615ff26c0218b6aad0544e98f042e98a5a647666d18d081a10239e1d38') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ffedbde71b439be830fa56c782bcb1ea6be9fb261cf46d7b88febeb8092da8fc8139b8615ff26c0218b6aad0544e98f042e98a5a647666d18d081a10239e1d38') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:41:26', '79af4cc2a2ba7c9e272395d1eda8e964ca495ff47fa4037d77b7eb6c3a8f2cf0f41b6c2e1e43640886165e7f45bb69eccc1161ec0838b4db6c7cf1618eeffff0', '2010-08-25 17:41:26', 'joao', NULL, 'JxkOP1s00DICqh9JNA9R', '7c7e3ae80c25f799e8ca6a260a37549c347415f02093898ac79a5369308efad6f255d9ba87bffba5ab244efb66bd57e7de948f5afd37dffdec5e40cc6ed17770', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 3, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2599f36ad71053977db591ebcf7a1f65363fbaf12e25652708ec975a4235e1fbbd014a24a1b23775248b4aaa334f96fdb5cc3ec8efd349aa6108c879719482a7') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7c7e3ae80c25f799e8ca6a260a37549c347415f02093898ac79a5369308efad6f255d9ba87bffba5ab244efb66bd57e7de948f5afd37dffdec5e40cc6ed17770') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7c7e3ae80c25f799e8ca6a260a37549c347415f02093898ac79a5369308efad6f255d9ba87bffba5ab244efb66bd57e7de948f5afd37dffdec5e40cc6ed17770') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 17:41:26', '1890d453daf01341217adbaf3e7d867a59c5e89df8dbf3a9490da524da8edc437e95ea4ec99dae1bb1f4b4ff615bac847320ce25f8dc5c0e73208550fb47ebed', '2010-08-25 17:41:26', 'joao', NULL, 'm6CbrFK9Ut0GdThaJ0Ys', '2599f36ad71053977db591ebcf7a1f65363fbaf12e25652708ec975a4235e1fbbd014a24a1b23775248b4aaa334f96fdb5cc3ec8efd349aa6108c879719482a7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 2, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 17:41:26', '2010-08-25 17:41:26', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '61e985db17382d964773d839911ea3c0aa4e5d1d088cf71a5a6f948c7861611d2728506c8f19175645dd9c1b1aba3740c8f3750fd65a8ffccb365778f55c46f7') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:00:59', 'ad4ba7479de6ac99cef8099947b2822a1b304659f02389fbf20bfbb708ec837604f537d6f6a4c21cb09bf846079e8901df178b2e6a339b83a144c15835ff1df6', '2010-08-25 18:00:59', 'admin', NULL, '7gmVaQBiHVj5jPUWNLG', '61e985db17382d964773d839911ea3c0aa4e5d1d088cf71a5a6f948c7861611d2728506c8f19175645dd9c1b1aba3740c8f3750fd65a8ffccb365778f55c46f7', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (69.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (56.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (56.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c27247aceca4b7fa8fab5bfb56c399deb7dcb461a3500a77f13b3ce70280fd7641c3d9f7fe5a5d42df59c6f0e4d908eddb616c1219c4c279a9b86c27ab3c9ea9') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:00:59', 'e0a040c5adea49182eb8d6fc5f6c21e901eb471412c6c0fa3d8c1399e0a2ece23f51e2469fe8275a9ede0b600f8dcc409ddb8e264175cbb5fd8b36f27b961b90', '2010-08-25 18:00:59', 'joao', NULL, 'rdwUfoDE8iOUqX75PC0N', 'c27247aceca4b7fa8fab5bfb56c399deb7dcb461a3500a77f13b3ce70280fd7641c3d9f7fe5a5d42df59c6f0e4d908eddb616c1219c4c279a9b86c27ab3c9ea9', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a6b4a5419c1d9937358e458c3e2fc9de7873080abc22b2747a09ca4176584db81eeda74851b6e1929902aa0b33b0655028ebd52e226250f5d558d3b0b826d8ce') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c27247aceca4b7fa8fab5bfb56c399deb7dcb461a3500a77f13b3ce70280fd7641c3d9f7fe5a5d42df59c6f0e4d908eddb616c1219c4c279a9b86c27ab3c9ea9') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c27247aceca4b7fa8fab5bfb56c399deb7dcb461a3500a77f13b3ce70280fd7641c3d9f7fe5a5d42df59c6f0e4d908eddb616c1219c4c279a9b86c27ab3c9ea9') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:00:59', 'd44537f94e199fa9d2f905a4840c99bee4566b571caf0747b53e5437213593711c5f09ac1e7818f8cb38e4699d9ad6a618d6fc76c356e67fe2113911c452ec42', '2010-08-25 18:00:59', 'joao', NULL, '5dRw2UzTMedIQbYvHL8Q', 'a6b4a5419c1d9937358e458c3e2fc9de7873080abc22b2747a09ca4176584db81eeda74851b6e1929902aa0b33b0655028ebd52e226250f5d558d3b0b826d8ce', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 3, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (67.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '55caca48b9c4042586df0023eff30ce6fe9bfbd190e38cc176b8c61714a76e24516062dac193babeb083aeb23b3db0469c0bd50db8672e8ae18a11d5087b410b') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a6b4a5419c1d9937358e458c3e2fc9de7873080abc22b2747a09ca4176584db81eeda74851b6e1929902aa0b33b0655028ebd52e226250f5d558d3b0b826d8ce') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a6b4a5419c1d9937358e458c3e2fc9de7873080abc22b2747a09ca4176584db81eeda74851b6e1929902aa0b33b0655028ebd52e226250f5d558d3b0b826d8ce') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:00:59', 'fbf816349c4ac84560a4235b518b88021f34f5ca70b3ca0924caa558804aa127493849a8877456509d20c76126e6bf552b7d9e99d625e5c9f227e777b0a69503', '2010-08-25 18:00:59', 'joao', NULL, 'bSWpfXUyIUMmw63any', '55caca48b9c4042586df0023eff30ce6fe9bfbd190e38cc176b8c61714a76e24516062dac193babeb083aeb23b3db0469c0bd50db8672e8ae18a11d5087b410b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 4, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mOpinion Create (1.0ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:00:59', '2010-08-25 18:00:59', 1, 2, 7)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (42.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '72c49db8dbba473ccb2df62e528de139430c96065eacf33e092da25aa412db93738e529d3a5135071748b731e2aa10907b4a266124ff55153bd553d479912637') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:02:45', '64a827eec7ad63be4b2d7a2855ba12069049af0b8e9c4fe47b7415c0634d4e37f13210ef9ee71c5b533395e6de6848a0e4405b4006b1305a93a0bf9cca268d49', '2010-08-25 18:02:45', 'admin', NULL, 'nnRoKCzDBEteTBMNldtO', '72c49db8dbba473ccb2df62e528de139430c96065eacf33e092da25aa412db93738e529d3a5135071748b731e2aa10907b4a266124ff55153bd553d479912637', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (64.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (76.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (36.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 3)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (40.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '88f3a00f108854225f5c85dd851138544bbaf147f06b76082baf7c234410825463df5615c3869a986f0bb8bc5bc8f75827d2a021f94c1d0106141d954701f439') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:02:45', '2a140cffa922ab8833b6b132350cf2ddf2df15c61a1c6fb3a1607873712880e6a198c337d62478e18a37a58eaa3daa4929e3bb1f6c76a4463743998e2cc4cbed', '2010-08-25 18:02:45', 'joao', NULL, 'Ru91sOUxoeZcvgewhpr', '88f3a00f108854225f5c85dd851138544bbaf147f06b76082baf7c234410825463df5615c3869a986f0bb8bc5bc8f75827d2a021f94c1d0106141d954701f439', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 2, 'teste')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (42.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3dcb5acc8a8982cac7eb2fffe31331f525cdc5661a9ecb701a4e43e609ec84a017a9ce3a0e706bd4afe8c78304cc8070abc5ff6c22b96dec0d6871be152da880') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88f3a00f108854225f5c85dd851138544bbaf147f06b76082baf7c234410825463df5615c3869a986f0bb8bc5bc8f75827d2a021f94c1d0106141d954701f439') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88f3a00f108854225f5c85dd851138544bbaf147f06b76082baf7c234410825463df5615c3869a986f0bb8bc5bc8f75827d2a021f94c1d0106141d954701f439') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:02:45', '8f81ba69a59846ccedf992288ab5033e4c942908d4059115d13e600cd7769922acb5814182ced6286cbd00b496786e4e160bd82e661cde37ee7f074a2b0894dc', '2010-08-25 18:02:45', 'joao', NULL, 'e0hdIgSJ0Q8qJ1r3nLV', '3dcb5acc8a8982cac7eb2fffe31331f525cdc5661a9ecb701a4e43e609ec84a017a9ce3a0e706bd4afe8c78304cc8070abc5ff6c22b96dec0d6871be152da880', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (55.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '33ffb3b36a447d1dc9d5783ab874c94bacaebb36b45ef89b3b408c7124a0fba4b55310e0335d1ae01af321d1b6a34cfb45ee5378f92e0479c34de8d670198ecf') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3dcb5acc8a8982cac7eb2fffe31331f525cdc5661a9ecb701a4e43e609ec84a017a9ce3a0e706bd4afe8c78304cc8070abc5ff6c22b96dec0d6871be152da880') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3dcb5acc8a8982cac7eb2fffe31331f525cdc5661a9ecb701a4e43e609ec84a017a9ce3a0e706bd4afe8c78304cc8070abc5ff6c22b96dec0d6871be152da880') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:02:45', '8a8546083cd4edf2bbaab96e414d328364db044ccf3da52dd215f99a3bf67a3caed0d5fa0c95749ddaa90562b6e356a8160968f8d27738c3ee17a14fa050a34d', '2010-08-25 18:02:45', 'joao', NULL, 'zfzBGWmezMnENnzot6by', '33ffb3b36a447d1dc9d5783ab874c94bacaebb36b45ef89b3b408c7124a0fba4b55310e0335d1ae01af321d1b6a34cfb45ee5378f92e0479c34de8d670198ecf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:02:45', '2010-08-25 18:02:45', 1, 2, 7)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '751b1054fa0953ec039a22b275c726b175586a1f3b34958726df50a7686125bc0a38ff07f2f8742602adb856dc6ac37457cf79ef10c7a06ca6d2563c5621d747') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:05:16', '2f3f4d8b6bacb8428bc165125655df72ffb7581b120521abbd0e1486f281ae55b1dbee0957cb7b2f61581f994bb0a364a9d3ef37bf00accaf0871e953dedbdbb', '2010-08-25 18:05:16', 'admin', NULL, '4uV1kuXaSZ5yzePGjB2H', '751b1054fa0953ec039a22b275c726b175586a1f3b34958726df50a7686125bc0a38ff07f2f8742602adb856dc6ac37457cf79ef10c7a06ca6d2563c5621d747', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (77.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:16', '2010-08-25 18:05:16', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:16', '2010-08-25 18:05:16', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (41.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8e7b5a293848c1109149de5d9cd62cec43d51457abbfc63d3d8900a9c68487ba31be28692c18feba3d5eae36223d4bc88b7286fe5e87ba61e9f56b3eb81a0287') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:05:17', '4e85adf898c24467c0b4d27cc2819849aaa711c8b865c937be27276b216d8d718eb89949e8a1e30e1faaff824d72b33114d9af682aaea8f058df0da5891569b2', '2010-08-25 18:05:17', 'joao', NULL, 'ZpZlAGdUi2ruA9S8DpqW', '8e7b5a293848c1109149de5d9cd62cec43d51457abbfc63d3d8900a9c68487ba31be28692c18feba3d5eae36223d4bc88b7286fe5e87ba61e9f56b3eb81a0287', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (49.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8f35a612d36fc7f7216929e422945769ebe09a34a66e4be1f2612fab18d09b1e5187c9357a296f7cf7360a4778ea19756f74fd4fc4b5899be3eb84f941d0f4e2') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8e7b5a293848c1109149de5d9cd62cec43d51457abbfc63d3d8900a9c68487ba31be28692c18feba3d5eae36223d4bc88b7286fe5e87ba61e9f56b3eb81a0287') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8e7b5a293848c1109149de5d9cd62cec43d51457abbfc63d3d8900a9c68487ba31be28692c18feba3d5eae36223d4bc88b7286fe5e87ba61e9f56b3eb81a0287') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:05:17', '74d02016ee95da5a7fb32aaf62268f4c773ef27f5bfb766e8176446af9dd92e9dce4dd29fe7ce5c377bdf9198576e9de5b8c9ec72954bbb328d1dee68bd0be83', '2010-08-25 18:05:17', 'joao', NULL, 'Cx7sYYN73TAHUXSjr5K0', '8f35a612d36fc7f7216929e422945769ebe09a34a66e4be1f2612fab18d09b1e5187c9357a296f7cf7360a4778ea19756f74fd4fc4b5899be3eb84f941d0f4e2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4d4f52045cd5ca12bf5b1d01044d4cfd192fd9506134599ed03f71d2e0cc59899e41e7d5aad456089798ad4f9407c4847e10f9dd6a1c7cde3ba5b8ffbc5c7c37') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8f35a612d36fc7f7216929e422945769ebe09a34a66e4be1f2612fab18d09b1e5187c9357a296f7cf7360a4778ea19756f74fd4fc4b5899be3eb84f941d0f4e2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8f35a612d36fc7f7216929e422945769ebe09a34a66e4be1f2612fab18d09b1e5187c9357a296f7cf7360a4778ea19756f74fd4fc4b5899be3eb84f941d0f4e2') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:05:17', 'c81c836299337251685abdffc0af0fc61bca517850e5979febe1a7b05b214d6dbfc99e5c8fe495a70c24804846e90e9fb38800456b13e655382ba1855745bb2f', '2010-08-25 18:05:17', 'joao', NULL, '9MmBolPz4ao7uU0wfT7', '4d4f52045cd5ca12bf5b1d01044d4cfd192fd9506134599ed03f71d2e0cc59899e41e7d5aad456089798ad4f9407c4847e10f9dd6a1c7cde3ba5b8ffbc5c7c37', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:05:17', '2010-08-25 18:05:17', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (42.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1543ffa612e4270e755a137df802d459b864f1df5bf3e3e55004533d28f0204f3fe08d0c5317088a7e58bd8bbf1d23df671d0a882a29d39a0ddde1b3235e905a') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:25', '494ad484564cbf5969d359bcb370f15f9f0f822da1342288f7a70a4120b23fb357e03aa4616017b9d0bdb9a2ca2e79fa013e76ca3cc23ec7bed53281fd3bb37e', '2010-08-25 18:06:25', 'admin', NULL, 'BnlSGUyYspH04VbhZFCM', '1543ffa612e4270e755a137df802d459b864f1df5bf3e3e55004533d28f0204f3fe08d0c5317088a7e58bd8bbf1d23df671d0a882a29d39a0ddde1b3235e905a', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (72.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (71.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (51.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (60.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8c881c316d308e3a4c23c2be6d9e82e391fe27cf66dcaf57e562cb89aae7af01f87a899892b9f1588e7881eded247e22c6552806f243d593c1a89339af554d49') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:26', '88123681a04b129fc48d5b1ff58d4a91a4d8377fd8f6214dc60c5021d2f574daf3a7b69b5416ab0a9e16ea0ad9b64dfc5d8d0b91419110798d4d29e079bb7542', '2010-08-25 18:06:26', 'joao', NULL, 'bj4EFKJOnMosuUdWWGC', '8c881c316d308e3a4c23c2be6d9e82e391fe27cf66dcaf57e562cb89aae7af01f87a899892b9f1588e7881eded247e22c6552806f243d593c1a89339af554d49', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a0928ecfe1606e14faf131f5a8c5d12cd3647294104d77c34049be19b8c78236e4a6e29a50d5a0bf0e145eca46bf16432ff2352d9aaa590eb095ddb783024152') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8c881c316d308e3a4c23c2be6d9e82e391fe27cf66dcaf57e562cb89aae7af01f87a899892b9f1588e7881eded247e22c6552806f243d593c1a89339af554d49') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8c881c316d308e3a4c23c2be6d9e82e391fe27cf66dcaf57e562cb89aae7af01f87a899892b9f1588e7881eded247e22c6552806f243d593c1a89339af554d49') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:26', '4554a1da7a68fbd5a38390d777333a9d2dab1c16456ddbff15b30156e6a918bb8ea472ad1135ebc8ebff2a255395e05ddc75502ae1000d8a2927c57f9b422d0a', '2010-08-25 18:06:26', 'joao', NULL, 'yim39RfNcEya2hWcpHk', 'a0928ecfe1606e14faf131f5a8c5d12cd3647294104d77c34049be19b8c78236e4a6e29a50d5a0bf0e145eca46bf16432ff2352d9aaa590eb095ddb783024152', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6fa22ce6ab3b8f0fbf17b6fd7c4c15ef957933e692689965cf09c5a6006c764ab2bb488bc19348c92bcb4c8d3aaf55572c7a8689aafad868cc88ab790b2f3150') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a0928ecfe1606e14faf131f5a8c5d12cd3647294104d77c34049be19b8c78236e4a6e29a50d5a0bf0e145eca46bf16432ff2352d9aaa590eb095ddb783024152') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a0928ecfe1606e14faf131f5a8c5d12cd3647294104d77c34049be19b8c78236e4a6e29a50d5a0bf0e145eca46bf16432ff2352d9aaa590eb095ddb783024152') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:26', 'd9b4c61f41d4beac6d1157191972c6f01b3bd37ede74c141cf6ff128ece8cb711dd755bef084d745b14ccfef1c3b47941f673f4ad70f5288c331685f84814620', '2010-08-25 18:06:26', 'joao', NULL, 'ZcA42Pmwx9SjdjMlMd2', '6fa22ce6ab3b8f0fbf17b6fd7c4c15ef957933e692689965cf09c5a6006c764ab2bb488bc19348c92bcb4c8d3aaf55572c7a8689aafad868cc88ab790b2f3150', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:26', '2010-08-25 18:06:26', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '76ea2a47ae4666c0bac728c786e3a74411199d83f5e2cf3392c2366c8c0e424a522079079149b42d91960ea8ce9646aaed798ef8a8b10eea0123f22020172e96') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:59', 'd4089c2d162967785f532cdc53e4c3f764ce012d0ef001e215ec7cb3bf683d1e7f13b604ba1946f3c2651293c53bc3172272e66970aecfa89636fa51da378925', '2010-08-25 18:06:59', 'admin', NULL, 'X8DnXHyD55HBBruvQenO', '76ea2a47ae4666c0bac728c786e3a74411199d83f5e2cf3392c2366c8c0e424a522079079149b42d91960ea8ce9646aaed798ef8a8b10eea0123f22020172e96', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (46.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (42.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (3.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (56.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6275abda2b7f4720ee9390ab3b0bbb47bc2b6b62e9c3dab23d884ffed02a28537a1e14c4fcc5819505f2e991df353b149340637a2094cbb5eb9bb5f18059e6ed') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:59', 'f0742ef1fa1e6dfc77859953fe5ed9d91dce4182c259d63b908c5767e0bbbbff593c2d01d205ec3d75ecc646913d7635790e02d228a36d6d3c9998691867f290', '2010-08-25 18:06:59', 'joao', NULL, 'ajoptaLYo30zGH6mQbg', '6275abda2b7f4720ee9390ab3b0bbb47bc2b6b62e9c3dab23d884ffed02a28537a1e14c4fcc5819505f2e991df353b149340637a2094cbb5eb9bb5f18059e6ed', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (3.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ed8a057e7aa5f4e083f0523020174cebf68365f6e676e533198b61e68665f15722987cee2d28dda530c5a9891aaaf87a43c85aeb43d5458500d118c98cd05a94') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6275abda2b7f4720ee9390ab3b0bbb47bc2b6b62e9c3dab23d884ffed02a28537a1e14c4fcc5819505f2e991df353b149340637a2094cbb5eb9bb5f18059e6ed') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6275abda2b7f4720ee9390ab3b0bbb47bc2b6b62e9c3dab23d884ffed02a28537a1e14c4fcc5819505f2e991df353b149340637a2094cbb5eb9bb5f18059e6ed') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:59', '687592ed479240c99134983655d86d0f4e59ec8e8893457e5ab774dc2f381f70bc2660cc8b4577153ca43c6429a559117b81e3f88519cc48fcc0885218bf781f', '2010-08-25 18:06:59', 'joao', NULL, '3CHXEgp4DmxmiC2j5N', 'ed8a057e7aa5f4e083f0523020174cebf68365f6e676e533198b61e68665f15722987cee2d28dda530c5a9891aaaf87a43c85aeb43d5458500d118c98cd05a94', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6ebc5a8e111d6eca7fe743bcbd63a312e98760375674540a5188a9de24fccdfe35796188871fe0501f17ca5663e7db975ec3bd4cc025286b666b6959c813ebfc') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ed8a057e7aa5f4e083f0523020174cebf68365f6e676e533198b61e68665f15722987cee2d28dda530c5a9891aaaf87a43c85aeb43d5458500d118c98cd05a94') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ed8a057e7aa5f4e083f0523020174cebf68365f6e676e533198b61e68665f15722987cee2d28dda530c5a9891aaaf87a43c85aeb43d5458500d118c98cd05a94') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:06:59', '30ba261bb79d3c86dc18ced521d6b25366b425bc10a221ac85c73afe59cc8f2da91f044aad63e49237480d4e8b7572c5b284301e8910e86a11f7e8fed221db8a', '2010-08-25 18:06:59', 'joao', NULL, 'dzd8DQZtwM2suugvwcDb', '6ebc5a8e111d6eca7fe743bcbd63a312e98760375674540a5188a9de24fccdfe35796188871fe0501f17ca5663e7db975ec3bd4cc025286b666b6959c813ebfc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:06:59', '2010-08-25 18:06:59', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '377e49b1dbd26b56ea8017361aaae6a1d35ba652b0e5b312430cb773c7a35cad86d036a9fe6d87fa2fb40cc18a2d85b979cf0104437b225ec48f75ba15e2ad41') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:28', 'b1774137212430172a09ede21c9fe7ad6386886539b3d0a63230d9e5f80a482d7684b7f36552aaa3c51ed5852328be2766162baed276f378d84555425dcacc14', '2010-08-25 18:08:28', 'admin', NULL, 'hNWAHHEkMBwKZ0tk0TaT', '377e49b1dbd26b56ea8017361aaae6a1d35ba652b0e5b312430cb773c7a35cad86d036a9fe6d87fa2fb40cc18a2d85b979cf0104437b225ec48f75ba15e2ad41', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (66.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (40.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5c5e99ba37d5bc3a62dad245d4b7f51d8ace25b462da8e3dfa44b661a79776f9da9dc337f1809a7f8d5909955aef8623e470ca80f2d9befb3d91da914f6a162f') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:28', '0f58207f75eff735ac1795cfba086ab37081b95e4157db5ad26dc9436d67701a7715f73789a3db8eb9d56f96b4ea257e0c34246f2f423f86f14c729ff7a27d5d', '2010-08-25 18:08:28', 'joao', NULL, 'k6NTHI17MokjThHw5Yo', '5c5e99ba37d5bc3a62dad245d4b7f51d8ace25b462da8e3dfa44b661a79776f9da9dc337f1809a7f8d5909955aef8623e470ca80f2d9befb3d91da914f6a162f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3082d406a562033698c7237077301e57ce6149f055f10b4c7fd74886d15795877b3622bd4922df17113d2048c0427fc58e3f8a4f952310d58d4ae5dd71e2539b') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5c5e99ba37d5bc3a62dad245d4b7f51d8ace25b462da8e3dfa44b661a79776f9da9dc337f1809a7f8d5909955aef8623e470ca80f2d9befb3d91da914f6a162f') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5c5e99ba37d5bc3a62dad245d4b7f51d8ace25b462da8e3dfa44b661a79776f9da9dc337f1809a7f8d5909955aef8623e470ca80f2d9befb3d91da914f6a162f') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:28', '0a31def35e521d58d64be5a3fd44cb23071598509de121a6a7d2e62c0624863f2878a86ef0cf1caddb792e2e618d49b2d34fe42bb38f76ae8d0c43457c574eda', '2010-08-25 18:08:28', 'joao', NULL, 'KsHY2lNShWe1X5Auh8', '3082d406a562033698c7237077301e57ce6149f055f10b4c7fd74886d15795877b3622bd4922df17113d2048c0427fc58e3f8a4f952310d58d4ae5dd71e2539b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:28', '2010-08-25 18:08:28', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ec476b339eaffe5bb629e492ab398f4d9a7afbbcb1a92a1fb5c5abb1ed5113c97d13550780346bfbed890fce656e93d5c36b6c79909d2578c6f42874d6758975') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3082d406a562033698c7237077301e57ce6149f055f10b4c7fd74886d15795877b3622bd4922df17113d2048c0427fc58e3f8a4f952310d58d4ae5dd71e2539b') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3082d406a562033698c7237077301e57ce6149f055f10b4c7fd74886d15795877b3622bd4922df17113d2048c0427fc58e3f8a4f952310d58d4ae5dd71e2539b') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:29', '3c7afbc696350a8f6870385155a6581cb5257f6714a9943c9729371d02b96016a1f59b3dabd54c233ba0eb467a8cc8f062d272f1a2a77b9acae65e0ab033ed5c', '2010-08-25 18:08:29', 'joao', NULL, 'hXMOXarU8D5RiYtSqn2B', 'ec476b339eaffe5bb629e492ab398f4d9a7afbbcb1a92a1fb5c5abb1ed5113c97d13550780346bfbed890fce656e93d5c36b6c79909d2578c6f42874d6758975', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:29', '2010-08-25 18:08:29', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:29', '2010-08-25 18:08:29', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:29', '2010-08-25 18:08:29', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:29', '2010-08-25 18:08:29', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:29', '2010-08-25 18:08:29', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (39.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ffca5b60059645b5291f61d85d021af5f1ddd66a50532e7b7b3419960d3b9f78649cb331deef7def7066f1cdd850ef6970456131083e7a8ddeb7f2f26d9073b9') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:49', 'ca3bc6b8f3af51a95cb1b5947b71dc28c2923bfd3fbfbd3b59d4ebc3b19f6e82fe91c59dd8b24a0739eef086c72d8086de3d34dba5e52c41e57cfdca3a16b474', '2010-08-25 18:08:49', 'admin', NULL, 'AdgH3ZuOQZYrDksl6Or', 'ffca5b60059645b5291f61d85d021af5f1ddd66a50532e7b7b3419960d3b9f78649cb331deef7def7066f1cdd850ef6970456131083e7a8ddeb7f2f26d9073b9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (43.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (34.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (28.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3a1533591e52e435661b3b34258ebe643e59ac0dc7e1399f7aadf104d5f29a5c002ec7aa210d2ede34ba2801428d166d2bb237c2698187c0681e2d4b9df1bbf5') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:49', '7943b02f85972f6f641f3ed2772b73f13864655dc874559f80efd8830d53606f5e40cc2bde9a947ec0cbdb74857e2a64e73b9c382d96ed85cdd7db64b9fe8c3e', '2010-08-25 18:08:49', 'joao', NULL, 'zn55hzkOUPrLX0NPGcqW', '3a1533591e52e435661b3b34258ebe643e59ac0dc7e1399f7aadf104d5f29a5c002ec7aa210d2ede34ba2801428d166d2bb237c2698187c0681e2d4b9df1bbf5', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (33.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0208ecff1342fa6ba69b621cb05b7386b0549bda3b1bfe2fec3e37ee57ec6c03825665fff0c1026cf627a9e3060c1fd9138758512a1bb237fa0e19d5e5188461') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3a1533591e52e435661b3b34258ebe643e59ac0dc7e1399f7aadf104d5f29a5c002ec7aa210d2ede34ba2801428d166d2bb237c2698187c0681e2d4b9df1bbf5') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3a1533591e52e435661b3b34258ebe643e59ac0dc7e1399f7aadf104d5f29a5c002ec7aa210d2ede34ba2801428d166d2bb237c2698187c0681e2d4b9df1bbf5') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:49', '2bedad1c6b2b6a116a29c4adac883a0c477cf45acf4948330768a2fb2afe2cccd6e5c8700666e2872c0b1337548178964e73051b433a01e566fb5b2be0e6bd6e', '2010-08-25 18:08:49', 'joao', NULL, 'lS4a7lyfZusStrhFkWri', '0208ecff1342fa6ba69b621cb05b7386b0549bda3b1bfe2fec3e37ee57ec6c03825665fff0c1026cf627a9e3060c1fd9138758512a1bb237fa0e19d5e5188461', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (31.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8c0cd063250ddf90108b31a0da4b57d065f48e98206025c362e5601dc9a80f068c82cd27091e06c006cc823ddadf9a7540a13b1caecbd897689d517a096ff952') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0208ecff1342fa6ba69b621cb05b7386b0549bda3b1bfe2fec3e37ee57ec6c03825665fff0c1026cf627a9e3060c1fd9138758512a1bb237fa0e19d5e5188461') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0208ecff1342fa6ba69b621cb05b7386b0549bda3b1bfe2fec3e37ee57ec6c03825665fff0c1026cf627a9e3060c1fd9138758512a1bb237fa0e19d5e5188461') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:08:49', '2043b87bd8498b2c69a040dd2c29f8eeb2f0902019877fded12b5bf29e68e501f95254265a41d681d33b00d69a58115e43f6b94e473f25e01d049daa49c16c00', '2010-08-25 18:08:49', 'joao', NULL, 'mZM8EQTe1KKHZ532IY9', '8c0cd063250ddf90108b31a0da4b57d065f48e98206025c362e5601dc9a80f068c82cd27091e06c006cc823ddadf9a7540a13b1caecbd897689d517a096ff952', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (47.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:08:49', '2010-08-25 18:08:49', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (40.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1a7bc48709b46ede64e6c354fb3b773c73db295934f28ce8ffee71b0e742c0b58f49e23cc95f073b6a42159c556e9ee63296ba4b0ce4f8905adf62cff1780955') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:09:20', 'f1481617cbed51b7d4cbf14f02cb4b92a4682d9b57a91a82e1f8f2b401c4f08c13d92aba05963fa34144ab862c88566438b10c8bda850284fff3b30cc00ebbc6', '2010-08-25 18:09:20', 'admin', NULL, 'A36ExTnN3wZp7WDrNwGO', '1a7bc48709b46ede64e6c354fb3b773c73db295934f28ce8ffee71b0e742c0b58f49e23cc95f073b6a42159c556e9ee63296ba4b0ce4f8905adf62cff1780955', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (82.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (84.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (66.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (45.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c1aa4976273036a1302c9d51f0d89dbd3f815ac7a40752e5cf1bf51e30a80f587e01ad92a6f7e4635e993772438848d6cfbc4fab45ecb008ca28e852bacae91b') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:09:20', '05dda2b49b51b062f2b7256950864c5fbb6d5255dc8f8b6d29a86abeae12cd2c0c0675e328257907ffa7a66b11de049ef4b8d6f4e4529f53246ce8e88e94e91d', '2010-08-25 18:09:20', 'joao', NULL, 'jKyxmlvSsengmHbozkjw', 'c1aa4976273036a1302c9d51f0d89dbd3f815ac7a40752e5cf1bf51e30a80f587e01ad92a6f7e4635e993772438848d6cfbc4fab45ecb008ca28e852bacae91b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 2, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '994e873c14f607754f4bcc0d738ec38aaba57ac72e9efeb520069f84dfcd31e3306195367978e4ceb021c5796aa56a88d22ea964a94ded378a04ee1b014b495d') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c1aa4976273036a1302c9d51f0d89dbd3f815ac7a40752e5cf1bf51e30a80f587e01ad92a6f7e4635e993772438848d6cfbc4fab45ecb008ca28e852bacae91b') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c1aa4976273036a1302c9d51f0d89dbd3f815ac7a40752e5cf1bf51e30a80f587e01ad92a6f7e4635e993772438848d6cfbc4fab45ecb008ca28e852bacae91b') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:09:20', '318b6e5797c959f1feb43cbc10d88063621260712d4e5011523b78ec8c16fad52e8c72090ceb9d8f1eed05b0a784d1f6f8fc55d155de20ea6e5e94fe3f0e41bc', '2010-08-25 18:09:20', 'joao', NULL, 'aqKokj9RbwCeMGOW241', '994e873c14f607754f4bcc0d738ec38aaba57ac72e9efeb520069f84dfcd31e3306195367978e4ceb021c5796aa56a88d22ea964a94ded378a04ee1b014b495d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:20', '2010-08-25 18:09:20', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6b11a18ddab4b23c55054784da6ff7d5ee70d67ddbf745bcb36c75181ac1c56139502c4989b5597b0b6dea5aedf302acece04888908d7fd1f4efdb75741c9fdc') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '994e873c14f607754f4bcc0d738ec38aaba57ac72e9efeb520069f84dfcd31e3306195367978e4ceb021c5796aa56a88d22ea964a94ded378a04ee1b014b495d') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '994e873c14f607754f4bcc0d738ec38aaba57ac72e9efeb520069f84dfcd31e3306195367978e4ceb021c5796aa56a88d22ea964a94ded378a04ee1b014b495d') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:09:21', '53f82095d971f8789c2cfc7ebe35f7701dcbf9d62d337d53bb8275a6764a9c67aa6e6b2aec540239526d91c0c56ea3f4d740070d950f37a792d4986658c22eaa', '2010-08-25 18:09:21', 'joao', NULL, 'Fv4Q8Qwo54Gz25x9QTt', '6b11a18ddab4b23c55054784da6ff7d5ee70d67ddbf745bcb36c75181ac1c56139502c4989b5597b0b6dea5aedf302acece04888908d7fd1f4efdb75741c9fdc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:09:21', '2010-08-25 18:09:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fe678834010d00139b000f506ae76658f5b18af73f0f04eadebecef7c1a672cfd0db67c7f2c3c2a44c2e450c5b320c16b551be0a0e55ef1bc4321695d023dd03') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:10:51', 'ac99ea86dc6704a0c92c1b378925bd9e3a1f288f348b352bdcf6c44d2deeb3f10269501b13b49846bb5e14394f6ab216509cfdb00cb534decbd04ef29fde6ceb', '2010-08-25 18:10:51', 'admin', NULL, 'wJZpsZHyphCgoUoWxS3w', 'fe678834010d00139b000f506ae76658f5b18af73f0f04eadebecef7c1a672cfd0db67c7f2c3c2a44c2e450c5b320c16b551be0a0e55ef1bc4321695d023dd03', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (63.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (66.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:51', '2010-08-25 18:10:51', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (66.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'af78790efce97d60f964a826bef0878b52db27b5ea636fc903968b2dd75893d7cf2ba056d9ffe1f39a87149248e2214e8fef9330968e22da26297588b6605c14') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:10:52', 'c0ea2f820a7be886a05d7e0c85dceb5921f61f292765bfb8f3d6eb17da5e0e9d2395d396637daba662958a4bef23f4e06154199881883867d3e1b1a9d750c9c0', '2010-08-25 18:10:52', 'joao', NULL, 'oVZ8ZeIFi6WCTme631c', 'af78790efce97d60f964a826bef0878b52db27b5ea636fc903968b2dd75893d7cf2ba056d9ffe1f39a87149248e2214e8fef9330968e22da26297588b6605c14', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (28.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '45e93b75f3f8513e59a7f7bebdc7cddb05d121c9465a47d5ee334453e0b08bb8df9d664d8b0a766b07713b741b910c3bc4aaaeeecfdb2c48ebf882f26d8f8756') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af78790efce97d60f964a826bef0878b52db27b5ea636fc903968b2dd75893d7cf2ba056d9ffe1f39a87149248e2214e8fef9330968e22da26297588b6605c14') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af78790efce97d60f964a826bef0878b52db27b5ea636fc903968b2dd75893d7cf2ba056d9ffe1f39a87149248e2214e8fef9330968e22da26297588b6605c14') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:10:52', '07c0891c6a0af35a7a05cac31c642ad29279c9370aa92f143c41dfc6a749ea9b6089126cc87b46b1ddb571fd46892645b48f8a339bcededed048f6abea0ebdc1', '2010-08-25 18:10:52', 'joao', NULL, 'Qn2IMfEZISkuaj1wWT5', '45e93b75f3f8513e59a7f7bebdc7cddb05d121c9465a47d5ee334453e0b08bb8df9d664d8b0a766b07713b741b910c3bc4aaaeeecfdb2c48ebf882f26d8f8756', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 3, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (37.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7ce53b834f719bca24420654861648b681d63bbe58503cfd007d5d4e1c7fe44bee45b3279aada8af990c32520f13dbdcf882d139d0f172093450965e6dd859e2') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '45e93b75f3f8513e59a7f7bebdc7cddb05d121c9465a47d5ee334453e0b08bb8df9d664d8b0a766b07713b741b910c3bc4aaaeeecfdb2c48ebf882f26d8f8756') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '45e93b75f3f8513e59a7f7bebdc7cddb05d121c9465a47d5ee334453e0b08bb8df9d664d8b0a766b07713b741b910c3bc4aaaeeecfdb2c48ebf882f26d8f8756') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:10:52', '8ba2dde36773df49af03a3f6fda7b175bce25d2f90ec4cb7cc221181cdf4df9d182ce83ab58c6395e5b702e2c895f1f3593908301fc9c09d5d1249c364119efc', '2010-08-25 18:10:52', 'joao', NULL, 'bkIB0HJUhyS4HTvxGv96', '7ce53b834f719bca24420654861648b681d63bbe58503cfd007d5d4e1c7fe44bee45b3279aada8af990c32520f13dbdcf882d139d0f172093450965e6dd859e2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:10:52', '2010-08-25 18:10:52', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (40.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bbb809d1259195860cfddb021793ceeeaaff29efb05ba51d92908e36d7fde843bae2b0533adca4896a8e029f1c382f3480caf66ad25a0d893e15662bd7124e16') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:12:31', '3a2635d1a9b43c5a51987ab838e67db7ee8fa2f692707cf0ec9b3464ea2e125216a4e29508c0111d9d710ccbbe8c119c25dad48afe957661c48d2df04ac22b88', '2010-08-25 18:12:31', 'admin', NULL, 'exaaUlihFr0ayitFyuI', 'bbb809d1259195860cfddb021793ceeeaaff29efb05ba51d92908e36d7fde843bae2b0533adca4896a8e029f1c382f3480caf66ad25a0d893e15662bd7124e16', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (89.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (60.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (59.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c4a48ddb8b81facf8328f7f155334aea10191a5d06ec093940fffaf537725393c9b4710f17c25d555230f97dcfadf0fdbd4801160bef7b5c01f3d371965992c4') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:12:31', 'd779fff9515fc6eb17988f2d4fc5993203a6e6b6593457a8c0f9f246953060e720b000234aa202b31435b51923f51394568d119eb75c29ced9d640623a2d058f', '2010-08-25 18:12:31', 'joao', NULL, '8bPO2wnKQ6KvfwJIRu5', 'c4a48ddb8b81facf8328f7f155334aea10191a5d06ec093940fffaf537725393c9b4710f17c25d555230f97dcfadf0fdbd4801160bef7b5c01f3d371965992c4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2cca4a0203dabe1d25cfe55f95a58377659471b6130de4ec5605ffbf2cdda061ae2b0947a9c9335715eb40a269f3b540f0f19ba9e60bb45c4a18fa71bf36d45f') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c4a48ddb8b81facf8328f7f155334aea10191a5d06ec093940fffaf537725393c9b4710f17c25d555230f97dcfadf0fdbd4801160bef7b5c01f3d371965992c4') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c4a48ddb8b81facf8328f7f155334aea10191a5d06ec093940fffaf537725393c9b4710f17c25d555230f97dcfadf0fdbd4801160bef7b5c01f3d371965992c4') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:12:31', '8730be94c2d6e0b7da48ead2a496c61a2ab7e09c9c92a133b6390379cfe42fad2ed4956154444237c2f969c10397d7a666946c3b44ddd55800ab5663a0d4abb9', '2010-08-25 18:12:31', 'joao', NULL, 'sUuoe3YX29kDo8SphalC', '2cca4a0203dabe1d25cfe55f95a58377659471b6130de4ec5605ffbf2cdda061ae2b0947a9c9335715eb40a269f3b540f0f19ba9e60bb45c4a18fa71bf36d45f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6d9523f33161e94dcd8dcf7c5077e8998b6c8906605f5a4d58a4150053613be16b7b5709d895ef5929699284a78e67af1cee741396f22ebe6e0853c6a2196690') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2cca4a0203dabe1d25cfe55f95a58377659471b6130de4ec5605ffbf2cdda061ae2b0947a9c9335715eb40a269f3b540f0f19ba9e60bb45c4a18fa71bf36d45f') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2cca4a0203dabe1d25cfe55f95a58377659471b6130de4ec5605ffbf2cdda061ae2b0947a9c9335715eb40a269f3b540f0f19ba9e60bb45c4a18fa71bf36d45f') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:12:31', '0457cc2a13c74f9cb70ab6784939667516b0e840d33a41b83736fe2fa3f51ce2d6bd1ab646ed820a0ebd1b335401ccd7bd3e3f2744923030bc1fc1d1522f07fc', '2010-08-25 18:12:31', 'joao', NULL, 'BK8DG0hJIPsI7MPqsM', '6d9523f33161e94dcd8dcf7c5077e8998b6c8906605f5a4d58a4150053613be16b7b5709d895ef5929699284a78e67af1cee741396f22ebe6e0853c6a2196690', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:12:31', '2010-08-25 18:12:31', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3f6036da13cf7a8bd76747beff6c3227894c8d98a3ac9e90100b7771a04921003bfe641ed1aba80f6776c3e88b18133200c46276bf24949b74f76554d24e8b7f') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:13:19', '2261fb8624dbf8db8603fdaa8fb0c895c19ffeb0c7cc6ce7884ec9baa768479e2d25d4495d8df787bd458ee6f41f9b57f29266c7733b650b954dc58f68414cab', '2010-08-25 18:13:19', 'admin', NULL, 'MfvF8VSUx6bARTok78L', '3f6036da13cf7a8bd76747beff6c3227894c8d98a3ac9e90100b7771a04921003bfe641ed1aba80f6776c3e88b18133200c46276bf24949b74f76554d24e8b7f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (57.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:19', '2010-08-25 18:13:19', 1, 'teste')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7a900c5d39451ba4890e3cd11695c163f682fc22ce94c878a06e71e6ce94d26fdf526201268fe7781bcb56d31b287b6db0fe4b0b00b0572a182f982a577ae88c') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:13:20', '9ed631cc4bd37b189ca6e3fdde068cddeedfd023fdeb440fb2825cfb59506a3146525a4e904522115a44cb2ee5a7c17b8b1e38de3d595bd7c7f37e0170a7d7b6', '2010-08-25 18:13:20', 'joao', NULL, 'BMIs2Q9dDDGW7SEyqJ', '7a900c5d39451ba4890e3cd11695c163f682fc22ce94c878a06e71e6ce94d26fdf526201268fe7781bcb56d31b287b6db0fe4b0b00b0572a182f982a577ae88c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dbf70304d5e30753eaecca9af1dc5913a9592b7ca2921e162bf14a2ddc58522186d0d4589a6f0d0f5923be9ca9c72439e3610c273ef0d9bb8568e9e41adcae58') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7a900c5d39451ba4890e3cd11695c163f682fc22ce94c878a06e71e6ce94d26fdf526201268fe7781bcb56d31b287b6db0fe4b0b00b0572a182f982a577ae88c') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7a900c5d39451ba4890e3cd11695c163f682fc22ce94c878a06e71e6ce94d26fdf526201268fe7781bcb56d31b287b6db0fe4b0b00b0572a182f982a577ae88c') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:13:20', 'c326925737001944b0bc7a9abc16c5ae13f1a1c0b6bf7e156f04ecd430af0ff40e9d47464adb1973fca289b5cd0fb5284552e447adcbbd750d67d38a4f858be1', '2010-08-25 18:13:20', 'joao', NULL, 'hPiTcJBXUzkjNZ2DWP4p', 'dbf70304d5e30753eaecca9af1dc5913a9592b7ca2921e162bf14a2ddc58522186d0d4589a6f0d0f5923be9ca9c72439e3610c273ef0d9bb8568e9e41adcae58', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6d21a3713c89bd136c6734b5df361d1daddcab19ab7f3f095413e9bb160eeebcf6565ef3e3b94ec98055433bdb17a6d1bbd512292ad71370268e17cb2ff7b799') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'dbf70304d5e30753eaecca9af1dc5913a9592b7ca2921e162bf14a2ddc58522186d0d4589a6f0d0f5923be9ca9c72439e3610c273ef0d9bb8568e9e41adcae58') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'dbf70304d5e30753eaecca9af1dc5913a9592b7ca2921e162bf14a2ddc58522186d0d4589a6f0d0f5923be9ca9c72439e3610c273ef0d9bb8568e9e41adcae58') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:13:20', 'a6296ac5cee521d9626277bb6653924057ccad9556c0d3dbe709a501aa459b31b7bcf165d3b0ca3fded81f2a9e73c44804e720833dc2cb3b38ff859b6477d1c1', '2010-08-25 18:13:20', 'joao', NULL, '4MJnzKnuuypNic2GLRR4', '6d21a3713c89bd136c6734b5df361d1daddcab19ab7f3f095413e9bb160eeebcf6565ef3e3b94ec98055433bdb17a6d1bbd512292ad71370268e17cb2ff7b799', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:13:20', '2010-08-25 18:13:20', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (54.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '282f55e383cf2b0d90eb8edef5073cb0d22c9ea1e535f092e5916b23044721e110372222a1b0e70c3b4aeef1840c7fdbdbfb2cfe1fcc3b1c3bdd579b05f54e69') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:14:52', '2cfae84dbd048b370542aae8a64db66d6657ae77edc2de9c48aae20498ce687df41992d4bf76f0a854d55db45f74576e10b4ba3045733a4839c0cc3c2a130078', '2010-08-25 18:14:52', 'admin', NULL, 'Vkm8XF4AmufW9x9R2qA', '282f55e383cf2b0d90eb8edef5073cb0d22c9ea1e535f092e5916b23044721e110372222a1b0e70c3b4aeef1840c7fdbdbfb2cfe1fcc3b1c3bdd579b05f54e69', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (73.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.0ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (46.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8348f804d4e3ab440ac622032516ebe767aaa5feda554bee7bb2a99457302fdd01f36577b5f162122034c9d201e508e21e84ad6d77d9cb8ad7987a87b9209159') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:14:52', 'e3714935a70ea15dea7011b9cc13a0b8acdd949f6fd9bb8f95b11450ab6ee71be8f49450d5d7f37f7ca30d15723fad4f530f2ef6703c8c0bf90901110323a6b6', '2010-08-25 18:14:52', 'joao', NULL, 'PntjxZ2CFEdkssNo2pCY', '8348f804d4e3ab440ac622032516ebe767aaa5feda554bee7bb2a99457302fdd01f36577b5f162122034c9d201e508e21e84ad6d77d9cb8ad7987a87b9209159', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c1a5cac378a180fbdbe165909c1a402155b033586bb07e956c251427a7768d19d98e198b1d9dfa18cebd833aad09342b192dd1a8c83f8f50c4ff4b849de21d77') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8348f804d4e3ab440ac622032516ebe767aaa5feda554bee7bb2a99457302fdd01f36577b5f162122034c9d201e508e21e84ad6d77d9cb8ad7987a87b9209159') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8348f804d4e3ab440ac622032516ebe767aaa5feda554bee7bb2a99457302fdd01f36577b5f162122034c9d201e508e21e84ad6d77d9cb8ad7987a87b9209159') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:14:52', '871dde7e7509dbc7795610ac4b5886870aebac8eae61580f66fd48046bf0d51ef6fbe23f366a78a1c69a74a60c3acef287d659fb6ab95491cb36c91ae42288b5', '2010-08-25 18:14:52', 'joao', NULL, 'wcQWiPkCFFYjpZkrpwj', 'c1a5cac378a180fbdbe165909c1a402155b033586bb07e956c251427a7768d19d98e198b1d9dfa18cebd833aad09342b192dd1a8c83f8f50c4ff4b849de21d77', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:52', '2010-08-25 18:14:52', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (45.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9f8ef192b31e1845ee9f51813a252a1618d6dfcd28626a75b2c33e18e387f55f8454c62929059cc9f74c883f87906262e6f934a44b05f3260dafca934fff9de6') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c1a5cac378a180fbdbe165909c1a402155b033586bb07e956c251427a7768d19d98e198b1d9dfa18cebd833aad09342b192dd1a8c83f8f50c4ff4b849de21d77') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c1a5cac378a180fbdbe165909c1a402155b033586bb07e956c251427a7768d19d98e198b1d9dfa18cebd833aad09342b192dd1a8c83f8f50c4ff4b849de21d77') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:14:53', 'a5ef6e0354be4e98518a2a936db35d11c7b2de0942d8a4181a63b8a14f5f4f424e45b134bb3b5dfa09a9c6438bab4b90079140f2ffd51e3e3005320c7b9c386a', '2010-08-25 18:14:53', 'joao', NULL, 'LwLJYVjvfYWRUT4rHXX', '9f8ef192b31e1845ee9f51813a252a1618d6dfcd28626a75b2c33e18e387f55f8454c62929059cc9f74c883f87906262e6f934a44b05f3260dafca934fff9de6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:53', '2010-08-25 18:14:53', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:53', '2010-08-25 18:14:53', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:53', '2010-08-25 18:14:53', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:14:53', '2010-08-25 18:14:53', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:14:53', '2010-08-25 18:14:53', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (56.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '34129f171004d1d058ba8101dc2c46bd0b293869e7ebaca2527c838af0174102166a82e21b56855755d4d6947a8865689d4e9fbc4611cb0ade036d0a4abbb24f') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:19:25', '572e16e223faf2f3eb6c6dc1ec521c232c8b12fb100aae9ebadf1a009cf870ef3cb99503d8eee8e470efc0f42abfad4a8073ee9824ba95ddc8e87edeb8d4177c', '2010-08-25 18:19:25', 'admin', NULL, 'bSIUaYIYDUXpCuO8nrA', '34129f171004d1d058ba8101dc2c46bd0b293869e7ebaca2527c838af0174102166a82e21b56855755d4d6947a8865689d4e9fbc4611cb0ade036d0a4abbb24f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (81.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (40.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '136f118d4e414b9e23172f57bf96631c2e61ace823eeaa0aa6d4504116fdd36537961cb5a78f1773d8b61dd555149efec8bb6d6b2bc2c6b8cdb06cf673adccdf') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:19:25', '1009d0d79b7b807cb1b73957cd5e384b1171b5abcb9f4c6784bdc0f9866c098111065312ffd31e421021a3e715ba435604d962618aa52e87909ea3b56fa3527c', '2010-08-25 18:19:25', 'joao', NULL, '92Z6W9xEVhgRCa8Yn', '136f118d4e414b9e23172f57bf96631c2e61ace823eeaa0aa6d4504116fdd36537961cb5a78f1773d8b61dd555149efec8bb6d6b2bc2c6b8cdb06cf673adccdf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a561a05a40b9caf42219e258825c0a5ac6b072f35b035838ce33b207151e7cb978cfa81ce9205feb5aaabb20d1777516e6f31c516acc8495f73c26a315985b09') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '136f118d4e414b9e23172f57bf96631c2e61ace823eeaa0aa6d4504116fdd36537961cb5a78f1773d8b61dd555149efec8bb6d6b2bc2c6b8cdb06cf673adccdf') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '136f118d4e414b9e23172f57bf96631c2e61ace823eeaa0aa6d4504116fdd36537961cb5a78f1773d8b61dd555149efec8bb6d6b2bc2c6b8cdb06cf673adccdf') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:19:25', 'dc9c3d3ec9d35a74fedb7533428e0510fa592bb0e0c653baa7b00ffeeb0d22de513f5c8375eaf9e29c8cbe133d1a4e16c9782841bfd03603a474c599062db42d', '2010-08-25 18:19:25', 'joao', NULL, 'JvgaeAiUBLenRB927RzX', 'a561a05a40b9caf42219e258825c0a5ac6b072f35b035838ce33b207151e7cb978cfa81ce9205feb5aaabb20d1777516e6f31c516acc8495f73c26a315985b09', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 2, 5)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1dfe93068c7f56d9e5544586c5bb568d6ede0a5019c99c0eb832f0a4a840814727501c36b7c99e799aa38bb0700eff1cd0d9d4009f20441a6fedcbe31624d14e') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a561a05a40b9caf42219e258825c0a5ac6b072f35b035838ce33b207151e7cb978cfa81ce9205feb5aaabb20d1777516e6f31c516acc8495f73c26a315985b09') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a561a05a40b9caf42219e258825c0a5ac6b072f35b035838ce33b207151e7cb978cfa81ce9205feb5aaabb20d1777516e6f31c516acc8495f73c26a315985b09') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:19:25', '8558154cc656eec80e0352ba61602eb97ba25f79708c76e98bdedcdf5bbb7cf5b5913274607bf965f955630de8a0d635833b930aac1777c95fa68b4ddd1fd2f5', '2010-08-25 18:19:25', 'joao', NULL, 'lgOO56feMFeBIhGWOb0', '1dfe93068c7f56d9e5544586c5bb568d6ede0a5019c99c0eb832f0a4a840814727501c36b7c99e799aa38bb0700eff1cd0d9d4009f20441a6fedcbe31624d14e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 4, 'teste')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (53.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:19:25', '2010-08-25 18:19:25', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4b1242502a8eaaa68068d0ba32cc8f251fb2f9ad5f4a3f817a270f51751b5020bca4376b928ef40d7eb56e6e41d1c091b71f6fa8085eee90ab070a1caaaa75b4') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:20:49', 'e0d80d4bb11c632e5a2b07fd2a69fdb8a3b0d57757a5e53967fd364c284100e0d36c81a17b10ad00873e3798c3095dc09827f5cf986a666e32543aa9562ec0d1', '2010-08-25 18:20:49', 'admin', NULL, 'yBD9M2PotxGaU85kI8', '4b1242502a8eaaa68068d0ba32cc8f251fb2f9ad5f4a3f817a270f51751b5020bca4376b928ef40d7eb56e6e41d1c091b71f6fa8085eee90ab070a1caaaa75b4', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (69.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:49', '2010-08-25 18:20:49', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '76190722de240d25ee13c4094f1b23d0ad7a517e71cb1979df107ce2e2d228a6e515dba8d3349c7b646bed6ff83b570559e0907ad23978b83c6f9d5ac4043f98') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:20:50', 'fc77fd79df628266aa12e6db2122a06bc292ee5c0a477347049d265ce3b6d1cbd9260f84e8b4c6ab4533e135bb4706a795547318ac95bec27c366e2246d255b3', '2010-08-25 18:20:50', 'joao', NULL, 'laSCSuy971bAEKnx9BYH', '76190722de240d25ee13c4094f1b23d0ad7a517e71cb1979df107ce2e2d228a6e515dba8d3349c7b646bed6ff83b570559e0907ad23978b83c6f9d5ac4043f98', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (42.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '75aecd5193f917c8bbf6998da5a43506c683dbf89ed2db7046c586900f52c531c4ac6968a94470b9cb11c6681be8520df2cb943481e0fb747a047f72af8926f2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '76190722de240d25ee13c4094f1b23d0ad7a517e71cb1979df107ce2e2d228a6e515dba8d3349c7b646bed6ff83b570559e0907ad23978b83c6f9d5ac4043f98') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '76190722de240d25ee13c4094f1b23d0ad7a517e71cb1979df107ce2e2d228a6e515dba8d3349c7b646bed6ff83b570559e0907ad23978b83c6f9d5ac4043f98') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:20:50', '21eeb31d19ec707a7a3e259b7f56b0200596db29b8b7fe291c433e1c20ecb47afea6a72eb674cf1d13a182c3c1fb3a03b72441a9681bf1dea3f5f1721aff5072', '2010-08-25 18:20:50', 'joao', NULL, 'QKhnnNBmuimp5Sdr4k', '75aecd5193f917c8bbf6998da5a43506c683dbf89ed2db7046c586900f52c531c4ac6968a94470b9cb11c6681be8520df2cb943481e0fb747a047f72af8926f2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (73.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f86c59d7752c90d0535f5743bf5191e7222b2b74e3b6889461c5d5ae4239e395603407777a73026917a4d1fa037f9e20512559cad79f95371c545a306fae1009') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '75aecd5193f917c8bbf6998da5a43506c683dbf89ed2db7046c586900f52c531c4ac6968a94470b9cb11c6681be8520df2cb943481e0fb747a047f72af8926f2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '75aecd5193f917c8bbf6998da5a43506c683dbf89ed2db7046c586900f52c531c4ac6968a94470b9cb11c6681be8520df2cb943481e0fb747a047f72af8926f2') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:20:50', 'fcf0d570197c04cac6f892ccccbbd00d6391ff286e74695e1147e06572a3cec5cd9db742a53fa0b38ad6c6c921567a054b46f270c1331ef5f68f5967c50d5477', '2010-08-25 18:20:50', 'joao', NULL, '5jQ2Io7aNvxFRiTWrCch', 'f86c59d7752c90d0535f5743bf5191e7222b2b74e3b6889461c5d5ae4239e395603407777a73026917a4d1fa037f9e20512559cad79f95371c545a306fae1009', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (52.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:20:50', '2010-08-25 18:20:50', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (39.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7a09169827adcf51a69450e241a3e33c9d70fe6d4652d55f6b00f328c187c96ef8a9b05eafd67a089344afc4b7b1b1b873ea40514612bcc910fc5fab3176bf24') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:21:39', 'd70cb492be0aa6ef971682c6bfad59bcd2f177b117e6ffa0da6e088853a974636caa006c3de5aa829f68d94b790804cd52356e7a2b38bb9fa48b3e467bb80e67', '2010-08-25 18:21:39', 'admin', NULL, 'QZ1pcYhwaKRHJ7tgdQW5', '7a09169827adcf51a69450e241a3e33c9d70fe6d4652d55f6b00f328c187c96ef8a9b05eafd67a089344afc4b7b1b1b873ea40514612bcc910fc5fab3176bf24', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (86.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (56.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (49.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (41.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '19eee4530724d697efe409990e4760b5b76cbf849125d62f7da02ba9a6ab10475dcb7ff0dd6fe07c989087a6e116f1fa2b4b067f6a8e18dee1ce18db50e68a4f') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:21:39', '0afaa7a730d33c645812524cb8aeeffed29ea53dff47d4ae21be14411eaf7aebe44f57fa4a6ee3100adfd2ac9ab91c025f90afd3037222f724159c465268ca9c', '2010-08-25 18:21:39', 'joao', NULL, 'UnRU379KfV8tRjEelRWk', '19eee4530724d697efe409990e4760b5b76cbf849125d62f7da02ba9a6ab10475dcb7ff0dd6fe07c989087a6e116f1fa2b4b067f6a8e18dee1ce18db50e68a4f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0e201901ab4fe5d974fefa8a9982b41a1fa73f8bf6116693a090fdd51aec0221ae8d43df9ff98ac48ba0cae35c3fdfce0ed247b333008b7650360fced1b35768') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '19eee4530724d697efe409990e4760b5b76cbf849125d62f7da02ba9a6ab10475dcb7ff0dd6fe07c989087a6e116f1fa2b4b067f6a8e18dee1ce18db50e68a4f') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '19eee4530724d697efe409990e4760b5b76cbf849125d62f7da02ba9a6ab10475dcb7ff0dd6fe07c989087a6e116f1fa2b4b067f6a8e18dee1ce18db50e68a4f') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:21:39', 'bf7bedce056e206bfef1bc0c6a9f3e51dd7a6376e44288609fc742a48ad807ccb33c508e94ab47c0501125631b024a6dfb57e734af3030fa7d61cbf796fc6ceb', '2010-08-25 18:21:39', 'joao', NULL, 'qcLEOTPuuYpdl6t6lYM', '0e201901ab4fe5d974fefa8a9982b41a1fa73f8bf6116693a090fdd51aec0221ae8d43df9ff98ac48ba0cae35c3fdfce0ed247b333008b7650360fced1b35768', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bcc497295dbd579d57e3c1ce5085efc3e3c4d5b4398f72577c5e44e1994fdb8d05d04e3bc71a7f6613b7989b00a778d3d44ae7647b8b9933707ab86dda07bb4d') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0e201901ab4fe5d974fefa8a9982b41a1fa73f8bf6116693a090fdd51aec0221ae8d43df9ff98ac48ba0cae35c3fdfce0ed247b333008b7650360fced1b35768') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0e201901ab4fe5d974fefa8a9982b41a1fa73f8bf6116693a090fdd51aec0221ae8d43df9ff98ac48ba0cae35c3fdfce0ed247b333008b7650360fced1b35768') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:21:39', 'f19a07fae3ed416f36fdbe892ff6fe85638d01ccb02dea9a28eb6984fe6202e7a70f8335e64a72f29aac42db04bc54a10544c55abb2156cb004537a67a131a77', '2010-08-25 18:21:39', 'joao', NULL, '8y1vhoj1xKj3yUzwMjc', 'bcc497295dbd579d57e3c1ce5085efc3e3c4d5b4398f72577c5e44e1994fdb8d05d04e3bc71a7f6613b7989b00a778d3d44ae7647b8b9933707ab86dda07bb4d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (39.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:21:39', '2010-08-25 18:21:39', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (44.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6f7721fd2b903cce6dd4a9b2a269dd8a987f4af9a6c094dba04d29e834be1cd92ce3fdfe365e4b07934b44409cb134214cd78ba42609931ec249d700ebf71310') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:22:09', '5d3fa262bc1b580b6d51d45dcb02c99631f92b2f6fe18609a8eab3fa39fa5db9cb44595197bffc58323757658f54bb549a5c751cd5fcb2fe935ac38bd28a0b13', '2010-08-25 18:22:09', 'admin', NULL, 'liiwHTRzuzs93dFK0PU', '6f7721fd2b903cce6dd4a9b2a269dd8a987f4af9a6c094dba04d29e834be1cd92ce3fdfe365e4b07934b44409cb134214cd78ba42609931ec249d700ebf71310', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (66.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (62.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (68.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '36ca78ce6e64466b32a0a8c47942bc963d69e67dc29309adf18180eeb5b738fbf291fe3451019f69035c5c41e555c8c86cd127af3f8f9c33e43cd071f4e7d126') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:22:09', 'e5c9131268a18eed86d5de01ad5822c340372b34e36ed8b234fad618c9ca233d79de46e175d683df865383f3cbe66b4c3e38144ff1b89537466ab01bf61f5d29', '2010-08-25 18:22:09', 'joao', NULL, 's0K4WvOdq32vKZSYOIWr', '36ca78ce6e64466b32a0a8c47942bc963d69e67dc29309adf18180eeb5b738fbf291fe3451019f69035c5c41e555c8c86cd127af3f8f9c33e43cd071f4e7d126', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 2, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '97b4137e0db6a0480efdebeb26def2063dd9bfe2f741eb4c9d4403a6daef4d3a47258c8eb56358ee473e4862c4c6ae569bf386e422ffb9634886dba14412328f') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '36ca78ce6e64466b32a0a8c47942bc963d69e67dc29309adf18180eeb5b738fbf291fe3451019f69035c5c41e555c8c86cd127af3f8f9c33e43cd071f4e7d126') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '36ca78ce6e64466b32a0a8c47942bc963d69e67dc29309adf18180eeb5b738fbf291fe3451019f69035c5c41e555c8c86cd127af3f8f9c33e43cd071f4e7d126') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:22:09', '86b4b7d14913d20a04d871ef538b9b63b02e1f5e19d80641cceed96a563c4609afb681a6e86329974fd9d37eca9d290ef644b19e1be01076244a0c0a2d361dc0', '2010-08-25 18:22:09', 'joao', NULL, 'VyIlzLded5JOPh915OA', '97b4137e0db6a0480efdebeb26def2063dd9bfe2f741eb4c9d4403a6daef4d3a47258c8eb56358ee473e4862c4c6ae569bf386e422ffb9634886dba14412328f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:09', '2010-08-25 18:22:09', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (44.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6cc40600fb91a614b674c3bb43e573da0524aa683f1141a15682bc963b2a9d1827f447e2dff736376b1d1272491394ea005ffa2734a75a83b871d63c50ed42e9') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '97b4137e0db6a0480efdebeb26def2063dd9bfe2f741eb4c9d4403a6daef4d3a47258c8eb56358ee473e4862c4c6ae569bf386e422ffb9634886dba14412328f') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '97b4137e0db6a0480efdebeb26def2063dd9bfe2f741eb4c9d4403a6daef4d3a47258c8eb56358ee473e4862c4c6ae569bf386e422ffb9634886dba14412328f') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:22:10', '68243f420b5d679b5a0d95af6819e71ad5b80c1b0b966cd5ec4e6562b5376f84e92ee4884c337804389b0dc8aa1b5949f034d898f9e664b4bb5faefccf39720b', '2010-08-25 18:22:10', 'joao', NULL, 'dInauoHU8DosuLr3y6', '6cc40600fb91a614b674c3bb43e573da0524aa683f1141a15682bc963b2a9d1827f447e2dff736376b1d1272491394ea005ffa2734a75a83b871d63c50ed42e9', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:10', '2010-08-25 18:22:10', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:10', '2010-08-25 18:22:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:10', '2010-08-25 18:22:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:22:10', '2010-08-25 18:22:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:22:10', '2010-08-25 18:22:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (48.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b4c01495e401912663395e175f77b69a4c6bf3f81d07170aacd65f9820fa6b460af50d8d2ae5bbbaa1b73007124d1062cc49c63672982cce48b33e66a6d4eeac') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:25', 'b6b00908395309e11ec6461efe6f7d7e620c1d1c8abd3cd556489c5c13ce2fc4b56dc19ac07dfd05c6853cf75d13b1cda859ccaee4ea363cdc9db11cfa6fc6a9', '2010-08-25 18:23:25', 'admin', NULL, '0R7OzZmlJc3YkyzIHsco', 'b4c01495e401912663395e175f77b69a4c6bf3f81d07170aacd65f9820fa6b460af50d8d2ae5bbbaa1b73007124d1062cc49c63672982cce48b33e66a6d4eeac', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (52.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:25', '2010-08-25 18:23:25', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:25', '2010-08-25 18:23:25', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:25', '2010-08-25 18:23:25', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (27.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6283d36b2416d861cac4d3153aa599cff48c061ba8b13a0a9dfa99175165f3abb44bad2d456356eacf65e419ee88e644f5e007f31875025f88a84e8663287c79') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:26', 'e28456535d4e6483cfb03974dcbc2855a5dc7dc52ec78a210f4fc40c3ecd257bd9bc6f447016af53a2ed108c80165751070324197626aa2e3470e759584479ab', '2010-08-25 18:23:26', 'joao', NULL, 'WiO0knjncN3A5ufXya', '6283d36b2416d861cac4d3153aa599cff48c061ba8b13a0a9dfa99175165f3abb44bad2d456356eacf65e419ee88e644f5e007f31875025f88a84e8663287c79', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4601593f111d777718d6566e4aa6e8ae09e90dd5027d5685ff76ae1ef5cf4fd63f9cb5dda268f72b8cf7dd56b6ee3a86bbdd5f2ffa142de19bd69b789bd30c23') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6283d36b2416d861cac4d3153aa599cff48c061ba8b13a0a9dfa99175165f3abb44bad2d456356eacf65e419ee88e644f5e007f31875025f88a84e8663287c79') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6283d36b2416d861cac4d3153aa599cff48c061ba8b13a0a9dfa99175165f3abb44bad2d456356eacf65e419ee88e644f5e007f31875025f88a84e8663287c79') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:26', 'bc76e29b01eed5fc31178acf5c059d1d50f306b5fc03df125cf6cf8ffcce415052a9399423381db1af26007705dde056f2b410c4635243e583cb01f6ca8857be', '2010-08-25 18:23:26', 'joao', NULL, 'Z6cSM6Y6cJ4b19G1zfc', '4601593f111d777718d6566e4aa6e8ae09e90dd5027d5685ff76ae1ef5cf4fd63f9cb5dda268f72b8cf7dd56b6ee3a86bbdd5f2ffa142de19bd69b789bd30c23', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3a5dedc8a0d14d3d1f3ccacd343d49ab7f97544db08b7bb99b6106dfa1729ed946b4904ddbfe547df6518177ed1abeaad596f937590a9c2006be81dda874e0c6') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4601593f111d777718d6566e4aa6e8ae09e90dd5027d5685ff76ae1ef5cf4fd63f9cb5dda268f72b8cf7dd56b6ee3a86bbdd5f2ffa142de19bd69b789bd30c23') LIMIT 1[0m
  [4;35;1mUser Load (8.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4601593f111d777718d6566e4aa6e8ae09e90dd5027d5685ff76ae1ef5cf4fd63f9cb5dda268f72b8cf7dd56b6ee3a86bbdd5f2ffa142de19bd69b789bd30c23') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:26', '7f39f18cad5c9ec2c1443f028b805cee23a8d1a40f0bbffc7a458756f63200bbdfa35736eae6112162fc43f310f0ccff1c601637c11e83edc86c32b91efd08fc', '2010-08-25 18:23:26', 'joao', NULL, 'YDUrAmOZ6nCE0b6qDcC5', '3a5dedc8a0d14d3d1f3ccacd343d49ab7f97544db08b7bb99b6106dfa1729ed946b4904ddbfe547df6518177ed1abeaad596f937590a9c2006be81dda874e0c6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:26', '2010-08-25 18:23:26', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fc53c4ffc5ce490df1c9e3c94dc891d349be87dd613c96bb7366eabff866e38e50b15a6ddc56665605bc5aabec4dbccb531075f82291c09fa250dcc0dd9f5f87') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:56', '79984b3016b25b75c0638756978f33a30f4db9a4efbc638f73e32e67a28e41d19ce686fc26de2a3235aa00045fb402648f2d834179b416f3a40549df7487ad9d', '2010-08-25 18:23:56', 'admin', NULL, 'kMJhiPP80MldKLXj9qwt', 'fc53c4ffc5ce490df1c9e3c94dc891d349be87dd613c96bb7366eabff866e38e50b15a6ddc56665605bc5aabec4dbccb531075f82291c09fa250dcc0dd9f5f87', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (41.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (46.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (49.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'eaa21ce255ea0dc84c28f5ce4d69771145ceba6874bdb6a907381c389ecab997a19f521631528e9bc317a46231d8c98a73211108791a47a2b43523f612dbb468') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:56', '94ac22abcac3447b4ffdf1385a4d1e63196edb1de4c050a2b1e0cb87204fa2c2d8eceedcb0e7255bde943d0f9ea3150d197a3eed0e135aa9376e23e23c6c260d', '2010-08-25 18:23:56', 'joao', NULL, 'HjONQGg77f59ChstpGyz', 'eaa21ce255ea0dc84c28f5ce4d69771145ceba6874bdb6a907381c389ecab997a19f521631528e9bc317a46231d8c98a73211108791a47a2b43523f612dbb468', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (42.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2f08c4f78bae04c821ef08f4a8dd83e76ae461aa58417d18d76ce806644318db0f55726bff21725775c5d3384c1f71d03e51ef67a8d0f1bd49ef3e727c122c36') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'eaa21ce255ea0dc84c28f5ce4d69771145ceba6874bdb6a907381c389ecab997a19f521631528e9bc317a46231d8c98a73211108791a47a2b43523f612dbb468') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'eaa21ce255ea0dc84c28f5ce4d69771145ceba6874bdb6a907381c389ecab997a19f521631528e9bc317a46231d8c98a73211108791a47a2b43523f612dbb468') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:56', '51ea3385ea58c334dc9df210a0006f8cc634157aacf9693d3ce6b07d1231b0f9fe17fd4a8c649854ff129cb1f1bafe0b373a97b7e242ba213ced9edd062ca5d6', '2010-08-25 18:23:56', 'joao', NULL, 'Pc8iDa34FpVgpgTnzZn', '2f08c4f78bae04c821ef08f4a8dd83e76ae461aa58417d18d76ce806644318db0f55726bff21725775c5d3384c1f71d03e51ef67a8d0f1bd49ef3e727c122c36', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '669df974eee3b037b3bc7a74e81455e75ee209ff9804611964ed1761783c9aea3a631e841787e73109a71433f7edfbf10a8fca20059b5d293c20a36ce77c7ce4') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2f08c4f78bae04c821ef08f4a8dd83e76ae461aa58417d18d76ce806644318db0f55726bff21725775c5d3384c1f71d03e51ef67a8d0f1bd49ef3e727c122c36') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2f08c4f78bae04c821ef08f4a8dd83e76ae461aa58417d18d76ce806644318db0f55726bff21725775c5d3384c1f71d03e51ef67a8d0f1bd49ef3e727c122c36') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 18:23:56', '01ba736ea569251675357fab43fa3275058278617e3f4d9e14c6f6fa1cefcde787fe130dd77a96b7a537705bd230a7315c5f426b1e29bc1bc038690930661940', '2010-08-25 18:23:56', 'joao', NULL, 'QLXcAoXTAqJOKu5JxYA7', '669df974eee3b037b3bc7a74e81455e75ee209ff9804611964ed1761783c9aea3a631e841787e73109a71433f7edfbf10a8fca20059b5d293c20a36ce77c7ce4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 18:23:56', '2010-08-25 18:23:56', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '547ef89b546e22f27b6fd61d6c1b4105fb1704c2ff906a9639901f45f933bc18c611c43025fb1865caf5e5b39725988234579871bcc3256e91aaa4b0ca971fed') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:56:56', '47446fdd8217f151be06629dda8b4a14bd74e4146955e4cc3bef752fd54dd0a40f1b7d2be95e8cca2e48e6d39b06389efb4e1dd5136a5bd227c2dc5698109f71', '2010-08-25 22:56:56', 'admin', NULL, 'GEmEh1xfoVf5VgJ4iESX', '547ef89b546e22f27b6fd61d6c1b4105fb1704c2ff906a9639901f45f933bc18c611c43025fb1865caf5e5b39725988234579871bcc3256e91aaa4b0ca971fed', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (58.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '17e90a0a52876fe64bc36c48cfa5214e98dcdcaff2d67decddc4c471a936882b84aafc08400bcdca2a48a138741e1f91e48ec1dc30ec6074f6b8e3b1b6bb56ce') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:56:56', 'd2add5c46422af84dbdcd575e6d2be9fe3a0e1dfd017eb62e580b47fd66a8a562dca1fc059f63b1577e80c53172153d2e33b5d76004001838cae864fad58ee31', '2010-08-25 22:56:56', 'joao', NULL, '6hpasNa3GO69TIVians9', '17e90a0a52876fe64bc36c48cfa5214e98dcdcaff2d67decddc4c471a936882b84aafc08400bcdca2a48a138741e1f91e48ec1dc30ec6074f6b8e3b1b6bb56ce', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 2, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (36.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fb7a25e849cfc6cad32e900ac8f32e29cb5d9753116fa6b4686cfc897dfba7539a6309953206dca0afeb05889cdcbb5bfa437fc40eed1b9f454b25dba4d79068') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '17e90a0a52876fe64bc36c48cfa5214e98dcdcaff2d67decddc4c471a936882b84aafc08400bcdca2a48a138741e1f91e48ec1dc30ec6074f6b8e3b1b6bb56ce') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '17e90a0a52876fe64bc36c48cfa5214e98dcdcaff2d67decddc4c471a936882b84aafc08400bcdca2a48a138741e1f91e48ec1dc30ec6074f6b8e3b1b6bb56ce') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:56:56', '11bd93916ff0188b268afc4d9aed5d37c8f75dd9ec657db9a679188f54fed2813958fa247c405608847cd78201a13dbf06be1c5da1833bc9b1161310098f62a3', '2010-08-25 22:56:56', 'joao', NULL, '9BFGGcANfsI3HTg9AWxb', 'fb7a25e849cfc6cad32e900ac8f32e29cb5d9753116fa6b4686cfc897dfba7539a6309953206dca0afeb05889cdcbb5bfa437fc40eed1b9f454b25dba4d79068', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:56', '2010-08-25 22:56:56', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (31.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ec3839efb77bf95c7a2b4e4aa7143236b876f316321ecc0ec1b8c95c0cc949edb5669e134d7e8f19fe1befc4c3bead83f612c81a3c889b9e9c1610051975c08e') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fb7a25e849cfc6cad32e900ac8f32e29cb5d9753116fa6b4686cfc897dfba7539a6309953206dca0afeb05889cdcbb5bfa437fc40eed1b9f454b25dba4d79068') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fb7a25e849cfc6cad32e900ac8f32e29cb5d9753116fa6b4686cfc897dfba7539a6309953206dca0afeb05889cdcbb5bfa437fc40eed1b9f454b25dba4d79068') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:56:57', 'c5e4e4ca828d7f219600ef0f9ac5f4f2d0c198437b05ee458695806a73b8e4da4f1ce3797fd9b164aaeae086a8c1a67ecfe315a92fdc9e40774d554ab679bf22', '2010-08-25 22:56:57', 'joao', NULL, 'etAAxQ7GkHNfRyO687R', 'ec3839efb77bf95c7a2b4e4aa7143236b876f316321ecc0ec1b8c95c0cc949edb5669e134d7e8f19fe1befc4c3bead83f612c81a3c889b9e9c1610051975c08e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:57', '2010-08-25 22:56:57', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:57', '2010-08-25 22:56:57', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:57', '2010-08-25 22:56:57', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (35.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:56:57', '2010-08-25 22:56:57', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:56:57', '2010-08-25 22:56:57', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (27.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 19:56:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '752f50260ffce25375afef7048b5d1430fafbc532679ef4573384ffc21deec0ad3d6f9a71011c80ceb1c7561e11460ccf0a21e8ed8828c09a7f3163d4d88e080') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:58:28', '866c15f2614082e82b67fccb4bf387e6b5969f23b6556df8cf937ad23a98c133ef91caed4775ff99e822b8cb6335db604bc7fcb3dc9f301e3b5d7e58446432c5', '2010-08-25 22:58:28', 'admin', NULL, 'pnfnkYlFPcwoIAKiF7D', '752f50260ffce25375afef7048b5d1430fafbc532679ef4573384ffc21deec0ad3d6f9a71011c80ceb1c7561e11460ccf0a21e8ed8828c09a7f3163d4d88e080', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 2, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bdfcfa0dc50f27e01574d66c3364c4d5c586c7248a9671df13461b4717798d62b4ec06d327c3d0b648d9a6d8f9441d9afaa99ca5a778f5c9a2e98516885887e0') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:58:28', '7b9c83d3f3e3d07af7c9d05ae628e52eacf1f5c607a477a84b8fc65020ed627c6dea4d7f0ee395b3d8040c2fd95172a5873760fc934a661600976acb1ea2ee7b', '2010-08-25 22:58:28', 'joao', NULL, 'kXETv1O3yx0KT2tdopEl', 'bdfcfa0dc50f27e01574d66c3364c4d5c586c7248a9671df13461b4717798d62b4ec06d327c3d0b648d9a6d8f9441d9afaa99ca5a778f5c9a2e98516885887e0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (33.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '821e99243caad51542efb39b08f4b3c528d173c67a02925d358a52f24e8040a13ece627ca99780a8aa74270771bac69ea3cb8b52fe14a8eed526fb51794ca564') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bdfcfa0dc50f27e01574d66c3364c4d5c586c7248a9671df13461b4717798d62b4ec06d327c3d0b648d9a6d8f9441d9afaa99ca5a778f5c9a2e98516885887e0') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bdfcfa0dc50f27e01574d66c3364c4d5c586c7248a9671df13461b4717798d62b4ec06d327c3d0b648d9a6d8f9441d9afaa99ca5a778f5c9a2e98516885887e0') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:58:28', 'bf0420532fb07fb35cbd4e05c178a0729488531f35d7288f1e2b029fef9d87d0862371218068dc24c69172784d2490d4196cbe763b3d3ffe09671f2a1ebe97ac', '2010-08-25 22:58:28', 'joao', NULL, '7ngS9jEFgSznjWpQEc8a', '821e99243caad51542efb39b08f4b3c528d173c67a02925d358a52f24e8040a13ece627ca99780a8aa74270771bac69ea3cb8b52fe14a8eed526fb51794ca564', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (34.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'daaf993388990661b3c8584ea0d3f723600725d211e00a8477c829c926fc5f463863fddb498b0af2c1e21ecdbcb781f31fc39095ec599c3d3ec4ff49a44b5492') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '821e99243caad51542efb39b08f4b3c528d173c67a02925d358a52f24e8040a13ece627ca99780a8aa74270771bac69ea3cb8b52fe14a8eed526fb51794ca564') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '821e99243caad51542efb39b08f4b3c528d173c67a02925d358a52f24e8040a13ece627ca99780a8aa74270771bac69ea3cb8b52fe14a8eed526fb51794ca564') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 22:58:28', '820981ab0f8d5d796524abc07aff3424b5b1a8caf3f1a782d479655c26087373a267f886d639eea5f545c75eb87abb77f19cf634ffede9bd891726c0866c4a54', '2010-08-25 22:58:28', 'joao', NULL, 'Di9uzRpfei8Lk5KSKR1S', 'daaf993388990661b3c8584ea0d3f723600725d211e00a8477c829c926fc5f463863fddb498b0af2c1e21ecdbcb781f31fc39095ec599c3d3ec4ff49a44b5492', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (31.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 22:58:28', '2010-08-25 22:58:28', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (5.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (30.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 19:58:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 10, DB: 423) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '97a2f675ffda2fddfb2579f8ef74773808501a65190440b6d63e94873ef0b683df2a0a6f86b5445695c55b692618763ebb4afcd83755c2c955dc1502213046b8') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:00:47', '55b2c8b4dfc1eda9b146237fc3726228178d2b72a037f985b644b2aed3102f90b102e9c148c74f85ce01a99896f0a93f838538b794d0e87fd527eaf18c64056b', '2010-08-25 23:00:47', 'admin', NULL, 'VJVUM8VtMlq05KkSzEE', '97a2f675ffda2fddfb2579f8ef74773808501a65190440b6d63e94873ef0b683df2a0a6f86b5445695c55b692618763ebb4afcd83755c2c955dc1502213046b8', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (65.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (55.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (51.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (2.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5d4f38dcbb7030dd8eb444e5d1d595723471e58361dd384c3d31ab5d92aecad26a4f855aec5ff59e3c19b9607c39059208d6637663232c6a4bb7c6cbe802bf47') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:00:47', 'f6b3d698895f2de55c0296d437d11719e5cd29dce53c53d4524e1011d1eeda3e7d38207e69147fe4903664c0206c80ad72e2b0473fd815a29d72961158b51ed4', '2010-08-25 23:00:47', 'joao', NULL, 'JfTt9MiDtZHC6oPuSxb', '5d4f38dcbb7030dd8eb444e5d1d595723471e58361dd384c3d31ab5d92aecad26a4f855aec5ff59e3c19b9607c39059208d6637663232c6a4bb7c6cbe802bf47', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cace569133e12932ed0a21a0a5863935a8c91ebf175df5f27e061f41cc0f0853155b6dcaccce5c401d7dffb6667e9208fe8b91484f71969dcb45160d94243f41') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5d4f38dcbb7030dd8eb444e5d1d595723471e58361dd384c3d31ab5d92aecad26a4f855aec5ff59e3c19b9607c39059208d6637663232c6a4bb7c6cbe802bf47') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5d4f38dcbb7030dd8eb444e5d1d595723471e58361dd384c3d31ab5d92aecad26a4f855aec5ff59e3c19b9607c39059208d6637663232c6a4bb7c6cbe802bf47') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:00:47', '7fbb2c233b0dd927ed481750fcf124f77aec197960806669582e03e5022523e6b40795f22960931709f2ade5ac7684fe0d3c7d46df1965f5185a7070d6915967', '2010-08-25 23:00:47', 'joao', NULL, 'oOYOF2SZ79ALzEElg87', 'cace569133e12932ed0a21a0a5863935a8c91ebf175df5f27e061f41cc0f0853155b6dcaccce5c401d7dffb6667e9208fe8b91484f71969dcb45160d94243f41', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (44.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c75deb2af6e73c187deca93ba79e741cbe0bcf7138b4fca00489b3a57b0f79ab6a85df2fd8e7e03635e26cc6521ed1194a9a63a62e0040916ae74f26ea2cdb36') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cace569133e12932ed0a21a0a5863935a8c91ebf175df5f27e061f41cc0f0853155b6dcaccce5c401d7dffb6667e9208fe8b91484f71969dcb45160d94243f41') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cace569133e12932ed0a21a0a5863935a8c91ebf175df5f27e061f41cc0f0853155b6dcaccce5c401d7dffb6667e9208fe8b91484f71969dcb45160d94243f41') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:00:47', '3e09fb3a071705aea33400f4b9da14f3a8b4a599aa35cf3f77741729c378197d2ff986f42bca537874e18a0f5610656888f93f1eeeca5c907cbcc031c139f829', '2010-08-25 23:00:47', 'joao', NULL, 'E27xrhHVk81h8YFKlKzw', 'c75deb2af6e73c187deca93ba79e741cbe0bcf7138b4fca00489b3a57b0f79ab6a85df2fd8e7e03635e26cc6521ed1194a9a63a62e0040916ae74f26ea2cdb36', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:00:47', '2010-08-25 23:00:47', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:00:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 464) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '693368c0660c876c461ec2a3d8dd67bfdbdc34f0e74fbacec5786eb701ab2c57b3b0e2364ff302f224f929c6e0f0b38f4020b16b468ca1e73ea0233ad4b07a00') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:01:59', '9345982c2b2e8b4de76bf7fa262c3bcd3203ff7c30c0203c6619ec42e90f0ce8c26c8adc488296483284933f07cd167aefe107d29d5a8a52783b19246f9d4dcc', '2010-08-25 23:01:59', 'admin', NULL, 'puqoSmI8f91PGPjM8F36', '693368c0660c876c461ec2a3d8dd67bfdbdc34f0e74fbacec5786eb701ab2c57b3b0e2364ff302f224f929c6e0f0b38f4020b16b468ca1e73ea0233ad4b07a00', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (182.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (72.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (31.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (30.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '71e1bee3af28d2f42e1758e1e492e7f0d73446981838b70e99933a7e9d95a7142ce4a1a43fc35f9497e5c5945874f7eaaefbc67d349d87600d3d624e7b81de51') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:01:59', '66092257303e28cd57a9475c2ac5efdfcb230a981689d67049ebaa2829ae0bc2739b1dd481e59d2c31d70c859e5aad44bafe7020709005ccd75466281805356b', '2010-08-25 23:01:59', 'joao', NULL, 'KxjOOxl239bCFWaZKdXe', '71e1bee3af28d2f42e1758e1e492e7f0d73446981838b70e99933a7e9d95a7142ce4a1a43fc35f9497e5c5945874f7eaaefbc67d349d87600d3d624e7b81de51', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (28.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '895ac77ace1830a46719159f38716c5f3d18d655e6201e132309a3974043b3965d09ff174b0a67815315a9cb7601d567d3bb184f03f469237977bfbdf866f284') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '71e1bee3af28d2f42e1758e1e492e7f0d73446981838b70e99933a7e9d95a7142ce4a1a43fc35f9497e5c5945874f7eaaefbc67d349d87600d3d624e7b81de51') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '71e1bee3af28d2f42e1758e1e492e7f0d73446981838b70e99933a7e9d95a7142ce4a1a43fc35f9497e5c5945874f7eaaefbc67d349d87600d3d624e7b81de51') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:01:59', 'fa9b66c80d2665f27866e31a0d879dfdf41e0362e3fe0fb4a21b311da19140f494a43a539533ac586d23e2f812063f309d169917cc668ac92df664f45872bdcd', '2010-08-25 23:01:59', 'joao', NULL, 'ale1L3r0r3zAqIsKg7Ct', '895ac77ace1830a46719159f38716c5f3d18d655e6201e132309a3974043b3965d09ff174b0a67815315a9cb7601d567d3bb184f03f469237977bfbdf866f284', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '48b404ded70a4e9df4aeda8e6582b591865c13f811868fffc9f36a6250c06f988217dd7d230c4f124f1dda049ecad99c0f8036c770009e98ed9142af92656a35') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '895ac77ace1830a46719159f38716c5f3d18d655e6201e132309a3974043b3965d09ff174b0a67815315a9cb7601d567d3bb184f03f469237977bfbdf866f284') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '895ac77ace1830a46719159f38716c5f3d18d655e6201e132309a3974043b3965d09ff174b0a67815315a9cb7601d567d3bb184f03f469237977bfbdf866f284') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:01:59', '78fa907764459ea216b673ccee582037b12ad4f3c61837ff19667b254af0fe4853d3b014f8cbb0970fea39ef4d0e609befdf4d35a85ab7017e8e6b188fff1dac', '2010-08-25 23:01:59', 'joao', NULL, '0TyZ6wlzwIN5kRcDe', '48b404ded70a4e9df4aeda8e6582b591865c13f811868fffc9f36a6250c06f988217dd7d230c4f124f1dda049ecad99c0f8036c770009e98ed9142af92656a35', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:01:59', '2010-08-25 23:01:59', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (30.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:02:00', '2010-08-25 23:02:00', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:02:00', '2010-08-25 23:02:00', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:02:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 23ms (View: 10, DB: 518) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:02:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2605086a5457408849c5566ec1adbdff1b91b7e8c435b59a2a8c4da54b428eb23fb81b66ff94852025ee14c3bdc022942b320299dffc14effc2339115d742bb9') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:06:28', 'd82f97eb1a1c88462398a193d29bc97bb19269d01da7524f363f078ae60e1f8411612144e155e479ca718071c56f7737c171c168f1efb6147b60a56c1872dcb0', '2010-08-25 23:06:28', 'admin', NULL, 'sgGt4DGqmPshvoJIgIfY', '2605086a5457408849c5566ec1adbdff1b91b7e8c435b59a2a8c4da54b428eb23fb81b66ff94852025ee14c3bdc022942b320299dffc14effc2339115d742bb9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (78.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (74.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (30.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '155a9151a8a271feee599a68cd6191f35c6c366214151cadb0b2f9cab65fbb890cb973d7b718b9c983cccf80869dbfb008cc333ad3071303d016b6d431ba62e2') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:06:28', '0b40b172e012eb49490253b170b2aeeda11ef7d0fffa7befcaf85b7432e179c0fce4236c68cb782e4623cba073e268e6656af03cf09d2b5df55004e789978fa4', '2010-08-25 23:06:28', 'joao', NULL, 'vHLmZZ9iU59MRtBRrLDM', '155a9151a8a271feee599a68cd6191f35c6c366214151cadb0b2f9cab65fbb890cb973d7b718b9c983cccf80869dbfb008cc333ad3071303d016b6d431ba62e2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '21e1bd6ca1b8084bcbff34e39f1233dcff6378e8f8c1f02ef76d0e44e97ccbce9c57b07feb4b5c8a8edf70d55ad74633d920a553d905b046d8bd4f49edb506dd') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '155a9151a8a271feee599a68cd6191f35c6c366214151cadb0b2f9cab65fbb890cb973d7b718b9c983cccf80869dbfb008cc333ad3071303d016b6d431ba62e2') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '155a9151a8a271feee599a68cd6191f35c6c366214151cadb0b2f9cab65fbb890cb973d7b718b9c983cccf80869dbfb008cc333ad3071303d016b6d431ba62e2') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:06:28', '6ffed6092bae4067914210b9d836b092ec875b34819c464df8c87015486b244c87ce98a1e54a1c1a02545cb84075009c99e6cc05d03f2ab14e32061f894a5f2a', '2010-08-25 23:06:28', 'joao', NULL, 'SN3EhwUTozGJK3XwW2Y', '21e1bd6ca1b8084bcbff34e39f1233dcff6378e8f8c1f02ef76d0e44e97ccbce9c57b07feb4b5c8a8edf70d55ad74633d920a553d905b046d8bd4f49edb506dd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:28', '2010-08-25 23:06:28', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7bc8ad9bf61f99e5a893e0d8e5286709ceafff70232d7ab659b0b7b82e337902ea6503398100c8aa06a0c58982bb43e1362cac094844fec132b1c7a7e1363fd7') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '21e1bd6ca1b8084bcbff34e39f1233dcff6378e8f8c1f02ef76d0e44e97ccbce9c57b07feb4b5c8a8edf70d55ad74633d920a553d905b046d8bd4f49edb506dd') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '21e1bd6ca1b8084bcbff34e39f1233dcff6378e8f8c1f02ef76d0e44e97ccbce9c57b07feb4b5c8a8edf70d55ad74633d920a553d905b046d8bd4f49edb506dd') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:06:29', 'd95298076e9c2b28628daab8403f7d83a959315fd54c6a47fd573f4cff4d4e25bf2df6d6e3493ac75a0eb23962b7ab258cb8cd7d29567c9feb0afba4b7b71fa0', '2010-08-25 23:06:29', 'joao', NULL, 'DHUF8h8o4ADope3zmcAa', '7bc8ad9bf61f99e5a893e0d8e5286709ceafff70232d7ab659b0b7b82e337902ea6503398100c8aa06a0c58982bb43e1362cac094844fec132b1c7a7e1363fd7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:29', '2010-08-25 23:06:29', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:29', '2010-08-25 23:06:29', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:29', '2010-08-25 23:06:29', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:06:29', '2010-08-25 23:06:29', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:06:29', '2010-08-25 23:06:29', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:06:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 24ms (View: 19, DB: 462) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:06:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '354f7a47d2763014bd4359df298a8444dc9fb97827bb8f86a6baffbc34e2b29316c7b08b7e8848ba031a2083ad2728f7395ebe451ddbd2d0cc5dd5eb1438d42a') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:13:52', '478a8be96462574e787b4784a04da6d99f65aad8bd3a44bcb45f18b248423354b95c1c89ecebec13727244a63ad633da4f7fc713fa792e4da3cc09da6601fc85', '2010-08-25 23:13:52', 'admin', NULL, 'BZAZvZ5axlxqPhpFvhpM', '354f7a47d2763014bd4359df298a8444dc9fb97827bb8f86a6baffbc34e2b29316c7b08b7e8848ba031a2083ad2728f7395ebe451ddbd2d0cc5dd5eb1438d42a', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (77.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (52.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '713c2ee67956165a32b43bdbce1207fbb8df96de8e63982e3052808b96405724ae896be474a015076c1aca0219cde4094652d4aabc52055ef5329652d55b8a17') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:13:52', '3289ec334891a92563c99bdb9354f2be685f0fc22ed9e3847f53a0d240bbcfd676f153e683cc29be3962bc5ecae440421e387dba2ad7703a9f50501d9a64d5ff', '2010-08-25 23:13:52', 'joao', NULL, 'tB4tE87MAPpzXBb0U9EB', '713c2ee67956165a32b43bdbce1207fbb8df96de8e63982e3052808b96405724ae896be474a015076c1aca0219cde4094652d4aabc52055ef5329652d55b8a17', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cac7bad903bf2c7674d424008b49be66fd2da55d6601a913be71834a2c2881264d9464947974c9f33ead01c045693d0c1e5e8cf3e374f16bb544ef0596eda2ce') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '713c2ee67956165a32b43bdbce1207fbb8df96de8e63982e3052808b96405724ae896be474a015076c1aca0219cde4094652d4aabc52055ef5329652d55b8a17') LIMIT 1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '713c2ee67956165a32b43bdbce1207fbb8df96de8e63982e3052808b96405724ae896be474a015076c1aca0219cde4094652d4aabc52055ef5329652d55b8a17') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:13:52', 'a97ad514b54772033e35102fd9e541a4a8dcd339ef8fe5a06414852cd5fe4011e70984fec83eeadc0e63d7bceb29fd2afd95c355796ac84f6f6138ab9b196ee4', '2010-08-25 23:13:52', 'joao', NULL, 'WA9wV010vwCVw1spHyWN', 'cac7bad903bf2c7674d424008b49be66fd2da55d6601a913be71834a2c2881264d9464947974c9f33ead01c045693d0c1e5e8cf3e374f16bb544ef0596eda2ce', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e4abdf712dab309b0f2b9a6c63ce7255777b65ad7f9d2cee7540ca2a4e3aebb4211e48e01b4e187cbe71f57ce4153b7edf10e86d04b0c750925ce70ebd40d18e') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cac7bad903bf2c7674d424008b49be66fd2da55d6601a913be71834a2c2881264d9464947974c9f33ead01c045693d0c1e5e8cf3e374f16bb544ef0596eda2ce') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cac7bad903bf2c7674d424008b49be66fd2da55d6601a913be71834a2c2881264d9464947974c9f33ead01c045693d0c1e5e8cf3e374f16bb544ef0596eda2ce') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:13:52', '56bf276e621937df79fd7a0e123ed49dba4d1f1d430443823041b652781fddcdffc48d93d4e09d2e813c3d694877deb8a68222bd99f017d392cee00ef7dda95a', '2010-08-25 23:13:52', 'joao', NULL, 'AAcezYSOFTe6b9yfDAX', 'e4abdf712dab309b0f2b9a6c63ce7255777b65ad7f9d2cee7540ca2a4e3aebb4211e48e01b4e187cbe71f57ce4153b7edf10e86d04b0c750925ce70ebd40d18e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:52', '2010-08-25 23:13:52', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.1ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:13:53', '2010-08-25 23:13:53', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:13:53', '2010-08-25 23:13:53', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (49.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:13:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 483) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '59d17a8d71a9007560c3f76ea7b5ab3bef5d7ddbfa648f2793ff1e072ce044784d1c979227873a3c8a4c5f0a6bc83be1e94e41a42c9986f334f7fe054de82722') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:14:20', '831fafc4f441a33950d3e09d505937c70c9d6a167193770eadae651ad329eec78ebdb555a66c537f6763e4e5b77e8a05670d1a9651dc2ac66072b801a3cfa856', '2010-08-25 23:14:20', 'admin', NULL, 'oYWWcRywzaG9hiqlRU04', '59d17a8d71a9007560c3f76ea7b5ab3bef5d7ddbfa648f2793ff1e072ce044784d1c979227873a3c8a4c5f0a6bc83be1e94e41a42c9986f334f7fe054de82722', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (41.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (79.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6f7d6bc2c2c1aff567650bd073fa36af0310489bdbf4986927aeeb7ea43631328979e723a7a310b35c456472d6fab91997b149dccaf626abffae5b464332ce6d') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:14:20', 'bb1b5a4bc1914fd1837f6856311bcc2dcb444c1d7bc98354cdfecff80c673f76020c8f3150ead2c6132b51af7a72bdd80b02ff3d259426bc87e742b90478059d', '2010-08-25 23:14:20', 'joao', NULL, 'tLpHDUK4Wn2JgNgXz5QB', '6f7d6bc2c2c1aff567650bd073fa36af0310489bdbf4986927aeeb7ea43631328979e723a7a310b35c456472d6fab91997b149dccaf626abffae5b464332ce6d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7981169edf9ec9e21354f1c5e22444fa890f89368b2add579e43322eb80d4e192ad12077cc310746840bdc1190ebcdbbeb04b456c26b86f49849840932e419d7') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f7d6bc2c2c1aff567650bd073fa36af0310489bdbf4986927aeeb7ea43631328979e723a7a310b35c456472d6fab91997b149dccaf626abffae5b464332ce6d') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f7d6bc2c2c1aff567650bd073fa36af0310489bdbf4986927aeeb7ea43631328979e723a7a310b35c456472d6fab91997b149dccaf626abffae5b464332ce6d') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:14:20', '6f51a9ca9098a50732e7f57613c59b02ffe7875f9aace2181163eb783dc090f3af1e9fa134a7b7211f36c257f8cb660e71415a95a60c48e08eba03fcc6d77a6b', '2010-08-25 23:14:20', 'joao', NULL, 'YVfmwZSI35B5dgl1zjOg', '7981169edf9ec9e21354f1c5e22444fa890f89368b2add579e43322eb80d4e192ad12077cc310746840bdc1190ebcdbbeb04b456c26b86f49849840932e419d7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a573de8ed6dab4ecbcd43175c6f09b032fe26c1b83c0dc6248edf613f60e5c057e99b60785d2da0310e729b95a2bb36165107cb03aabf8ba1f9a36ca3e2a604e') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7981169edf9ec9e21354f1c5e22444fa890f89368b2add579e43322eb80d4e192ad12077cc310746840bdc1190ebcdbbeb04b456c26b86f49849840932e419d7') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7981169edf9ec9e21354f1c5e22444fa890f89368b2add579e43322eb80d4e192ad12077cc310746840bdc1190ebcdbbeb04b456c26b86f49849840932e419d7') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:14:20', '39efd2491ea2e86b02bca71643f9dba582e466f21d32d18c58c52fbb7bd7ab7c9078f55e6e08c6ceeb25c24d23ec83af31af37e46ad44ced61d66b58e6acff1a', '2010-08-25 23:14:20', 'joao', NULL, 'xqu2YiVuzzL1P9mPko9u', 'a573de8ed6dab4ecbcd43175c6f09b032fe26c1b83c0dc6248edf613f60e5c057e99b60785d2da0310e729b95a2bb36165107cb03aabf8ba1f9a36ca3e2a604e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 4, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:20', '2010-08-25 23:14:20', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:14:21', '2010-08-25 23:14:21', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:14:21', '2010-08-25 23:14:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (49.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:14:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 36ms (View: 31, DB: 441) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:14:21) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '32037acdfbf012188a420b7232cb0c8a72ed6d7af641fbf21d13a65f3ffb8057dbf22a260dbdac048d11ff3093a189d7cff5b47ee1d9d1fabab8d92293a0ad9b') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:15:54', '0349906cc873338e95f3a96eb79fc8c0165d02e612cccf7e17e89eb96502ea0879b01475dd282623d052a871303280899bbb430b98a7e41554f25a4ce4f0f477', '2010-08-25 23:15:54', 'admin', NULL, 'J4RBGOUtH7dm7bovjqtQ', '32037acdfbf012188a420b7232cb0c8a72ed6d7af641fbf21d13a65f3ffb8057dbf22a260dbdac048d11ff3093a189d7cff5b47ee1d9d1fabab8d92293a0ad9b', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (85.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (48.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ec1afbedcf8a9f6acb5c8df45501aa5a398c9bb2072d37cb7cefdd267c22f49d42d40056bac1783c6e58d4fe48dee346ce1d717fffec58e058333ec9d9e970a1') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:15:54', 'd37015e4baf5fea76c4b7e799d5d1ab1f8dd19d04b1eb7769dc9435b50598db85b130b8eab2fd547dfb138930353c440b73012341fd7845f81d71d747419f88f', '2010-08-25 23:15:54', 'joao', NULL, 'YcEBgPU2xd4EtVV8HE3h', 'ec1afbedcf8a9f6acb5c8df45501aa5a398c9bb2072d37cb7cefdd267c22f49d42d40056bac1783c6e58d4fe48dee346ce1d717fffec58e058333ec9d9e970a1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '02afae4a4d47ecf3b0a6fe977638bab062cb70428cbe30e60cd28a923bd63a198dc2d5c2d9fcff6d6d43f2888ca5fb19140467586258cf2e719ca0a916a87223') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ec1afbedcf8a9f6acb5c8df45501aa5a398c9bb2072d37cb7cefdd267c22f49d42d40056bac1783c6e58d4fe48dee346ce1d717fffec58e058333ec9d9e970a1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ec1afbedcf8a9f6acb5c8df45501aa5a398c9bb2072d37cb7cefdd267c22f49d42d40056bac1783c6e58d4fe48dee346ce1d717fffec58e058333ec9d9e970a1') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:15:54', 'db0483551f336585a742a49d846d3c50f41e0c16e8e5c19911c0da4566f5934b3bb5e5c8d5959a70cce196ebe487102d0ab085bb6dba9266446802e218689714', '2010-08-25 23:15:54', 'joao', NULL, '3m6zNlqcNTVdMkbVGZF3', '02afae4a4d47ecf3b0a6fe977638bab062cb70428cbe30e60cd28a923bd63a198dc2d5c2d9fcff6d6d43f2888ca5fb19140467586258cf2e719ca0a916a87223', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:54', '2010-08-25 23:15:54', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4033b10976eaa8aa1dd5d5f092c9f707cc6b3df788fd50a8103b77967eb5c8025cd428214301a4c96659762e3aafed8121ee17805009ba8d665b49062dab248d') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '02afae4a4d47ecf3b0a6fe977638bab062cb70428cbe30e60cd28a923bd63a198dc2d5c2d9fcff6d6d43f2888ca5fb19140467586258cf2e719ca0a916a87223') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '02afae4a4d47ecf3b0a6fe977638bab062cb70428cbe30e60cd28a923bd63a198dc2d5c2d9fcff6d6d43f2888ca5fb19140467586258cf2e719ca0a916a87223') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:15:55', '346a5fe972ea4f335fe43f1e4c76a2c638ae6874e0dec07ceaa0bc6b67db27ebe9c4be56e01857bbcfcfe5456ef1c6ccdf204f11bbd6a234834525d35874e737', '2010-08-25 23:15:55', 'joao', NULL, 'TzWIqs2pxDYQ8Y0Fi0', '4033b10976eaa8aa1dd5d5f092c9f707cc6b3df788fd50a8103b77967eb5c8025cd428214301a4c96659762e3aafed8121ee17805009ba8d665b49062dab248d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:55', '2010-08-25 23:15:55', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:55', '2010-08-25 23:15:55', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:55', '2010-08-25 23:15:55', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:15:55', '2010-08-25 23:15:55', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:15:55', '2010-08-25 23:15:55', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:15:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 10, DB: 455) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:15:55) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4f04a3110fe09f3f6f24c417486d18baa194f965bed58d21d829556ed5485e967300f0fb3d3a6ea8f6af16fc492cb920dca0cc216f57b73183bc9bfdd966fc55') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:23:43', 'db263497407a0db463ae868f4bd31c0857e7de44260b179894cd8632f5d547b61f65cc6d3a529cd217b4dae726f40f00e945d8ac56d17b386ebd56482547229b', '2010-08-25 23:23:43', 'admin', NULL, 'xTlzJkhrSVQIpm3cVA', '4f04a3110fe09f3f6f24c417486d18baa194f965bed58d21d829556ed5485e967300f0fb3d3a6ea8f6af16fc492cb920dca0cc216f57b73183bc9bfdd966fc55', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (105.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:43', '2010-08-25 23:23:43', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (52.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:43', '2010-08-25 23:23:43', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:43', '2010-08-25 23:23:43', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (54.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (51.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd563d637b6f086801d7453926963ae9a639862a3223a7ee501d366f1222d181ac1fb6876f173a2549bd1ad2ae1d5837b56b9ff1983d829cd1791f731e10eebe1') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:23:44', '31cbb5a07639afdc473ebe2046c0018ca40b28f2edff80aab98cf497e8dbdf96de75a666844176baaa6a1dc6073119778c64d79e74ec7120a2b181857234bf06', '2010-08-25 23:23:44', 'joao', NULL, 'EyvqotYq4D915zcogEp', 'd563d637b6f086801d7453926963ae9a639862a3223a7ee501d366f1222d181ac1fb6876f173a2549bd1ad2ae1d5837b56b9ff1983d829cd1791f731e10eebe1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (59.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '37e8d8b917a4840ec2c1ec0b1e39ea68f3b520a966c253de58ffa93f30cec6a3512638f420eb5fe97f88dd789f92d39a82d314dd9f3397a32c757e18694d1326') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd563d637b6f086801d7453926963ae9a639862a3223a7ee501d366f1222d181ac1fb6876f173a2549bd1ad2ae1d5837b56b9ff1983d829cd1791f731e10eebe1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd563d637b6f086801d7453926963ae9a639862a3223a7ee501d366f1222d181ac1fb6876f173a2549bd1ad2ae1d5837b56b9ff1983d829cd1791f731e10eebe1') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:23:44', '10ee224418c2e7d40a121a0cfc0ec1f9d9720a0aaf5c0a2bf82a911beaaec41afeb038677e1b6c9dcd79b91d363128a921c8cd595b2fbdabf67d36ece2777986', '2010-08-25 23:23:44', 'joao', NULL, 'ypHZ1eTBzmjYohGvkyiX', '37e8d8b917a4840ec2c1ec0b1e39ea68f3b520a966c253de58ffa93f30cec6a3512638f420eb5fe97f88dd789f92d39a82d314dd9f3397a32c757e18694d1326', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (44.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'eff8f2b209b32bc57b0633aae39100e25054f3f790b0919dac8bfa35f44c06831e364d30b6f47a870898571073ebe9419cb0873c72ee4d9a7780fc3a2c73157d') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '37e8d8b917a4840ec2c1ec0b1e39ea68f3b520a966c253de58ffa93f30cec6a3512638f420eb5fe97f88dd789f92d39a82d314dd9f3397a32c757e18694d1326') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '37e8d8b917a4840ec2c1ec0b1e39ea68f3b520a966c253de58ffa93f30cec6a3512638f420eb5fe97f88dd789f92d39a82d314dd9f3397a32c757e18694d1326') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:23:44', '14563025a735ba3786be9fc9b9bf88a1e08c56c63ab8bc437093b52328926bbd7d3444e875d068232a90b76a832d75bee614afd7f6de34f2b02c7dc95d348ff2', '2010-08-25 23:23:44', 'joao', NULL, 'oETysnj0erpxaR5nu3Is', 'eff8f2b209b32bc57b0633aae39100e25054f3f790b0919dac8bfa35f44c06831e364d30b6f47a870898571073ebe9419cb0873c72ee4d9a7780fc3a2c73157d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:23:44', '2010-08-25 23:23:44', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (41.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:23:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 12, DB: 496) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4f9083f11fc4334c92563946f79718cdfba174844ab89c8b54daecce03da0eaebc94e60e51238ccde7932a55abccf5f5c565852990cbe0fe787f391024ab6c73') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:30:23', 'e527ab6720b43d491582dc08b3df1e781573cf1668f2cab5f9d63ade2c18a1ae37026d574816d4b6188f6659b26dc3f70b82912a5baf48ab66a8d6d4efc317c2', '2010-08-25 23:30:23', 'admin', NULL, 'XnlIbqL2l3UKDiwMUJ', '4f9083f11fc4334c92563946f79718cdfba174844ab89c8b54daecce03da0eaebc94e60e51238ccde7932a55abccf5f5c565852990cbe0fe787f391024ab6c73', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (64.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 2, 2)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (32.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (32.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fa4994b155410c1e52d6b79a1705251670335a0c99b579ef51fb8269fd309529a57f3fa971a47532d95b7eba814a9e76800eebeb798fe2206b10a44227bff0f4') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:30:23', '9e7c76a0f9e238fa724e55722e1106beaa5457c618fbeebfbc64dcb0e12377d639d9af0a6a36f880c493814292d1b293876b01c2acd011b69cb3bdc3142ffbd6', '2010-08-25 23:30:23', 'joao', NULL, 'RYXHRwZgiqEEOLd1P6u', 'fa4994b155410c1e52d6b79a1705251670335a0c99b579ef51fb8269fd309529a57f3fa971a47532d95b7eba814a9e76800eebeb798fe2206b10a44227bff0f4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (34.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '17b3142c8dd63c3cd938ef01657b614cbe411c2660255e320a1ecc8694b308de4cd519f6e9a32ac04119061c79fbabb3fef41e84ce9d1688c34b1a28bc9e25cb') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fa4994b155410c1e52d6b79a1705251670335a0c99b579ef51fb8269fd309529a57f3fa971a47532d95b7eba814a9e76800eebeb798fe2206b10a44227bff0f4') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fa4994b155410c1e52d6b79a1705251670335a0c99b579ef51fb8269fd309529a57f3fa971a47532d95b7eba814a9e76800eebeb798fe2206b10a44227bff0f4') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:30:23', 'a31ac2ddecb039bac7870098a904ccc54867ba88842af9b19570a9670071c0916e69636b53417fa356549dd9d99c53260cd32480800d08b6b1e5f9a430b41321', '2010-08-25 23:30:23', 'joao', NULL, 'pRgpkMNvUd48ThRphgvu', '17b3142c8dd63c3cd938ef01657b614cbe411c2660255e320a1ecc8694b308de4cd519f6e9a32ac04119061c79fbabb3fef41e84ce9d1688c34b1a28bc9e25cb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (27.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4ce78d96d630a37f48e3d249c280bc6636d1620067b258bba65c84c36d335919696634bf39d351319c65067598baddde283acbbfea7bdf927b82cc2d16f8ceb7') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '17b3142c8dd63c3cd938ef01657b614cbe411c2660255e320a1ecc8694b308de4cd519f6e9a32ac04119061c79fbabb3fef41e84ce9d1688c34b1a28bc9e25cb') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '17b3142c8dd63c3cd938ef01657b614cbe411c2660255e320a1ecc8694b308de4cd519f6e9a32ac04119061c79fbabb3fef41e84ce9d1688c34b1a28bc9e25cb') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:30:23', '2e412c719b9385327f2601647b65559b11d3f8e963773188723ab521e36bc9f73bdf82a8b7d33d474638ddb895ce85d1e67072e29e110aa5937488f987a9d358', '2010-08-25 23:30:23', 'joao', NULL, '5fWLeeXMSzLvX1vWmkU8', '4ce78d96d630a37f48e3d249c280bc6636d1620067b258bba65c84c36d335919696634bf39d351319c65067598baddde283acbbfea7bdf927b82cc2d16f8ceb7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (53.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:30:23', '2010-08-25 23:30:23', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (31.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:30:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 378) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#new (for 0.0.0.0 at 2010-08-25 20:30:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"messages"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '859dbac023b51388d734c4ef66a783b545748dc73c8f790f6811ea6a6e0e7b2a51443cec5e43cbc1196cd04277c8e2191680cb9fca2f7c0d734d7e5efac23547') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:34:31', '5a5a6c02c93bf6e3a99de7dafec08122a04807c2e802f1219e36035e139966d52232ec041e9dfba36cf219b6d222e9bc51650d9b64efb4ca76fe5a8bf56e3762', '2010-08-25 23:34:31', 'admin', NULL, '8nB6eCPlOW43NUSJu0', '859dbac023b51388d734c4ef66a783b545748dc73c8f790f6811ea6a6e0e7b2a51443cec5e43cbc1196cd04277c8e2191680cb9fca2f7c0d734d7e5efac23547', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (2.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '47bbd83f8686a7f0ea2d1342bcfff7b3715965aa6f2cd01c3518b8fb5fd46cbd85d1f1f5fd5bc2f3c873276960d60f8c5cac8bb92d6b90749fc9fb5700e50faf') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:34:32', 'bd2695d840e4512142a809d5693458ae94f96030f21e15b8b762ea1f372849f776d907b1712904d3cef77494c8e7aa6e6d828e62395023dd854e4b0489e40b4a', '2010-08-25 23:34:32', 'joao', NULL, 'GAxFf7hZQ6T6aNBt5vT0', '47bbd83f8686a7f0ea2d1342bcfff7b3715965aa6f2cd01c3518b8fb5fd46cbd85d1f1f5fd5bc2f3c873276960d60f8c5cac8bb92d6b90749fc9fb5700e50faf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (38.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f51d4b91852b1b32aadfa431306b6bf644a22cf7d4c641a7c4f1ead1c670b372e3a5e2b250bfd1fc1d57137a3840daf34714280e35d55760648f978d0cec44d4') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '47bbd83f8686a7f0ea2d1342bcfff7b3715965aa6f2cd01c3518b8fb5fd46cbd85d1f1f5fd5bc2f3c873276960d60f8c5cac8bb92d6b90749fc9fb5700e50faf') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '47bbd83f8686a7f0ea2d1342bcfff7b3715965aa6f2cd01c3518b8fb5fd46cbd85d1f1f5fd5bc2f3c873276960d60f8c5cac8bb92d6b90749fc9fb5700e50faf') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:34:32', 'd2a87f8cbbf55999863ea1b8e5af40b97a4c1e1ef320fde46c474fb3d1210cc6c0681d7b97c51010293a17c5913096cf11e660613985ea4d54d91c7d875a9f35', '2010-08-25 23:34:32', 'joao', NULL, 'qPc9IcIyNRUOow1p3o', 'f51d4b91852b1b32aadfa431306b6bf644a22cf7d4c641a7c4f1ead1c670b372e3a5e2b250bfd1fc1d57137a3840daf34714280e35d55760648f978d0cec44d4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '400654c880d1854dffa4c39976ac23281e9ad90acc9c20423bb7cc80f1abb916322d0e02243dc30a0bbf665e7ca36375b5ab581c5cc6bb7fbb8d18302d20c173') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f51d4b91852b1b32aadfa431306b6bf644a22cf7d4c641a7c4f1ead1c670b372e3a5e2b250bfd1fc1d57137a3840daf34714280e35d55760648f978d0cec44d4') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f51d4b91852b1b32aadfa431306b6bf644a22cf7d4c641a7c4f1ead1c670b372e3a5e2b250bfd1fc1d57137a3840daf34714280e35d55760648f978d0cec44d4') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:34:32', '7553d8e0bc0857314ee3845afbf77448714c7109dcf193cc47065d6f7c4c7e8346df7c49b207f4ca13c083b709ae990ef16f7847599c003d2ead02f10a9f3873', '2010-08-25 23:34:32', 'joao', NULL, 'FZ5hURoSC5eIXY0ne2', '400654c880d1854dffa4c39976ac23281e9ad90acc9c20423bb7cc80f1abb916322d0e02243dc30a0bbf665e7ca36375b5ab581c5cc6bb7fbb8d18302d20c173', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:34:32', '2010-08-25 23:34:32', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:34:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 29ms (View: 22, DB: 425) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:34:32) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9cfef17ee4974486f1b857697d235b080c0a4f8c7c8cb77d21bcab193bb6d3fe457d8b816a707f0c8493b50793707fd38a68bfb266f09f027eeae2a3e635bfcf') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:40:08', '883583ffdbbc2c4b144b917d1ee67f168fa6882c1022064088c1f79139e83282b30fa9c392cd93e11d8b1bf0ea7e364f886aa8515ae1ba67dd90e4f1123b3d6f', '2010-08-25 23:40:08', 'admin', NULL, 'BEdF4nMpSmE0d1fuDGA', '9cfef17ee4974486f1b857697d235b080c0a4f8c7c8cb77d21bcab193bb6d3fe457d8b816a707f0c8493b50793707fd38a68bfb266f09f027eeae2a3e635bfcf', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (67.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (65.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (54.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fac115dc72bab0c99a228a4d0f905012ccd0d7363299d88e7b098f327c6f599f689e629b369963af4640c5383bd8917968ed25edecd65d62c154329f226b4d73') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:40:08', 'f29972e5dcad5a47b5b9d09cce659f4ff5ab310981f3ca3c8fda5f2d27272aeb17b24a1d654b6cd41cedd13deb9306a7069dae60ca66c886ef6fbfb0974882fd', '2010-08-25 23:40:08', 'joao', NULL, 'Z3BaIo9SfJr1PElU0SI', 'fac115dc72bab0c99a228a4d0f905012ccd0d7363299d88e7b098f327c6f599f689e629b369963af4640c5383bd8917968ed25edecd65d62c154329f226b4d73', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '015ac0e1462fc2da0abe892a1301419f0d00949cae6909c553631579d78a76bb47bc458453825f305c7449df86294d3890342687a21d86cb64ed990866e2e413') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fac115dc72bab0c99a228a4d0f905012ccd0d7363299d88e7b098f327c6f599f689e629b369963af4640c5383bd8917968ed25edecd65d62c154329f226b4d73') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fac115dc72bab0c99a228a4d0f905012ccd0d7363299d88e7b098f327c6f599f689e629b369963af4640c5383bd8917968ed25edecd65d62c154329f226b4d73') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:40:08', 'a194ac7a32b488c157b34d822a7d5e4cda77d627a9ea6dbec2029d6c9fdc9283088222ea328e5c8590a87f07e5b656fcd7e235a171f96e6b559e7a7ea647ec83', '2010-08-25 23:40:08', 'joao', NULL, 'XUR386OSi1QTLpB4KKn', '015ac0e1462fc2da0abe892a1301419f0d00949cae6909c553631579d78a76bb47bc458453825f305c7449df86294d3890342687a21d86cb64ed990866e2e413', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '51f7d82500d891043e509ae39f205f45dac7413497da37ccffc7bd41ef311035d6b536befe03fe52aca3934aee94805dd9456e194595062b9f270a977233d21d') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '015ac0e1462fc2da0abe892a1301419f0d00949cae6909c553631579d78a76bb47bc458453825f305c7449df86294d3890342687a21d86cb64ed990866e2e413') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '015ac0e1462fc2da0abe892a1301419f0d00949cae6909c553631579d78a76bb47bc458453825f305c7449df86294d3890342687a21d86cb64ed990866e2e413') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:40:08', 'd0bad3afa648d86238c3e62dd7c9c647917d6cdd3f6c8d3df3244fbb8d463ec7ce3ee9d61a10b33744f2dc995210d7e3b077a9ac6363835c33b1234d43f9ed11', '2010-08-25 23:40:08', 'joao', NULL, 'kIROFDlz33MLh1R6lKKC', '51f7d82500d891043e509ae39f205f45dac7413497da37ccffc7bd41ef311035d6b536befe03fe52aca3934aee94805dd9456e194595062b9f270a977233d21d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.1ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:40:08', '2010-08-25 23:40:08', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (32.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:40:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 72ms (View: 64, DB: 494) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:40:09) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3cfcfc005b4a5ff5892bd3a1961ce36ea8c61bde0272d2db597805ac7752dc3bab1c033d8a75b4ff9e6d33a3cbc61950af91a020ce8f6a58c9022ba36fc27541') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:09', 'e2b764557c133706338fbe4aa111ad346a9891b64f46be1fd2ad8a2095f24f0dec60250eb4fdeb563612be994eb7dfc80ef4293a53e3e65b3c74acd0fd98db56', '2010-08-25 23:41:09', 'admin', NULL, 'oHrGHno3HzX3s6qUbUwm', '3cfcfc005b4a5ff5892bd3a1961ce36ea8c61bde0272d2db597805ac7752dc3bab1c033d8a75b4ff9e6d33a3cbc61950af91a020ce8f6a58c9022ba36fc27541', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (57.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.1ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (37.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e662031c9b673c19c105af8ee652313c401de8f49df2f11c84a7b2fd0b9fb52f1e9ded57203262dd5889d1f08278cd92e6d1b36ed25208540956c0e2e3c59726') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:10', '3d07cfbd8cbd906b4710b68aca7ff04f7af0a3d6312e4837b31442da2c59d472f28de4539731026d732812273b423ea18e79bc5d3ced9a8d7d0dc855235b0109', '2010-08-25 23:41:10', 'joao', NULL, 'lLYjmuUL3avZRHfWAQ3K', 'e662031c9b673c19c105af8ee652313c401de8f49df2f11c84a7b2fd0b9fb52f1e9ded57203262dd5889d1f08278cd92e6d1b36ed25208540956c0e2e3c59726', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (35.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0660af2edd59c7d441865563e55a24ec25b75eadf48055abcd739c8dc46bf18a6c227eacdc9222955b6f254480ad57c3630e41e81caf2654a218001e4f2887e0') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e662031c9b673c19c105af8ee652313c401de8f49df2f11c84a7b2fd0b9fb52f1e9ded57203262dd5889d1f08278cd92e6d1b36ed25208540956c0e2e3c59726') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e662031c9b673c19c105af8ee652313c401de8f49df2f11c84a7b2fd0b9fb52f1e9ded57203262dd5889d1f08278cd92e6d1b36ed25208540956c0e2e3c59726') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:10', '337194549ce07145868a7d4caba172af01c4895b964b5afa76170c670723da59ad0727be5506ee7b1d04c143336e12785112e2d3fa4acf3fcc58fe589d403866', '2010-08-25 23:41:10', 'joao', NULL, 'pEUaQgr6wtVeIDSSP9Ei', '0660af2edd59c7d441865563e55a24ec25b75eadf48055abcd739c8dc46bf18a6c227eacdc9222955b6f254480ad57c3630e41e81caf2654a218001e4f2887e0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (27.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '93e35c167f91803e97676bab913dee424ac30f66c5e6cd2991f694dce49c69bf2cdc8febdcdb451337f53dc42b644389e67a8b59171d1ec69058cd4a4d0bb28b') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0660af2edd59c7d441865563e55a24ec25b75eadf48055abcd739c8dc46bf18a6c227eacdc9222955b6f254480ad57c3630e41e81caf2654a218001e4f2887e0') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0660af2edd59c7d441865563e55a24ec25b75eadf48055abcd739c8dc46bf18a6c227eacdc9222955b6f254480ad57c3630e41e81caf2654a218001e4f2887e0') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:10', 'd9d20e2543bfa38af67ea017eaabdc98fe57484515d224d859c55635e64802027392e150a7baabf1f56eeab44545047a5ff38794abb7519a0428f0e2b942b57d', '2010-08-25 23:41:10', 'joao', NULL, 'IjBIeU7kRZ9fNDdohzK4', '93e35c167f91803e97676bab913dee424ac30f66c5e6cd2991f694dce49c69bf2cdc8febdcdb451337f53dc42b644389e67a8b59171d1ec69058cd4a4d0bb28b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (27.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:10', '2010-08-25 23:41:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (68.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:41:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 10, DB: 418) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:41:10) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '22f92fd6f0c3659af1a6274a1551903e89d9c40a50d5cadbed1e95c9661fbbbc715bf33fbe9efe01ea25ad47915a69df94c984a47b8bfa5db20d09e4b71c1888') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:47', '0f2d2fe7afec4055599a6dee0f7fe60fbe2ccf92f35355d4a8e91156116218730a11b99672a65c1d2e4f479edc2b58c178c8763f780237a9cb28154157097d34', '2010-08-25 23:41:47', 'admin', NULL, 'FAlB57uXSgGaQPyrRf54', '22f92fd6f0c3659af1a6274a1551903e89d9c40a50d5cadbed1e95c9661fbbbc715bf33fbe9efe01ea25ad47915a69df94c984a47b8bfa5db20d09e4b71c1888', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (134.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.1ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (53.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (2.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 3, 3)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (58.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0253a2520fc52e57aab041b547057b7c62be813e15faabd05d03c165939db78faed2b1c753446f7380a47600dff98cdd15f6ba70cde4d6747680fbceb2e88c66') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:48', '6d0b169c7536667fde6a649e451a7370806acbbd59b23bbc88aa0b231ebab164a61c945e0f797ba4d725cb91f30fe98edc500561a7d2f133439b9cb173e0cec3', '2010-08-25 23:41:48', 'joao', NULL, 'mVVSIHfbTHqO59s7Dmn', '0253a2520fc52e57aab041b547057b7c62be813e15faabd05d03c165939db78faed2b1c753446f7380a47600dff98cdd15f6ba70cde4d6747680fbceb2e88c66', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '637cba4bf12caa8ac90b99f43f4518fc2a7c6cebdbdd1537ca7058413635975024e548af5cbe3becdb44128c2e257d3f02233e30a7922fb47227ffd30ab4807d') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0253a2520fc52e57aab041b547057b7c62be813e15faabd05d03c165939db78faed2b1c753446f7380a47600dff98cdd15f6ba70cde4d6747680fbceb2e88c66') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0253a2520fc52e57aab041b547057b7c62be813e15faabd05d03c165939db78faed2b1c753446f7380a47600dff98cdd15f6ba70cde4d6747680fbceb2e88c66') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:48', 'faa8d4e3b2f4e332fb484b6f55080d5d42d80172bdcf220485b8469077e52db2c7c6ede187de93c988c477d0d78b4a7742d3f62651208ebd18ce7f15429edf3e', '2010-08-25 23:41:48', 'joao', NULL, 'AxdkPYDXWQgB25Kcjm', '637cba4bf12caa8ac90b99f43f4518fc2a7c6cebdbdd1537ca7058413635975024e548af5cbe3becdb44128c2e257d3f02233e30a7922fb47227ffd30ab4807d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cdc7bcfe0ddce91a4c747bfd90a9830746d7c4f8c5443b0118fc030d084863eb2a1c5d475d7a34ea13918d128062701ff63bf5341b4c3a5288dfb69cbf505ad6') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '637cba4bf12caa8ac90b99f43f4518fc2a7c6cebdbdd1537ca7058413635975024e548af5cbe3becdb44128c2e257d3f02233e30a7922fb47227ffd30ab4807d') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '637cba4bf12caa8ac90b99f43f4518fc2a7c6cebdbdd1537ca7058413635975024e548af5cbe3becdb44128c2e257d3f02233e30a7922fb47227ffd30ab4807d') LIMIT 1[0m
  [4;36;1mUser Create (2.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:41:48', '315b04591d525ec31ea5a7017d29a4d6168cbe00a40a890a92479891b5fddccad0793ddace565c7243a0382d86edae1d9b1ca0ec0afe1a5b0cfecf917c73db28', '2010-08-25 23:41:48', 'joao', NULL, 'LrPTEbcHKvtXWc9oB8', 'cdc7bcfe0ddce91a4c747bfd90a9830746d7c4f8c5443b0118fc030d084863eb2a1c5d475d7a34ea13918d128062701ff63bf5341b4c3a5288dfb69cbf505ad6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:41:48', '2010-08-25 23:41:48', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (49.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:41:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 23ms (View: 10, DB: 550) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:41:48) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'aceffdb67f49c80bc9c94d00aa1d689c1712f6add9ec8830b39feb747014142fd0b49b337c5b65ffcbca02db44acf2bb7b346679f54a87932b36e026870f19e8') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:42:28', '556421ee828fa5a44e47363ff1932b87e23940bc8c5abdc428f6e050b1c07a00162d42a5ba7c5968f5925735377f3ae52f652c2697c862f874a9f24cc3eb481b', '2010-08-25 23:42:28', 'admin', NULL, '2KQF9aAqgSmxsnYA6BB', 'aceffdb67f49c80bc9c94d00aa1d689c1712f6add9ec8830b39feb747014142fd0b49b337c5b65ffcbca02db44acf2bb7b346679f54a87932b36e026870f19e8', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (65.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (52.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (45.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4dda3e6c2b210d673afb2f2d0b5b84f0dc9a3a2d5e82ec2844611b0747f50005522da41808a4b09a3a1c0ce06813ababa446f48a0ede98cf8d4a631b699ac173') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:42:28', '17d897b9e497879b88e2b7b18703fcc8514ee97ec27046d5357f94187090fedb159d8d9b9b777148e07e7481fbd5e14a7dbde0ca39635047fe49829b8b11659e', '2010-08-25 23:42:28', 'joao', NULL, 'AWfwuKTlS21oy57pB3WU', '4dda3e6c2b210d673afb2f2d0b5b84f0dc9a3a2d5e82ec2844611b0747f50005522da41808a4b09a3a1c0ce06813ababa446f48a0ede98cf8d4a631b699ac173', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '488bf9190a11b81abb2aa006f9865206065cc94102e8dcfbee46185ba35a08b2aa421c955117bd206c3167d34fdb30490775af2d62c7a9bc6e9ede73d781a3fd') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4dda3e6c2b210d673afb2f2d0b5b84f0dc9a3a2d5e82ec2844611b0747f50005522da41808a4b09a3a1c0ce06813ababa446f48a0ede98cf8d4a631b699ac173') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4dda3e6c2b210d673afb2f2d0b5b84f0dc9a3a2d5e82ec2844611b0747f50005522da41808a4b09a3a1c0ce06813ababa446f48a0ede98cf8d4a631b699ac173') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:42:28', 'f7adb08bc958e62d9f8de0e1c6684d3586403480efa0570555692404cd130fb638f40d3623524557dfecd15832ac75e5a8e4af9b4fd1f7f2af1b04633683f10d', '2010-08-25 23:42:28', 'joao', NULL, 'W4o27bKqZxMVLhlZytD', '488bf9190a11b81abb2aa006f9865206065cc94102e8dcfbee46185ba35a08b2aa421c955117bd206c3167d34fdb30490775af2d62c7a9bc6e9ede73d781a3fd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 3, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4e1d2683dd413cdc610ceb98099ba57e4d6d679b44e9cc026ed68b306d0f1fe91bb7601c1920ac753031018aa4cc194a8224991f57f0c14f113badfc389659d7') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '488bf9190a11b81abb2aa006f9865206065cc94102e8dcfbee46185ba35a08b2aa421c955117bd206c3167d34fdb30490775af2d62c7a9bc6e9ede73d781a3fd') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '488bf9190a11b81abb2aa006f9865206065cc94102e8dcfbee46185ba35a08b2aa421c955117bd206c3167d34fdb30490775af2d62c7a9bc6e9ede73d781a3fd') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:42:28', 'e80a711a26b1c94de45ab89adf40985577e8e9c6c3dd7f73ce189d522c87795aecc33e43f42991d94eac08c2ba4535bdad9e42988b233d341fe25ebbd3790cca', '2010-08-25 23:42:28', 'joao', NULL, '7LtgFgOv5TIXVMlGRwV', '4e1d2683dd413cdc610ceb98099ba57e4d6d679b44e9cc026ed68b306d0f1fe91bb7601c1920ac753031018aa4cc194a8224991f57f0c14f113badfc389659d7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (44.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:42:28', '2010-08-25 23:42:28', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:42:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 447) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:42:28) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '926172308d784779e406ee06c453b054a4e5c134d01d071002733b3697f25b48d0154c7b4515cb60054e850bba75cc178eed3e35946ac8da83ac0545ec3dd999') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:47:31', '655f45fb81eccedb2baf6a105f9d365fb7f1e3370a778a83a63e2fdf37f9cb20cbcff8766af6ddc26b7c690d329ba251943259f9b379ddab42010db89f91fdb8', '2010-08-25 23:47:31', 'admin', NULL, 'fj0XwVoTmXiSM9bInzRC', '926172308d784779e406ee06c453b054a4e5c134d01d071002733b3697f25b48d0154c7b4515cb60054e850bba75cc178eed3e35946ac8da83ac0545ec3dd999', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '88f0a1dae79bba4ec9d08e58f274b6fa779e7828e0c1d0c6eb95706c4b00d615efe1e99fe03ca6ee4ddbee0d3e3f4db5506f2264f8ccd928b6b5a45be9d4a3f8') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:47:31', '7de51008b17e5912a37ab84d547f35e455a7035bf6203e68a06417f1467907f52821667c4bce4d7ee844aee4b9d3a7c828ae4fd691b5bbfc964a178ac78088ac', '2010-08-25 23:47:31', 'joao', NULL, 'pdx4Aek8T4xgsqBdU60', '88f0a1dae79bba4ec9d08e58f274b6fa779e7828e0c1d0c6eb95706c4b00d615efe1e99fe03ca6ee4ddbee0d3e3f4db5506f2264f8ccd928b6b5a45be9d4a3f8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '28c94fb35a83a0493593eb02d3af356e0611478d2fd39759435244d31c1746799a0c41a90da0a6ec6d999c4a90b0bb0fa2075cf98ffd38ea9e978772fc836801') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88f0a1dae79bba4ec9d08e58f274b6fa779e7828e0c1d0c6eb95706c4b00d615efe1e99fe03ca6ee4ddbee0d3e3f4db5506f2264f8ccd928b6b5a45be9d4a3f8') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88f0a1dae79bba4ec9d08e58f274b6fa779e7828e0c1d0c6eb95706c4b00d615efe1e99fe03ca6ee4ddbee0d3e3f4db5506f2264f8ccd928b6b5a45be9d4a3f8') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:47:31', '6d29e3bb98ce71a15a25a67fd654fe76c4edacfb5aa8a62b99192e144a8b4149f2678810f895e952789b6f1b046e906be69608f3cbaea6b27a960d748b68b19f', '2010-08-25 23:47:31', 'joao', NULL, '14aj8eGCNNlWvKrqO5ah', '28c94fb35a83a0493593eb02d3af356e0611478d2fd39759435244d31c1746799a0c41a90da0a6ec6d999c4a90b0bb0fa2075cf98ffd38ea9e978772fc836801', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '773fb3007f763745fbe3deecbbe86f9632d2192510b8f81310bb8c163ad7a157c2520b8388081e782bb46f76e2dc9a5fd1597fe69c2b8068df4630aace413fde') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '28c94fb35a83a0493593eb02d3af356e0611478d2fd39759435244d31c1746799a0c41a90da0a6ec6d999c4a90b0bb0fa2075cf98ffd38ea9e978772fc836801') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '28c94fb35a83a0493593eb02d3af356e0611478d2fd39759435244d31c1746799a0c41a90da0a6ec6d999c4a90b0bb0fa2075cf98ffd38ea9e978772fc836801') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:47:31', 'e56d3f830679c1b4d6123cc077756f0b38cecfc822b715add038fe5f47cbd0fa025b606feb99f0b0ff39aec4c1a9ab6ef2e73e86d28d4950529c43b2fc570c77', '2010-08-25 23:47:31', 'joao', NULL, 'SmPWsEZTusNsPlsGTWdR', '773fb3007f763745fbe3deecbbe86f9632d2192510b8f81310bb8c163ad7a157c2520b8388081e782bb46f76e2dc9a5fd1597fe69c2b8068df4630aace413fde', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:47:31', '2010-08-25 23:47:31', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:47:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 19ms (View: 10, DB: 440) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:47:31) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '69b3c619337b50056698995b19f0702baaef0a430af24dfee2730c97628c9cf613a66b59e07065da48e7fd1f485a8361bddf6bbb028e80a7f9aeaead7170a764') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:20', '4a54b25bb9738b2b1d726ca71e716e40a417865d12f03ed4e9f88c2bb3ec2c99c6dc50a0c0587bdd226dfab8b6f8d789dd64c9f69ab8d2f460c5593a9b709210', '2010-08-25 23:48:20', 'admin', NULL, '8zXJjBDLHq8LXjI3FTf6', '69b3c619337b50056698995b19f0702baaef0a430af24dfee2730c97628c9cf613a66b59e07065da48e7fd1f485a8361bddf6bbb028e80a7f9aeaead7170a764', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (70.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:20', '2010-08-25 23:48:20', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (44.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:20', '2010-08-25 23:48:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:20', '2010-08-25 23:48:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (33.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:20', '2010-08-25 23:48:20', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:20', '2010-08-25 23:48:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (28.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c325a3506f050a5e6b5c223eb713aba861b68517ceb15273eff26b4a8b09d0566720bb202fd18e22475ad8dda51ed6df1902785aedd14f38046676a6b651ff16') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:21', 'ef5f58eb44f723aeee21a1d894792c89c6f559f68ab1fd76e606348fb0d21d7fef7118a7561094bab133d44e349c74535455420fe58a0762efc4f37f4a4d183b', '2010-08-25 23:48:21', 'joao', NULL, 'MRGFPdfe8Kn7XgzKjwjr', 'c325a3506f050a5e6b5c223eb713aba861b68517ceb15273eff26b4a8b09d0566720bb202fd18e22475ad8dda51ed6df1902785aedd14f38046676a6b651ff16', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (31.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c3cc2f8d6bb4f070119fa56ec7b0b1ca877d9fbb1ae4439bff44618679cd6a0e5056c8bb4f775ba58960eac679bdb313dd144209e6a49c6148a9bd931ff8ea44') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c325a3506f050a5e6b5c223eb713aba861b68517ceb15273eff26b4a8b09d0566720bb202fd18e22475ad8dda51ed6df1902785aedd14f38046676a6b651ff16') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c325a3506f050a5e6b5c223eb713aba861b68517ceb15273eff26b4a8b09d0566720bb202fd18e22475ad8dda51ed6df1902785aedd14f38046676a6b651ff16') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:21', '4e21b8cb9b98a0e2521a16cfdddffaa16f0268c2f27ff4f94a221cbd00c09f8030b94cd2b8f6761893faddb8856906721cd7d8ec7bd1e0ce6f803422583eff01', '2010-08-25 23:48:21', 'joao', NULL, 'DZx4PPe2FSULIKhbhWRE', 'c3cc2f8d6bb4f070119fa56ec7b0b1ca877d9fbb1ae4439bff44618679cd6a0e5056c8bb4f775ba58960eac679bdb313dd144209e6a49c6148a9bd931ff8ea44', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (29.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ff6a6daf28b11905b9cdb31721aa7304a88474cc5a2f4873ffa1bc07cbed97ab93d72dd648595976ef034036aa0a3dd8700899c916db74d93ff9086018adf651') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c3cc2f8d6bb4f070119fa56ec7b0b1ca877d9fbb1ae4439bff44618679cd6a0e5056c8bb4f775ba58960eac679bdb313dd144209e6a49c6148a9bd931ff8ea44') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c3cc2f8d6bb4f070119fa56ec7b0b1ca877d9fbb1ae4439bff44618679cd6a0e5056c8bb4f775ba58960eac679bdb313dd144209e6a49c6148a9bd931ff8ea44') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:21', 'd09f5b8b52089b96429143008433cb0a8e08ff5eb68ff46731dbcdc58f0d3395821d42d730db4d029cbe546177d2d925294ecc234870829c05564f682130f6e4', '2010-08-25 23:48:21', 'joao', NULL, 'l3ziFVaXq2xjsfWqe8Q3', 'ff6a6daf28b11905b9cdb31721aa7304a88474cc5a2f4873ffa1bc07cbed97ab93d72dd648595976ef034036aa0a3dd8700899c916db74d93ff9086018adf651', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (28.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:48:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 10, DB: 381) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:48:21) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:21', '2010-08-25 23:48:21', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bc957d6f7308c422d31e7068762fede9b18f7aa811815151c2696c4f540ab16a1cabce7f26dea1cc33a57ff66224cfcef7ba27b75a0063c14b232e621538c261') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:33', '4482f9b8a521f7f3fc1f21e1a62c6c98157f0ae8e11062e2c6a1af788a7afe5ff4d39710f1851bba987a31e6f0fa0875878894ea0019fc900ee37bdb78577bde', '2010-08-25 23:48:33', 'admin', NULL, 'MpSc4uuzGyYdUdFHlSVQ', 'bc957d6f7308c422d31e7068762fede9b18f7aa811815151c2696c4f540ab16a1cabce7f26dea1cc33a57ff66224cfcef7ba27b75a0063c14b232e621538c261', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (54.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (49.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (53.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (34.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bc74a69cd5359bb1d6dff1969a3d67d3b0ed48b857e11e8d8788eb6f336432365b62da3b8513960d78613f3a83642400aae009ef27f319bf6056aab2e663e6e1') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:33', 'f8edb0cb028729a7cd4d2fd917d22839a60d6df4aa20242864174a97d41a2759571044c33ce51070103e8ef640d974e00fa214f7c0d574a835de9061d41c8dde', '2010-08-25 23:48:33', 'joao', NULL, 'apAzGItwzR8QTfLsiHW', 'bc74a69cd5359bb1d6dff1969a3d67d3b0ed48b857e11e8d8788eb6f336432365b62da3b8513960d78613f3a83642400aae009ef27f319bf6056aab2e663e6e1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (30.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5281bf759dc310467d8ab8c2ded61f17623d18006c864c401a2d05c1ba09065ad1d76ba3780db61684ca91a64ed5b61a2fb8028de6f6389b5a64981310f26294') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bc74a69cd5359bb1d6dff1969a3d67d3b0ed48b857e11e8d8788eb6f336432365b62da3b8513960d78613f3a83642400aae009ef27f319bf6056aab2e663e6e1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bc74a69cd5359bb1d6dff1969a3d67d3b0ed48b857e11e8d8788eb6f336432365b62da3b8513960d78613f3a83642400aae009ef27f319bf6056aab2e663e6e1') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:33', '499340687cff3fbcb9f5f1f00eeae0233c6329daa475766b4d5dac14dfccf17679e2247a8f8f1beb98290eb74d8889fca11387d220fba0131aa01d74f248145e', '2010-08-25 23:48:33', 'joao', NULL, 'hKflRJNmTBHySO2fiP', '5281bf759dc310467d8ab8c2ded61f17623d18006c864c401a2d05c1ba09065ad1d76ba3780db61684ca91a64ed5b61a2fb8028de6f6389b5a64981310f26294', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8d897d4ff1ff8221125bdb8651af55cb5eea938f50ee6cfe18e55fb9555077b45339c82d11d29f0ebeb12b1911c922e46465d0d3bffb3d5d0d180262547476d8') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5281bf759dc310467d8ab8c2ded61f17623d18006c864c401a2d05c1ba09065ad1d76ba3780db61684ca91a64ed5b61a2fb8028de6f6389b5a64981310f26294') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5281bf759dc310467d8ab8c2ded61f17623d18006c864c401a2d05c1ba09065ad1d76ba3780db61684ca91a64ed5b61a2fb8028de6f6389b5a64981310f26294') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:48:33', '8e0ceefb4efdfc8e68ac469023ef468426342591d7a00d9a546ae101cb4fc048a4f1191e90d19d7138d6b080d5257c0f27ea0bdc9aa1e02882195c41801ec8c6', '2010-08-25 23:48:33', 'joao', NULL, 'c5l2upWHBZovpB7DRVkY', '8d897d4ff1ff8221125bdb8651af55cb5eea938f50ee6cfe18e55fb9555077b45339c82d11d29f0ebeb12b1911c922e46465d0d3bffb3d5d0d180262547476d8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (2.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (39.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:48:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 410) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:48:33) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:48:33', '2010-08-25 23:48:33', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3cf26e4c479a5c253629e909f2073dabb24f07fd1f2899e03ed378e41b4fb4fa6d5d2dfac0de9162ad160947650338c890388d90bc2bd05a4f6724803e1650bc') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:49:04', '70b8527332e5c7bf78595079bc109eff66cb8b95772b31e4bf0e413a92c105581896268b61250e0dc3223426e57796d6123c9c211221ed904722f6993578ba5d', '2010-08-25 23:49:04', 'admin', NULL, 'qRTMQCr9iqYYMFdPJxn', '3cf26e4c479a5c253629e909f2073dabb24f07fd1f2899e03ed378e41b4fb4fa6d5d2dfac0de9162ad160947650338c890388d90bc2bd05a4f6724803e1650bc', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (90.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '939de9652e3c3028d78b21c067e50adb26d432d06ec64c7fecc80c4fbbb14b56d3588fcf607fdc9d0f493cd70863692c462e62d30b2718ceb48b7316b42cb91d') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:49:04', '5d76a1f4ca932086ebb8841a122a2e5006a3f1776f4f5ae2c451954204773740d6e35fc3a98528d8b4a6b85838c0b71a0bb7f13d80f833f31e81978162dcacb7', '2010-08-25 23:49:04', 'joao', NULL, 'eypdgDb0uyaEtN62Gld5', '939de9652e3c3028d78b21c067e50adb26d432d06ec64c7fecc80c4fbbb14b56d3588fcf607fdc9d0f493cd70863692c462e62d30b2718ceb48b7316b42cb91d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:04', '2010-08-25 23:49:04', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (36.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '97641c7cdf66d72984e77ba729d705da30db7d565b1156c0614e271869148fda0d72751e19f71efec58807082d69259cebd622b662d9cfa905395f72d4f6a4fb') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '939de9652e3c3028d78b21c067e50adb26d432d06ec64c7fecc80c4fbbb14b56d3588fcf607fdc9d0f493cd70863692c462e62d30b2718ceb48b7316b42cb91d') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '939de9652e3c3028d78b21c067e50adb26d432d06ec64c7fecc80c4fbbb14b56d3588fcf607fdc9d0f493cd70863692c462e62d30b2718ceb48b7316b42cb91d') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:49:04', 'c043c7ac42bae73df6f79f23a52f3e115c9b5360e573bb170e6603a0045dc2b4e192cc8f79260464b46092476ee15e513b1a58479650c451da8ba3b08ef27ade', '2010-08-25 23:49:04', 'joao', NULL, 'SV4cwnLmS73J6k3caD', '97641c7cdf66d72984e77ba729d705da30db7d565b1156c0614e271869148fda0d72751e19f71efec58807082d69259cebd622b662d9cfa905395f72d4f6a4fb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0ba9982f908cf0d812693ecefb0f18290dd6ab1f7b7bf793a872ec9da75be1f0dd8a2d53cbba683ae4c78c5d6623815e13a94639f340f0aada3852e427a7d831') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '97641c7cdf66d72984e77ba729d705da30db7d565b1156c0614e271869148fda0d72751e19f71efec58807082d69259cebd622b662d9cfa905395f72d4f6a4fb') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '97641c7cdf66d72984e77ba729d705da30db7d565b1156c0614e271869148fda0d72751e19f71efec58807082d69259cebd622b662d9cfa905395f72d4f6a4fb') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:49:05', '895cdbd352a2fc88111d822b242d2b85e16df67f55da46de85f63a7fb722d6521f884a993dbea353933f5552f402e14b829995dda19f9c87978191d8a06a7d0b', '2010-08-25 23:49:05', 'joao', NULL, 'jxe57qBfqi05ZQQwIj', '0ba9982f908cf0d812693ecefb0f18290dd6ab1f7b7bf793a872ec9da75be1f0dd8a2d53cbba683ae4c78c5d6623815e13a94639f340f0aada3852e427a7d831', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 4, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (33.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (75.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:49:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 15ms (View: 10, DB: 506) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:49:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:49:05', '2010-08-25 23:49:05', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (40.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (5.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4feac0e86f43668250ea9173d15328f91de039312a9d99a488bd254ba9d1aa03deced712d1f8c309f60faa2922fbb69a9b6c2792e99112fe3d851d804eb33b7e') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:50:56', 'f3e667ce09a45811b04bf179a2fef72b23fa71a8c017ba1f77a09cd0b805f7b5632ce8c53ebc0a77b0f4da982a7cb448dcedf36d7a120d64ddbf6714490b80d6', '2010-08-25 23:50:56', 'admin', NULL, 'NmOTYuwnqSIw7oj01A3W', '4feac0e86f43668250ea9173d15328f91de039312a9d99a488bd254ba9d1aa03deced712d1f8c309f60faa2922fbb69a9b6c2792e99112fe3d851d804eb33b7e', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (62.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:56', '2010-08-25 23:50:56', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:56', '2010-08-25 23:50:56', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:56', '2010-08-25 23:50:56', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (54.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:56', '2010-08-25 23:50:56', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:56', '2010-08-25 23:50:56', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (55.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1fe5a5061a25197e37fbd73c6bea9d535ab728fcd078d4f36e7b5e2b113d015180645ee0dd854f452d1840b44bd268678a7fa226d75e8fd48494d0265efd54fa') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:50:57', '0b0fa830acc7f7f2854449e0f3957d663d4a4740f06d2ec971630106cf657b268a0dacb56897923a122944e6f33c6c8b42b5b12a8429efb32e46aaf084f784c5', '2010-08-25 23:50:57', 'joao', NULL, 'KMX0ocUssOMxI43ARqmz', '1fe5a5061a25197e37fbd73c6bea9d535ab728fcd078d4f36e7b5e2b113d015180645ee0dd854f452d1840b44bd268678a7fa226d75e8fd48494d0265efd54fa', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '54eb5673b7a935467636f6da17275f893a9fb0c4d357c9e994234c2f16afd8ba13baf9267cf95150cb0871b1b101dfa097df67788af13b5da8f86c9485230d1e') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1fe5a5061a25197e37fbd73c6bea9d535ab728fcd078d4f36e7b5e2b113d015180645ee0dd854f452d1840b44bd268678a7fa226d75e8fd48494d0265efd54fa') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1fe5a5061a25197e37fbd73c6bea9d535ab728fcd078d4f36e7b5e2b113d015180645ee0dd854f452d1840b44bd268678a7fa226d75e8fd48494d0265efd54fa') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:50:57', 'fde1668af2ee671a9b8bbf2ce2f7e631ed44488812798c9e9c71c9449c516af002c44230d9dfa7c827235ba4d63ec890cbbe12d748a5eb654ed2057dc52e9cbf', '2010-08-25 23:50:57', 'joao', NULL, 'NcNMHtOS4UYEmc2KBez', '54eb5673b7a935467636f6da17275f893a9fb0c4d357c9e994234c2f16afd8ba13baf9267cf95150cb0871b1b101dfa097df67788af13b5da8f86c9485230d1e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ba367e778e947ce1e7b42f826545c942fa96dbf389f5a49c6a8499bbeda7bdc78ca4872358da0cdfe9b588d0de5db78f0497f7a74966f0c718231f0008cb2bc1') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '54eb5673b7a935467636f6da17275f893a9fb0c4d357c9e994234c2f16afd8ba13baf9267cf95150cb0871b1b101dfa097df67788af13b5da8f86c9485230d1e') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '54eb5673b7a935467636f6da17275f893a9fb0c4d357c9e994234c2f16afd8ba13baf9267cf95150cb0871b1b101dfa097df67788af13b5da8f86c9485230d1e') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:50:57', '7551316400efabacfb68f46b3237e1cc82f6cb34d408f2a218e0a9a793cbd571cd9555896c8fba8b4d6b4dd534c1c125ed13680651aca0d41892bfcb99d3d414', '2010-08-25 23:50:57', 'joao', NULL, 'SxCOMkqoAqzKC0xEXytx', 'ba367e778e947ce1e7b42f826545c942fa96dbf389f5a49c6a8499bbeda7bdc78ca4872358da0cdfe9b588d0de5db78f0497f7a74966f0c718231f0008cb2bc1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:50:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 24ms (View: 10, DB: 485) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:50:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:50:57) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:50:57', '2010-08-25 23:50:57', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (45.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '37fd0f48759f54961e1b1c4a23014edd594317a3b21f2b6712aeca8132dcbf97dab14f6007d9d1dd4b70b05c4426dbef64c888814398945c33727c4084f6a91b') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:51:45', '31c36fb74323a2bc522741b1315132503c4d529874e2f3bca0e412d110f2ed0cf168420e3c8542c0132ece15d39fbb6a524c4bd42baf7743500af73a45b3a7f5', '2010-08-25 23:51:45', 'admin', NULL, 'iocpCx6t89xDRoKoTVY', '37fd0f48759f54961e1b1c4a23014edd594317a3b21f2b6712aeca8132dcbf97dab14f6007d9d1dd4b70b05c4426dbef64c888814398945c33727c4084f6a91b', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (80.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (47.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (48.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (50.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a37b93224cb65e465881e1704c15982c9cf074bc900b136de2e7387958eb82af56fd4c4c6fe8a937d8bdc27246933b208d66461145b1224d61e9306621a1d108') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:51:45', 'f88ac5f5db603ed56eaea4f5a2a3f0fdfaf58e84aafb91a7387373b1d7ae12446dfc2a2a92ec48bed4ed528653a79bc7460f45859042100d9a65c78bcd519a9d', '2010-08-25 23:51:45', 'joao', NULL, 'pp77mWtt8TMGFG9u0O6L', 'a37b93224cb65e465881e1704c15982c9cf074bc900b136de2e7387958eb82af56fd4c4c6fe8a937d8bdc27246933b208d66461145b1224d61e9306621a1d108', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:45', '2010-08-25 23:51:45', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (28.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bec5b78e4003acc4dff5f63e5ce3ddbd087c979639e74a7efcc7c1d9368e402940aa7c8bb42d054687661f114b3a21e682a9416cd3758adde106bd017557cfca') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a37b93224cb65e465881e1704c15982c9cf074bc900b136de2e7387958eb82af56fd4c4c6fe8a937d8bdc27246933b208d66461145b1224d61e9306621a1d108') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a37b93224cb65e465881e1704c15982c9cf074bc900b136de2e7387958eb82af56fd4c4c6fe8a937d8bdc27246933b208d66461145b1224d61e9306621a1d108') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:51:46', '2634497132c0b395e00a2f9c04e5fa86cdca06363f03e78d27bd9e7b4be4894db2261529a06bebe59c3ac2aafad33dea311176648fc1fae408f5e95188f99a4d', '2010-08-25 23:51:46', 'joao', NULL, 'yoCxRSEBu6fB31xc4kDZ', 'bec5b78e4003acc4dff5f63e5ce3ddbd087c979639e74a7efcc7c1d9368e402940aa7c8bb42d054687661f114b3a21e682a9416cd3758adde106bd017557cfca', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (36.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dd381ef8c9da712ad9ca5ce55f2de584ca9705d97d97066d0229abef2ea51701dd0e35752a978298a79a1cbc363bc97cee443862285bc16ffe28d7f38528a100') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bec5b78e4003acc4dff5f63e5ce3ddbd087c979639e74a7efcc7c1d9368e402940aa7c8bb42d054687661f114b3a21e682a9416cd3758adde106bd017557cfca') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bec5b78e4003acc4dff5f63e5ce3ddbd087c979639e74a7efcc7c1d9368e402940aa7c8bb42d054687661f114b3a21e682a9416cd3758adde106bd017557cfca') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:51:46', 'e0ff4175ca7e7123552d633c806c01a4acab8e05b1d9cebc3586427dd7a17f4650b28c202244a75cf227f94eb99c9e55b30a5b0aed91f656d6952c2bb4a50cc4', '2010-08-25 23:51:46', 'joao', NULL, 'AJ6uOGwP118nFHUC1Ha3', 'dd381ef8c9da712ad9ca5ce55f2de584ca9705d97d97066d0229abef2ea51701dd0e35752a978298a79a1cbc363bc97cee443862285bc16ffe28d7f38528a100', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (29.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:51:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 11, DB: 436) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:51:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:51:46) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:51:46', '2010-08-25 23:51:46', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (47.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '448449e2c3113dc2478363aa24b2a05d63ef6feef98d239b21d11f47faa2dc1922a3d93e0a9f348e55462b82d3dbb8642de5bdc44495328ebb297315b21a7de9') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:12', 'c9c1ba41e9bdaf60e34331b1341372d00ff82c985bd47e04dbad98b24939675d07005ff3cb454a8c0ba16f14eb8dba35b3a7e6ba5977d8ed23eb3729b0ac6892', '2010-08-25 23:56:12', 'admin', NULL, 'V47DcqfJW1fac3Wc11O', '448449e2c3113dc2478363aa24b2a05d63ef6feef98d239b21d11f47faa2dc1922a3d93e0a9f348e55462b82d3dbb8642de5bdc44495328ebb297315b21a7de9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (54.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (58.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:12', '2010-08-25 23:56:12', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (60.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7195a419b2cfdecbf841dca1a549c223185188829ca87fb3a084dd348e03e4f8ea2be1d4093e9058395915d3a37acf084d3e3e47f723d3818f88eb942c9f0557') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:13', 'f27407daf32d52763293e887718c643402d72c4e923c8b8c8ab4af41edab14cfe7dbd9c7bac9aa150ce1610dd07dd2f8a273960e90388073be3631baac5c7ad4', '2010-08-25 23:56:13', 'joao', NULL, 'QPIaFwHJAytAlFjrdml', '7195a419b2cfdecbf841dca1a549c223185188829ca87fb3a084dd348e03e4f8ea2be1d4093e9058395915d3a37acf084d3e3e47f723d3818f88eb942c9f0557', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (56.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '138cd112e04f17167ad46663c1013f75ffa589027c1d6e991f3eb4b6e1cc8ed1df7ed66414571b6e7c82d14c68d1e220087f0d5615b06bdac5dd711cf3d0ca42') LIMIT 1[0m
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7195a419b2cfdecbf841dca1a549c223185188829ca87fb3a084dd348e03e4f8ea2be1d4093e9058395915d3a37acf084d3e3e47f723d3818f88eb942c9f0557') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7195a419b2cfdecbf841dca1a549c223185188829ca87fb3a084dd348e03e4f8ea2be1d4093e9058395915d3a37acf084d3e3e47f723d3818f88eb942c9f0557') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:13', '605533e5682c0684125c13f9b2678e9191069dca674d0042203057c4c046608626f8096101a829b2e0ff8eb23f55d355d982f4167a8126021f36148f7d3707eb', '2010-08-25 23:56:13', 'joao', NULL, '9GrI1M06axKsqMH8Xz8s', '138cd112e04f17167ad46663c1013f75ffa589027c1d6e991f3eb4b6e1cc8ed1df7ed66414571b6e7c82d14c68d1e220087f0d5615b06bdac5dd711cf3d0ca42', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '94dfc2ff1dbb80ab1651bc4b34bf082f3026c2f39c61f6f9151e8e9ac4e7391b5d99fbf669ef7eabd8d1ba36c32f6348888cbcc81ee5754248909fb789c9eae4') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '138cd112e04f17167ad46663c1013f75ffa589027c1d6e991f3eb4b6e1cc8ed1df7ed66414571b6e7c82d14c68d1e220087f0d5615b06bdac5dd711cf3d0ca42') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '138cd112e04f17167ad46663c1013f75ffa589027c1d6e991f3eb4b6e1cc8ed1df7ed66414571b6e7c82d14c68d1e220087f0d5615b06bdac5dd711cf3d0ca42') LIMIT 1[0m
  [4;36;1mUser Create (1.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:13', '0a713087de0c66b4fe34292a83411fac979962acde2cff562a197ceaaca911a0975058a4e3b96d6db9ff7c46c73a415fe475b2ec930f1e989548a78ad1c8e9a0', '2010-08-25 23:56:13', 'joao', NULL, 'rgsPYs1RmKngmsDbCWxA', '94dfc2ff1dbb80ab1651bc4b34bf082f3026c2f39c61f6f9151e8e9ac4e7391b5d99fbf669ef7eabd8d1ba36c32f6348888cbcc81ee5754248909fb789c9eae4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (33.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:56:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 9, DB: 476) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:56:13) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:13', '2010-08-25 23:56:13', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (27.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a845bf46b482f6074e91cc1c199b5a26d444909b90dd2941342082187787d66c4b87f735067d329ea685a9a8242f2f9632efd455d6c69a963ac240a0bc25ee4e') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:40', '2471acef017ca56f56273a27032f94bd5882d03eeb7e449a83a3c36482d90964c704c13b1b627e4c4be730bc8f85a7d1e9a72e2e5b84a40376fd01984cd804b9', '2010-08-25 23:56:40', 'admin', NULL, 'hYpXaUtZTxT590CJdZ20', 'a845bf46b482f6074e91cc1c199b5a26d444909b90dd2941342082187787d66c4b87f735067d329ea685a9a8242f2f9632efd455d6c69a963ac240a0bc25ee4e', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (39.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (1.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (41.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a54096ee82d96477f190f70b968f7b6c0167b3ceada72492ca00e6f480f5d340e1405d86c4d0db902763e1605148f910f491dbf7ab7f82b7aae9d87cae906019') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:41', '55349af47583b0afe10ce2f44d19c76273dd21a22ccbfa0fa393e2e89f3f7f1cc11b06edbd41fea565ee69489e1992561f8f8f5e9fe6b3d06ad3a80397680147', '2010-08-25 23:56:41', 'joao', NULL, 'OlDdLYNnQyngMUVIIkMQ', 'a54096ee82d96477f190f70b968f7b6c0167b3ceada72492ca00e6f480f5d340e1405d86c4d0db902763e1605148f910f491dbf7ab7f82b7aae9d87cae906019', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (49.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fa5ee122d0ba724f39b947b0ba10eb055962eb969bf4ae2cdd3d415096c8d1f70da305a9b5d32e6d6144932efcb035ac2f8b0fed619d290b178dab6adaa7322b') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a54096ee82d96477f190f70b968f7b6c0167b3ceada72492ca00e6f480f5d340e1405d86c4d0db902763e1605148f910f491dbf7ab7f82b7aae9d87cae906019') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a54096ee82d96477f190f70b968f7b6c0167b3ceada72492ca00e6f480f5d340e1405d86c4d0db902763e1605148f910f491dbf7ab7f82b7aae9d87cae906019') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:41', '59b93587c518d6eb5bcd6709d6821ea13200ad5befbbc26838ab580617239158b240d518263ed299de7d1bc657238d47eefa8a3ddf6ba08fe1ed88d3bef4fe63', '2010-08-25 23:56:41', 'joao', NULL, 'xkGrPMhWfW6pq9OCSVOl', 'fa5ee122d0ba724f39b947b0ba10eb055962eb969bf4ae2cdd3d415096c8d1f70da305a9b5d32e6d6144932efcb035ac2f8b0fed619d290b178dab6adaa7322b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '307f9847bc0e7c9a24d109cd474db8614a235ae14c74936f806f731c62cdae37dd99d39022b67452e14c8527a0845c6725b41cff8480134ba6c26fc0b200f39b') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fa5ee122d0ba724f39b947b0ba10eb055962eb969bf4ae2cdd3d415096c8d1f70da305a9b5d32e6d6144932efcb035ac2f8b0fed619d290b178dab6adaa7322b') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fa5ee122d0ba724f39b947b0ba10eb055962eb969bf4ae2cdd3d415096c8d1f70da305a9b5d32e6d6144932efcb035ac2f8b0fed619d290b178dab6adaa7322b') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:56:41', '045d77f767791847899eb46f6c5b9483f9a0d524de508828f0bf07aae0a6305904e1109530b5bd15cd36b11e4b5f0ea4052553c6dba90d936d3212fc5da510ec', '2010-08-25 23:56:41', 'joao', NULL, 'ONqkLI7rPnCVmy1CigO7', '307f9847bc0e7c9a24d109cd474db8614a235ae14c74936f806f731c62cdae37dd99d39022b67452e14c8527a0845c6725b41cff8480134ba6c26fc0b200f39b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:56:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 409) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:56:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:56:41) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:56:41', '2010-08-25 23:56:41', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (41.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '10826204467438947c2e2072c70225093c7bb518ddfeef5e00d2a5af61fe6cbae86803a1afc352e55d6579cca254b96d1bc3f445e2eb984f9f36dea97bff0b77') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:16', '1ece7cd1ea6a7c87728ced15e73d04df8afe01d63d4952d81117e93895f46ac6ff770349a51b3445bcc05da90a9fcf005d436970f6946cde6ff9be1975f2f883', '2010-08-25 23:58:16', 'admin', NULL, 'f7H9EC2BKRvPNyuiJdle', '10826204467438947c2e2072c70225093c7bb518ddfeef5e00d2a5af61fe6cbae86803a1afc352e55d6579cca254b96d1bc3f445e2eb984f9f36dea97bff0b77', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (60.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (38.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'af62f317329a35ad06a0e49205a4353d1e0ff4b873f3c6f12757267343f6059677c7727091f4c8218a3298c704fceecc304b6b7b047583ffcadfac93141d35b4') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:16', '96496f9cd8f2f2e3268d3273928716d67d8c334f31a74fb82b2dd4af06bf0932a1bedd6aea389e76762efcd4b7e37fc8ba76772f85c053264b128b2f3d7e5a56', '2010-08-25 23:58:16', 'joao', NULL, 'wU46M65X3DNrClQccWp', 'af62f317329a35ad06a0e49205a4353d1e0ff4b873f3c6f12757267343f6059677c7727091f4c8218a3298c704fceecc304b6b7b047583ffcadfac93141d35b4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (36.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '219b50e09e6c68d44013066842eb79dba52f4d5360bf61cf09ae5b0c9373668734a7ad87436aacc53e6048323b955c8d2659417b6d8d25e540aef16d4127ffcf') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af62f317329a35ad06a0e49205a4353d1e0ff4b873f3c6f12757267343f6059677c7727091f4c8218a3298c704fceecc304b6b7b047583ffcadfac93141d35b4') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af62f317329a35ad06a0e49205a4353d1e0ff4b873f3c6f12757267343f6059677c7727091f4c8218a3298c704fceecc304b6b7b047583ffcadfac93141d35b4') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:16', 'e06c69a133ab2aa1630a870e7e4a1196b11605ba031c975135cac22c8486165e7884a23d82a976523125b613b2d67e5e0ec835b9651bf73d687e40a0b61ecf87', '2010-08-25 23:58:16', 'joao', NULL, 'qOhp9G3elopC1g7uINK', '219b50e09e6c68d44013066842eb79dba52f4d5360bf61cf09ae5b0c9373668734a7ad87436aacc53e6048323b955c8d2659417b6d8d25e540aef16d4127ffcf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (35.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3d61a44b485bae2d1983f593cc597095cadd45008fa5e525e487d6376d8f45eec7686ace25ff7a413734b8ba75c21a35bdc8963f90af21262defdfe1c9d974fc') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '219b50e09e6c68d44013066842eb79dba52f4d5360bf61cf09ae5b0c9373668734a7ad87436aacc53e6048323b955c8d2659417b6d8d25e540aef16d4127ffcf') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '219b50e09e6c68d44013066842eb79dba52f4d5360bf61cf09ae5b0c9373668734a7ad87436aacc53e6048323b955c8d2659417b6d8d25e540aef16d4127ffcf') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:16', '38d4243c6f31ccfc23d4537e933f42c2cf74e0c38bb7b6e7bfd7953eb3b5576acab975b14418c1c368b03fc0f8acbb9d9f312874a4796d6ab26631567c06671e', '2010-08-25 23:58:16', 'joao', NULL, 'icNw3UBRpuJI4lBQQUGQ', '3d61a44b485bae2d1983f593cc597095cadd45008fa5e525e487d6376d8f45eec7686ace25ff7a413734b8ba75c21a35bdc8963f90af21262defdfe1c9d974fc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (2.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (39.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:58:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 428) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:58:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:58:16) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:16', '2010-08-25 23:58:16', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (38.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c54594b1e3b4129c428d61b5e042c00eda5527bb39e65a9c31dc485b75b8349ac1b4c8c6edff88844fdfcd0f063d0e348440a5df184ac6c6d2039ef3628d5243') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:44', '864e3430da60344f5e2e2de9f5df3d3bb6f05f9f8b8a58cc3bdf8d437d242565776d2f126b4b0c3192f203a79a8a56bdc0d66c02cfced32c83ac80a486ffa113', '2010-08-25 23:58:44', 'admin', NULL, 'E9tfptTEqW5DChTXkou', 'c54594b1e3b4129c428d61b5e042c00eda5527bb39e65a9c31dc485b75b8349ac1b4c8c6edff88844fdfcd0f063d0e348440a5df184ac6c6d2039ef3628d5243', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (67.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (47.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (252.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (58.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c777ef2441fff520a18191bb432b611235d92ee3a3cfb8dd06cdf7f496c6b9736c5dbe131971eb92a8c779534922de38614f943558fa12019162795f71569500') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:44', 'b42f8550d28a9b8f120ab92a9d2005b2df5354d45d3e8a3c81c40ec93950a20383123192bee42afd7ea54d9ffe7d12d0fb65e516a005f47fc54b67c848db72c6', '2010-08-25 23:58:44', 'joao', NULL, 'kvSZrhoBQJmKOq6yNMAs', 'c777ef2441fff520a18191bb432b611235d92ee3a3cfb8dd06cdf7f496c6b9736c5dbe131971eb92a8c779534922de38614f943558fa12019162795f71569500', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:44', '2010-08-25 23:58:44', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (54.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3027ff30257913b187dedea9d776236574d4aeee0eeb3d64cf5f1180322d1e84c2788a34fc46af14504180c5539ff0509b08f71e5a3185c190b783e93b5129f8') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c777ef2441fff520a18191bb432b611235d92ee3a3cfb8dd06cdf7f496c6b9736c5dbe131971eb92a8c779534922de38614f943558fa12019162795f71569500') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c777ef2441fff520a18191bb432b611235d92ee3a3cfb8dd06cdf7f496c6b9736c5dbe131971eb92a8c779534922de38614f943558fa12019162795f71569500') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:45', '7a6e73405583cad074a6dff22de780cdf9bb4d08afaab014ee6093c667b564ed6e81a30a517dc9edb0140b2294fcab1cb4c374868844e9fbbb07bdce6cf3ce33', '2010-08-25 23:58:45', 'joao', NULL, 'XYwCbnNjUymIcINf0PH', '3027ff30257913b187dedea9d776236574d4aeee0eeb3d64cf5f1180322d1e84c2788a34fc46af14504180c5539ff0509b08f71e5a3185c190b783e93b5129f8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (49.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '906f86f1d3a63f5c037f845ad3f21b63f590cc9bfd1b9f8d8a0b40a6df3e018c6fbe7d016beec9e137d0e438a70c076d0a8846464fd9a26adf72bd4930c1cf04') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3027ff30257913b187dedea9d776236574d4aeee0eeb3d64cf5f1180322d1e84c2788a34fc46af14504180c5539ff0509b08f71e5a3185c190b783e93b5129f8') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3027ff30257913b187dedea9d776236574d4aeee0eeb3d64cf5f1180322d1e84c2788a34fc46af14504180c5539ff0509b08f71e5a3185c190b783e93b5129f8') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-25 23:58:45', 'ffbc06d5ed7dc071c7efc0dde3a548a4983f1e1da4517c967ad41c193c560ff96a95f855c1673de5614b801ea89e46295f3ba1b84e8ddc4e6479c24462981474', '2010-08-25 23:58:45', 'joao', NULL, 'mRilZIrq0yDVfqkYrKsQ', '906f86f1d3a63f5c037f845ad3f21b63f590cc9bfd1b9f8d8a0b40a6df3e018c6fbe7d016beec9e137d0e438a70c076d0a8846464fd9a26adf72bd4930c1cf04', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:58:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 15ms (View: 10, DB: 672) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 20:58:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 20:58:45) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-25 23:58:45', '2010-08-25 23:58:45', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (34.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'daa9cbbc3df5e47435c25207a6ef8ae4f19933562b2d7101444bfb792932a02ad8d373e7a3d5108b41489c5c422065e4c7780f441189ba8b96a261e2027f7767') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:02:37', '2a49357be90000b8360ab5f86f78761f7ed01a76af4ceaa39fc842993804e9bcc7afe27adc50a22c4db076f976a712be23265864a76b7931e74a562bdb8ef21f', '2010-08-26 00:02:37', 'admin', NULL, 'bX6rxZ6iX0XUGiPgMtU', 'daa9cbbc3df5e47435c25207a6ef8ae4f19933562b2d7101444bfb792932a02ad8d373e7a3d5108b41489c5c422065e4c7780f441189ba8b96a261e2027f7767', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (78.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (53.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (2.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (62.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c50572ca714e3459a7b2ee529f88020422f0f50943419ac4ead9b5bfd23e90747fecc7ce9c242102d65ebad0ab3b1e3d764436ffd11cd2c80d282444ae4ebac4') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:02:37', '86bcfb1eddd188cc0b1d2669313ccf7caf96bfbb9820e3372750b3f8ca516cae227265bf827b1d04a1df557e8b8b3de721d108d9fe1652ce39aa199cf5d3bb83', '2010-08-26 00:02:37', 'joao', NULL, 'xWv2hOoIP4183F0dSoBs', 'c50572ca714e3459a7b2ee529f88020422f0f50943419ac4ead9b5bfd23e90747fecc7ce9c242102d65ebad0ab3b1e3d764436ffd11cd2c80d282444ae4ebac4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:37', '2010-08-26 00:02:37', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f35c3684c310073f73d5cd509e2ddfd3a8db65acc026474ca2c716b8ad284092640bbd5522fe2549f646738e09627adf2c0c9336129f5da2c7e44a945d9172f4') LIMIT 1[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c50572ca714e3459a7b2ee529f88020422f0f50943419ac4ead9b5bfd23e90747fecc7ce9c242102d65ebad0ab3b1e3d764436ffd11cd2c80d282444ae4ebac4') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c50572ca714e3459a7b2ee529f88020422f0f50943419ac4ead9b5bfd23e90747fecc7ce9c242102d65ebad0ab3b1e3d764436ffd11cd2c80d282444ae4ebac4') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:02:38', 'e6c6f98c1909b08d445018d9a65d4d0c78b963e68ecc9823cf4212f03d349aed10f0e0335f05f38d3d52f991c6b3f4dae4b5a0f33ae867364090749da63631fb', '2010-08-26 00:02:38', 'joao', NULL, 'q0qpuJguI39zYu7YGIuR', 'f35c3684c310073f73d5cd509e2ddfd3a8db65acc026474ca2c716b8ad284092640bbd5522fe2549f646738e09627adf2c0c9336129f5da2c7e44a945d9172f4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e322c922449c02db2bb43e621aac08707a740404a58de98df54275ec5427e1ddc1844158083a37c2910728cf1cfd54414d14feac59186098b9976a21aff06ff0') LIMIT 1[0m
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f35c3684c310073f73d5cd509e2ddfd3a8db65acc026474ca2c716b8ad284092640bbd5522fe2549f646738e09627adf2c0c9336129f5da2c7e44a945d9172f4') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f35c3684c310073f73d5cd509e2ddfd3a8db65acc026474ca2c716b8ad284092640bbd5522fe2549f646738e09627adf2c0c9336129f5da2c7e44a945d9172f4') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:02:38', '477b3c0d4d10f9c21248db27c24337b4ca2dd507e1c36fd279af734bbd40c937f1c943e16b37e5b5198419fc5decd561e0bca782d246ba9e8928bd109a8645a7', '2010-08-26 00:02:38', 'joao', NULL, 'Kg5fks1ACdS42HLFlmhX', 'e322c922449c02db2bb43e621aac08707a740404a58de98df54275ec5427e1ddc1844158083a37c2910728cf1cfd54414d14feac59186098b9976a21aff06ff0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:02:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 11, DB: 481) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '58992161839225e97fe8614e1701780cb54f7c93415f2c47ee42b3e0506304a0a918f83117641ff2842e6d508a9237f5d2500ceb880245becbc0ba73e2f728ef') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:02:38', 'f6d51576c2cd9067c473129c7647bac29ff49adfa5950349b39ad6f9847a7f670a3a04c1038117be5fb819aae1129a8c33abd0894be9c9e790ece7f559dc892d', '2010-08-26 00:02:38', 'joao', NULL, 'ex0MFrtVghW6VC20APtj', '58992161839225e97fe8614e1701780cb54f7c93415f2c47ee42b3e0506304a0a918f83117641ff2842e6d508a9237f5d2500ceb880245becbc0ba73e2f728ef', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` [0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:02:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 10, DB: 7) | 200 OK [http://test.host/]
  [4;36;1mSQL (54.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:02:38) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:02:38', '2010-08-26 00:02:38', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 56) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (43.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0d6834adb4da0326798050072d02857cd6261629767dc5feb054fb489b0008c0b115b6d2b24995c116d3d406dc554a5868a6b703d3ef8e6bcbc4909aa1faba49') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:05:02', 'da978fefb659a9b432676d914de152ac4856800db408768642c361206cefd9f416d07d4431c96b07fa351d05f5cc01eead04826c8efd0843b13f9445264daa95', '2010-08-26 00:05:02', 'admin', NULL, 'uxb6lxKFdLGqWeHMnQJ', '0d6834adb4da0326798050072d02857cd6261629767dc5feb054fb489b0008c0b115b6d2b24995c116d3d406dc554a5868a6b703d3ef8e6bcbc4909aa1faba49', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (97.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (95.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (49.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f6a7b55f0cc04c3edad759e9355f72e7a499df761ae0c858dd5629577e7e49a08d2dbd756bc8d0de9c610e081daa5f9fe682f6230b663f9f55ee4b61f6d94102') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:05:02', '5ee24cacf02012fbc5173f4b25bcced29fb0d118afc2b8ae6a58669fe499f939af4a307e03d55afd5ce87a2e83128e7f3911903ca61de39546dcba125abc55ba', '2010-08-26 00:05:02', 'joao', NULL, 'r6HLyZ0HybWn10olWOO', 'f6a7b55f0cc04c3edad759e9355f72e7a499df761ae0c858dd5629577e7e49a08d2dbd756bc8d0de9c610e081daa5f9fe682f6230b663f9f55ee4b61f6d94102', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '745fc4f7c9549b4d187947a6bc42638120884fc9318be89cda6230de32260d8b097d6e0f1179b8037f7cfdafa7af5c8085a209a9acab2d94cbb88bd4aaa70aaf') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f6a7b55f0cc04c3edad759e9355f72e7a499df761ae0c858dd5629577e7e49a08d2dbd756bc8d0de9c610e081daa5f9fe682f6230b663f9f55ee4b61f6d94102') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f6a7b55f0cc04c3edad759e9355f72e7a499df761ae0c858dd5629577e7e49a08d2dbd756bc8d0de9c610e081daa5f9fe682f6230b663f9f55ee4b61f6d94102') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:05:02', 'c699e800cb4e920103bc1b479ecf19b83ddfda01e0e6a39a2de435ac3e3fca01106e3c0780b5e5baa996ff32f7dbdc3323c5b01e2afb56fef421294848591011', '2010-08-26 00:05:02', 'joao', NULL, 'Of2RIMq80W66iWQ6AV', '745fc4f7c9549b4d187947a6bc42638120884fc9318be89cda6230de32260d8b097d6e0f1179b8037f7cfdafa7af5c8085a209a9acab2d94cbb88bd4aaa70aaf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cd55c49726bb9d28f102dcefc78fb9695406b86be1d28f2bf8db2620f86c04585275ae13bb37778d39192aed5da3f90fa9caa189b26afb3cee1747369ba2a70a') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '745fc4f7c9549b4d187947a6bc42638120884fc9318be89cda6230de32260d8b097d6e0f1179b8037f7cfdafa7af5c8085a209a9acab2d94cbb88bd4aaa70aaf') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '745fc4f7c9549b4d187947a6bc42638120884fc9318be89cda6230de32260d8b097d6e0f1179b8037f7cfdafa7af5c8085a209a9acab2d94cbb88bd4aaa70aaf') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:05:02', 'f290914ab1bac37c0f0f40ab9bac6d38309c15d8de38d531f363188f3898e98b9ac6dc783d6cc8c11cf6bb9cfeeaed92f9badc05bfd56e63b5e22f2c27709174', '2010-08-26 00:05:02', 'joao', NULL, 'c1W4mRI0WrevKyn7J9', 'cd55c49726bb9d28f102dcefc78fb9695406b86be1d28f2bf8db2620f86c04585275ae13bb37778d39192aed5da3f90fa9caa189b26afb3cee1747369ba2a70a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (55.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:05:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 23ms (View: 15, DB: 536) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` [0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:05:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:05:02) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:05:02', '2010-08-26 00:05:02', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ec4b652ba66f80357084ee6f31c80e2ec96ec698a309c40fb43de671c3d814cf1240ede99dbd22f21bfc599627b18e0e1ffc04fffeea06032fdbe2ae62f01491') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:06:33', '8b96b636be72f5df6eb92f946e8595c1821fb02d571761f6ee742cac0e7fb4494a5c0460d7abd363538fd5af87098234d2e866a29e5969ec77d5632de556f160', '2010-08-26 00:06:33', 'admin', NULL, 'N59tL9j8kZWbkiHKBckl', 'ec4b652ba66f80357084ee6f31c80e2ec96ec698a309c40fb43de671c3d814cf1240ede99dbd22f21bfc599627b18e0e1ffc04fffeea06032fdbe2ae62f01491', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (67.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (79.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (60.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2248d34e7d0d9ca9a47bb45b9d9768e497c7a9576a75e02cfe0a20d63a8f359730dfc24c9d014fa083fc123f20891fff9b266d29e18bc3894ed47d5804e181b2') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:06:33', '2b532d799f2340d7195ebe9640a50a27bb6db0b08d455a9b8bbbedf5d11f761e988d8334b2d1e6de08b999b802ae818a35c4229adf26cfea3abf6bf069732067', '2010-08-26 00:06:33', 'joao', NULL, 'DoqiqlB26hCVfLlaGa3a', '2248d34e7d0d9ca9a47bb45b9d9768e497c7a9576a75e02cfe0a20d63a8f359730dfc24c9d014fa083fc123f20891fff9b266d29e18bc3894ed47d5804e181b2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3b39c1b8489e1345fcaf81d87fabac0a52a8af07c91523c520d47b7ca4a6e5b34caf04cb8999c6d056c2e822c1d842f3df034fa91fa2aed574ae54ea3aae9fcf') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2248d34e7d0d9ca9a47bb45b9d9768e497c7a9576a75e02cfe0a20d63a8f359730dfc24c9d014fa083fc123f20891fff9b266d29e18bc3894ed47d5804e181b2') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2248d34e7d0d9ca9a47bb45b9d9768e497c7a9576a75e02cfe0a20d63a8f359730dfc24c9d014fa083fc123f20891fff9b266d29e18bc3894ed47d5804e181b2') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:06:33', '4cc84cff17dfa3c8beba8517908061c954879523a9254de7b1dd5545e7ae42f6cce404e6f0e7990f765158d395acb50b2149dac081e8821b8e750b3120acca3c', '2010-08-26 00:06:33', 'joao', NULL, 'phjx8iwB349n02kvXAGc', '3b39c1b8489e1345fcaf81d87fabac0a52a8af07c91523c520d47b7ca4a6e5b34caf04cb8999c6d056c2e822c1d842f3df034fa91fa2aed574ae54ea3aae9fcf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e27241f8b1e2340222a3a7592c3d86b5df4e343997bb926b00de12cc7a5e709117a22499d5120a7e1bb4dcb5e1231ea2ceb9cc4448b26e479ee35117df9af1b8') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3b39c1b8489e1345fcaf81d87fabac0a52a8af07c91523c520d47b7ca4a6e5b34caf04cb8999c6d056c2e822c1d842f3df034fa91fa2aed574ae54ea3aae9fcf') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3b39c1b8489e1345fcaf81d87fabac0a52a8af07c91523c520d47b7ca4a6e5b34caf04cb8999c6d056c2e822c1d842f3df034fa91fa2aed574ae54ea3aae9fcf') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:06:33', 'c2de1a1456e0a3a7bcbcb897152b2af6d5e64b3ab3ebb8c124b667a73f195cf0c9974516fb178b78e610e66bf72bffb31eb5630234812abaf03c459e4ec6f321', '2010-08-26 00:06:33', 'joao', NULL, 'x0ALHPW8heVOkz81TkO', 'e27241f8b1e2340222a3a7592c3d86b5df4e343997bb926b00de12cc7a5e709117a22499d5120a7e1bb4dcb5e1231ea2ceb9cc4448b26e479ee35117df9af1b8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 2, 6)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:06:33', '2010-08-26 00:06:33', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:06:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 505) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:06:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 2) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:06:34) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:06:34', '2010-08-26 00:06:34', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (47.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0bf4fdd355206b49aa3413fd351d47abd161c3e6e8be3b4793370bb841e00140308cf4cf5f314ee07e26fc2aee0dd3daa19c9582454091ffb100d39e252fd396') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:04', 'e6e6d89acd1339b6c3fa290eac7d677059fd9d3c01c7c55ee024cab915bcdbf4134ce5655e144fe09eb634f5a86207a55fa553358667d09ecacab35326ae8502', '2010-08-26 00:08:04', 'admin', NULL, 'hacQj9o1o6glC00V2aYF', '0bf4fdd355206b49aa3413fd351d47abd161c3e6e8be3b4793370bb841e00140308cf4cf5f314ee07e26fc2aee0dd3daa19c9582454091ffb100d39e252fd396', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (58.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (56.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (2.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (63.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8779e8d147b9463c8462b08476f35e47aaaa5ae4541a3d4306f5d9267db563ad4bfa06e392200176afcd15d13a6d785558c975807ebd1f21b27b413985d6b875') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:04', '33733e8400726d2827d14f6a44b24b150b3eb6c59fd5be150bc0db94ead275c73390fba4d307a4308f3cb5be6a5f4a7aa3c0e2c2d268c24cc3f14e271fe9f274', '2010-08-26 00:08:04', 'joao', NULL, 'sYVirWoQp1NKT6Bd7V6', '8779e8d147b9463c8462b08476f35e47aaaa5ae4541a3d4306f5d9267db563ad4bfa06e392200176afcd15d13a6d785558c975807ebd1f21b27b413985d6b875', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (48.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bdbc72e2a3f9381f7e0644b9860f6d49371c10371755c141dc0147b7bbb59bbda18ec9db5d9c2df551b1881f934cae98e853755fd6ec8d2e1e53f71614f22aa7') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8779e8d147b9463c8462b08476f35e47aaaa5ae4541a3d4306f5d9267db563ad4bfa06e392200176afcd15d13a6d785558c975807ebd1f21b27b413985d6b875') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8779e8d147b9463c8462b08476f35e47aaaa5ae4541a3d4306f5d9267db563ad4bfa06e392200176afcd15d13a6d785558c975807ebd1f21b27b413985d6b875') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:04', 'd18e55227a042b40074d513c0f66872a1f2081622e11b9bedf5602e828f3158f8ddcb6a95361d56ae7676adf447ae139eee650b5b13df2260817f7c5ec8f6788', '2010-08-26 00:08:04', 'joao', NULL, 'tUAPjRKqslYD1TpwQTlO', 'bdbc72e2a3f9381f7e0644b9860f6d49371c10371755c141dc0147b7bbb59bbda18ec9db5d9c2df551b1881f934cae98e853755fd6ec8d2e1e53f71614f22aa7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 2, 5)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '845440621ec2b234e70aeb9986a94dedb45b38ce9f24f67f99a20daa488096a8f680ac31e3c8381b3417deb71dd2ce4f0ab17de744108b966828a7e1494aa0be') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bdbc72e2a3f9381f7e0644b9860f6d49371c10371755c141dc0147b7bbb59bbda18ec9db5d9c2df551b1881f934cae98e853755fd6ec8d2e1e53f71614f22aa7') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bdbc72e2a3f9381f7e0644b9860f6d49371c10371755c141dc0147b7bbb59bbda18ec9db5d9c2df551b1881f934cae98e853755fd6ec8d2e1e53f71614f22aa7') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:04', '3463037d14e8cc29a7fecf6060e2bd572523c8b6cb3bf9d403d797eaec9dd87880d6ff707a4131d04488121a9f4b150e3732c422f7a4c02d07ab1ae6967a7caf', '2010-08-26 00:08:04', 'joao', NULL, '9W8xrnJPHbh7nwGqhq', '845440621ec2b234e70aeb9986a94dedb45b38ce9f24f67f99a20daa488096a8f680ac31e3c8381b3417deb71dd2ce4f0ab17de744108b966828a7e1494aa0be', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (30.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (34.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:08:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 459) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:08:04) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:04', '2010-08-26 00:08:04', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bdaa21cfc452b5c62846fc42a15daf54846464553029a6c92c9195a1562d1408c04fde9fcb1359e8ed7160da51d6214471e436fc528e72b4f995754e7145140d') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:23', '51d546c835240e7ca01bfc9929e485f3f7ae37d3c60108e1c82128d47f326331f65dd11f53dd4b67f997e76f92b86cd454b225453eb1f54a13546ed3596b7801', '2010-08-26 00:08:23', 'admin', NULL, 'N6a0ZstNtq3BJck6Tze', 'bdaa21cfc452b5c62846fc42a15daf54846464553029a6c92c9195a1562d1408c04fde9fcb1359e8ed7160da51d6214471e436fc528e72b4f995754e7145140d', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (35.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 'teste')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:23', '2010-08-26 00:08:23', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (51.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '604106658a91752c677f9d2104f483dc43b909a7df435ad03242567ce5d60412a49c94772da49735adf8a615be8958359b83a1c225a2c1c5a031d8c3af1b7a46') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:24', 'dacc66af50a343a6c2e709bcf6af0b5f06ec4f44bcac52899998f08ee673a082ef9cc57e131c4b9be49ba4154551bc4c6ac8675c409230b61c1bb97b69200d14', '2010-08-26 00:08:24', 'joao', NULL, '1tVsNlxIJfp8fCQjKTf1', '604106658a91752c677f9d2104f483dc43b909a7df435ad03242567ce5d60412a49c94772da49735adf8a615be8958359b83a1c225a2c1c5a031d8c3af1b7a46', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 2, 'teste')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (48.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1c29cb0d8263d4280d75d7934cc8790bbb0617067977fac4930dd791f4f93b2e288c03e85c1a52cd5285a31284430d320483fd2a1b8c8857c791bd5fc25c8a30') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '604106658a91752c677f9d2104f483dc43b909a7df435ad03242567ce5d60412a49c94772da49735adf8a615be8958359b83a1c225a2c1c5a031d8c3af1b7a46') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '604106658a91752c677f9d2104f483dc43b909a7df435ad03242567ce5d60412a49c94772da49735adf8a615be8958359b83a1c225a2c1c5a031d8c3af1b7a46') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:24', '283cbaf93f118b9b2f2dc7c1f92dabb38ef37a828c79d812f576b413331fcbc6ccb30f86b9379da2f6377b3f1459f850566664ba3c5540460f080e0c5ac7c7a4', '2010-08-26 00:08:24', 'joao', NULL, '5WBUwdtl6uoNpyFdQx', '1c29cb0d8263d4280d75d7934cc8790bbb0617067977fac4930dd791f4f93b2e288c03e85c1a52cd5285a31284430d320483fd2a1b8c8857c791bd5fc25c8a30', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9c89752494bdf372aa7c270112d332df66dff22c3c1512d76780179d89e8540664f30474500457e3697a9ebdbd6e480abcce1c505e9ba2ebdf7ccd87f3165c46') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1c29cb0d8263d4280d75d7934cc8790bbb0617067977fac4930dd791f4f93b2e288c03e85c1a52cd5285a31284430d320483fd2a1b8c8857c791bd5fc25c8a30') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1c29cb0d8263d4280d75d7934cc8790bbb0617067977fac4930dd791f4f93b2e288c03e85c1a52cd5285a31284430d320483fd2a1b8c8857c791bd5fc25c8a30') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:08:24', 'd90a649cc9c9b655e0e5794af6c7c517f04fe6bf1543ed7f06682b864b27b865471dbb90010421e01e5decc07b165ad7fbff25918b650bc243dde3cbcb5246b2', '2010-08-26 00:08:24', 'joao', NULL, 'Y89JFwSWVRPjb7ykg7dW', '9c89752494bdf372aa7c270112d332df66dff22c3c1512d76780179d89e8540664f30474500457e3697a9ebdbd6e480abcce1c505e9ba2ebdf7ccd87f3165c46', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (2.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:08:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 29ms (View: 22, DB: 433) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:08:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:08:24) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:08:24', '2010-08-26 00:08:24', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (38.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b5977e7d3130467fa5aeed8bff275f78dad3ab6a3c060254734e671a0db993ee1343da90945b9343d2c13b65e105d7f9e704b3c505460883c975d6fd128ce411') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:09:19', 'c3416381e0ed5ffb55ef5383243b4b916a7c6e684b66a47b778a23202e14279ab3307685a193e29ae6ee953c7e57589b7c70c8f514dd83a2c9664c95fd04acfd', '2010-08-26 00:09:19', 'admin', NULL, 'Kx2BgxNkjpvhNn8Vq1i', 'b5977e7d3130467fa5aeed8bff275f78dad3ab6a3c060254734e671a0db993ee1343da90945b9343d2c13b65e105d7f9e704b3c505460883c975d6fd128ce411', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (65.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (3.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (63.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3b8163e3a155d2973b037e96199700253293e307a13f9903fc33e3731ae0dbc679eac31904c31edfb92d15b88d2df0596b2677265af2b52c64decee805e07b9f') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:09:19', 'ea4bb1567b921d19ebfc80b9c104de5cf1d3676c2ac4c9eb7e66039aa8c57656cc2d3923163302ddef859f78f5a82fdb308c953ab43a75161c765978bcd16ae2', '2010-08-26 00:09:19', 'joao', NULL, 'whdcFaCVjGej9clMoZ', '3b8163e3a155d2973b037e96199700253293e307a13f9903fc33e3731ae0dbc679eac31904c31edfb92d15b88d2df0596b2677265af2b52c64decee805e07b9f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '13e257d477cabeca1d0c85c12edb4ad18a7fc5f62a2108b3524774877803642bdaef65742ba19cb99da22f792b68c594fe2a9edb6aa88248fff22f593e7bb5c0') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3b8163e3a155d2973b037e96199700253293e307a13f9903fc33e3731ae0dbc679eac31904c31edfb92d15b88d2df0596b2677265af2b52c64decee805e07b9f') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3b8163e3a155d2973b037e96199700253293e307a13f9903fc33e3731ae0dbc679eac31904c31edfb92d15b88d2df0596b2677265af2b52c64decee805e07b9f') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:09:19', '47e4547ae6631c8e4bb8e3fc8936e5222f8096743ccfc90f2291ab0c3af90cae9953f595c3729eeee9202eb763a9d8577c618c57ec605f4d6df883fbec17f6f2', '2010-08-26 00:09:19', 'joao', NULL, 'SjksPjBQ4GhNu9b7WVCT', '13e257d477cabeca1d0c85c12edb4ad18a7fc5f62a2108b3524774877803642bdaef65742ba19cb99da22f792b68c594fe2a9edb6aa88248fff22f593e7bb5c0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9ac6c0014389dda9c00f9796cbbb0212e717a3ee43b273cd90b683decf77a9c9fe4dffd70d63ef3096242241cdfe095a8a6ffedfe425a6358c1fe0b7b15ffe14') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '13e257d477cabeca1d0c85c12edb4ad18a7fc5f62a2108b3524774877803642bdaef65742ba19cb99da22f792b68c594fe2a9edb6aa88248fff22f593e7bb5c0') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '13e257d477cabeca1d0c85c12edb4ad18a7fc5f62a2108b3524774877803642bdaef65742ba19cb99da22f792b68c594fe2a9edb6aa88248fff22f593e7bb5c0') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:09:19', '156662d261104a8b26ec3f67ccba678b23616d02c11b4ea1639bb529312af830e5374f3f1fc5e391ab25d66206ff1ba56f848cda167514d5bf1c54b13246ca7d', '2010-08-26 00:09:19', 'joao', NULL, 'MYDkrCUGVJDmZjkGZsD', '9ac6c0014389dda9c00f9796cbbb0212e717a3ee43b273cd90b683decf77a9c9fe4dffd70d63ef3096242241cdfe095a8a6ffedfe425a6358c1fe0b7b15ffe14', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (47.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:09:19', '2010-08-26 00:09:19', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:09:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 10, DB: 468) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:09:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:09:20) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:09:20', '2010-08-26 00:09:20', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (45.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7d10abc8cbea8feb57d2d246f8b543ca011dfd0b83708357536e3f42e4b946ca51e410ad5767cc74ba7063ae17aa7d862e7834a174d327dd53a868d699fc93bd') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:32', 'da01059f14b3210040dc6789efc9bd45a8e91242cdf5139065e0f045736e100813599b722e3446768cab013a7f61b833f89a2789ae4699a9452e214a1dff138a', '2010-08-26 00:11:32', 'admin', NULL, '3u584jRhImNFCPyXOARw', '7d10abc8cbea8feb57d2d246f8b543ca011dfd0b83708357536e3f42e4b946ca51e410ad5767cc74ba7063ae17aa7d862e7834a174d327dd53a868d699fc93bd', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (66.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (51.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (49.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '07fb02859a7cf04468e3116ba8a8a665af9db25a1f0189872415165c5778dd484e6d1f5295e862dcea973fd0fc69afad1fbe2d61428dc934b658370ab77563c6') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:32', '34462b9082d5bcc576a5a513cc05a17f2c496c63d848acf583080c5bee208e7ff838732fc97b2372158b0645b0443c4a929c7b18e6f58d997a30c1221a53b917', '2010-08-26 00:11:32', 'joao', NULL, 'SBdQjFVzV820fFMd8Hgw', '07fb02859a7cf04468e3116ba8a8a665af9db25a1f0189872415165c5778dd484e6d1f5295e862dcea973fd0fc69afad1fbe2d61428dc934b658370ab77563c6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (57.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '72063e390cab578153e88d3302494cd63146c9c82214b86ca15ca43ffaeeefabacdc324fdec08d7fcac7e853e4f5e172ac875bc9321433e578a5aa45ba28b2a6') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '07fb02859a7cf04468e3116ba8a8a665af9db25a1f0189872415165c5778dd484e6d1f5295e862dcea973fd0fc69afad1fbe2d61428dc934b658370ab77563c6') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '07fb02859a7cf04468e3116ba8a8a665af9db25a1f0189872415165c5778dd484e6d1f5295e862dcea973fd0fc69afad1fbe2d61428dc934b658370ab77563c6') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:32', '6400376893a8d1f2f34f227bdd8a793152a87e710311e082ec8b3c7051d838f0aeae22c61c274df59f06c1319aad60229ff51eca1ae36e5af44ffdcece86e512', '2010-08-26 00:11:32', 'joao', NULL, '9GxaWwOgZFWVpn7TCHrI', '72063e390cab578153e88d3302494cd63146c9c82214b86ca15ca43ffaeeefabacdc324fdec08d7fcac7e853e4f5e172ac875bc9321433e578a5aa45ba28b2a6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2c626ec652c1734e790fc300877bc4525d3ebd4b152f7dd9b449ca3684ca22b3025083ebb11806f807c9d3798c56a133834eabc33a21832bad53642fe9ac82e3') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '72063e390cab578153e88d3302494cd63146c9c82214b86ca15ca43ffaeeefabacdc324fdec08d7fcac7e853e4f5e172ac875bc9321433e578a5aa45ba28b2a6') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '72063e390cab578153e88d3302494cd63146c9c82214b86ca15ca43ffaeeefabacdc324fdec08d7fcac7e853e4f5e172ac875bc9321433e578a5aa45ba28b2a6') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:32', '25961e60ad29487766b1118e6ec91efcb3fd029f74f3b68ddb390764282c41e99adc124169565ed98044fb8e7e13bbc9b53e686d4bd9f8f231198f24f7287aea', '2010-08-26 00:11:32', 'joao', NULL, '6sSnJrTE20EY9whE7gYB', '2c626ec652c1734e790fc300877bc4525d3ebd4b152f7dd9b449ca3684ca22b3025083ebb11806f807c9d3798c56a133834eabc33a21832bad53642fe9ac82e3', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 4, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (27.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:32', '2010-08-26 00:11:32', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (35.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:11:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 11, DB: 454) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:11:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:11:33) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:33', '2010-08-26 00:11:33', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (53.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9b11366d3f698fc571f8df0257322ee4fb1d329cfacd94ee0769a102ea5c5f056c7cea162cbeb81b53253fd1dedba552128e2dda4f6d91e2ece6fe9b72a00765') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:54', '484d94e32a745c74c46a85cfbfe841bbf0c7b6740e3f6c8231035355f66cf42f14be06af03006f054122f493eeda11d18f468ed1696e6f9ea84f72ee3ab405ab', '2010-08-26 00:11:54', 'admin', NULL, 'eNzi39GgzbSUMIHj8hC', '9b11366d3f698fc571f8df0257322ee4fb1d329cfacd94ee0769a102ea5c5f056c7cea162cbeb81b53253fd1dedba552128e2dda4f6d91e2ece6fe9b72a00765', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (41.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (46.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7f6338d041c1f56f4b1f8a1536f5aa3c9edb1336d60ebb99521ed53d9ebc14ba89318436b2999eb242c4d57e4cf8877687e4e1487add0f54346f4b386a5f9bef') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:54', '276006563c13731798f77d82541c7e2d02ee6ad26e5462047c84d6d6a49b155e74570aeb5888b101b9fcc1104015998dda7b0543195d52e6d3ccd91477f77fbe', '2010-08-26 00:11:54', 'joao', NULL, 'ptr9eJatTrFrJnI1VxWs', '7f6338d041c1f56f4b1f8a1536f5aa3c9edb1336d60ebb99521ed53d9ebc14ba89318436b2999eb242c4d57e4cf8877687e4e1487add0f54346f4b386a5f9bef', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0eb5f5cf8b79680249009e34c1d7a338887ce29e4a9e828d14170ef2f3347bc7d08f915674a6fe5622eed21e4578fb40b37d473ae967cd959f3033c377f15023') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7f6338d041c1f56f4b1f8a1536f5aa3c9edb1336d60ebb99521ed53d9ebc14ba89318436b2999eb242c4d57e4cf8877687e4e1487add0f54346f4b386a5f9bef') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7f6338d041c1f56f4b1f8a1536f5aa3c9edb1336d60ebb99521ed53d9ebc14ba89318436b2999eb242c4d57e4cf8877687e4e1487add0f54346f4b386a5f9bef') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:54', 'ad4cbc2a3677748df3a8ddb55ae72b4d58ce08d2538c578ef79d46909e2910b44381fe56ca493fdc7740772b5cf6465fe8fafdf97c398fef4ad2a05b8ddff9fe', '2010-08-26 00:11:54', 'joao', NULL, '9NbBnQ3eifekEzYGG9Zi', '0eb5f5cf8b79680249009e34c1d7a338887ce29e4a9e828d14170ef2f3347bc7d08f915674a6fe5622eed21e4578fb40b37d473ae967cd959f3033c377f15023', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (45.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0db5af1b0016a803182245f996fcc7af971375c8493a196b9e369ebbb9bf57fd6fc9e206d5f263ebf392b31094c36e6155d940768b93f922c21f01e2322c702d') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0eb5f5cf8b79680249009e34c1d7a338887ce29e4a9e828d14170ef2f3347bc7d08f915674a6fe5622eed21e4578fb40b37d473ae967cd959f3033c377f15023') LIMIT 1[0m
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0eb5f5cf8b79680249009e34c1d7a338887ce29e4a9e828d14170ef2f3347bc7d08f915674a6fe5622eed21e4578fb40b37d473ae967cd959f3033c377f15023') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:11:54', '1cc68715bca9e7cd7d39cd22fef8cfc0f41900a4d01c9873ab0d2f369b23cdc7f48c9aad152cf0f18b5afad004f50a5d6bac516fed79c59c5df8d66a79fb6794', '2010-08-26 00:11:54', 'joao', NULL, 'nkaMNP49bAgk2L0tFR9', '0db5af1b0016a803182245f996fcc7af971375c8493a196b9e369ebbb9bf57fd6fc9e206d5f263ebf392b31094c36e6155d940768b93f922c21f01e2322c702d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:54', '2010-08-26 00:11:54', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:55', '2010-08-26 00:11:55', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:11:55', '2010-08-26 00:11:55', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:11:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 417) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:11:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 15, DB: 2) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:11:55) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:11:55', '2010-08-26 00:11:55', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (27.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1751f577e8552201cfe2dd381ec95b26b657930185fc337f9239455fe64bbff2150780ab4bf92ef3a0a8b22886e83b0112a0f923a34a562f275914ecea0b955c') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:13', '3c9273328302b37a2d5a65b03569b1f1ef29cceec58db4f0d88a809f8d50ef7e3af20e5cce08c7b6c0d01c27dbe1a9769459f135a20da523174c7445c03dead6', '2010-08-26 00:12:13', 'admin', NULL, 'cvG0cyX11rl5dQQ9hId', '1751f577e8552201cfe2dd381ec95b26b657930185fc337f9239455fe64bbff2150780ab4bf92ef3a0a8b22886e83b0112a0f923a34a562f275914ecea0b955c', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (86.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 'teste')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 2, 3)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (37.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cafee5565e7bc463ff6bc10828bfd25a544d33ea6e09bd25bdc1834c3e4d9511336028da9ef3bf57bf4238897fd35b2d1fae348d500b745e87717700e3d9917b') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:13', '33d37cebe9ff7ddcf7d8d2cb7741000a8ec180e1f63b732028ebf005487a4753a2cec556cec13fe1bbe19bea1b3eb16c43ff2f782132606b9d69d8116c95d414', '2010-08-26 00:12:13', 'joao', NULL, 'pz8tZIb7ekxLz5S6E4A', 'cafee5565e7bc463ff6bc10828bfd25a544d33ea6e09bd25bdc1834c3e4d9511336028da9ef3bf57bf4238897fd35b2d1fae348d500b745e87717700e3d9917b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 2, 'teste')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (48.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'af7a79fbd3fe850b1abe12338228e63b3588ecd61ab412316334d6b717b3b72a757570e8e13afdb1d0857dbd10f109d64c821421c40a688df812b77613ecc6ce') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cafee5565e7bc463ff6bc10828bfd25a544d33ea6e09bd25bdc1834c3e4d9511336028da9ef3bf57bf4238897fd35b2d1fae348d500b745e87717700e3d9917b') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cafee5565e7bc463ff6bc10828bfd25a544d33ea6e09bd25bdc1834c3e4d9511336028da9ef3bf57bf4238897fd35b2d1fae348d500b745e87717700e3d9917b') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:13', '5628e21ab495e0d2f38e9317a8fbd08cf0f323a5b19945fcd0236bf07027cbf72459a2002df5468ced560aeb762012bd2335abaf5cee8efb927c58ed45c29017', '2010-08-26 00:12:13', 'joao', NULL, '8s6cVm18VkRP8zBH1E4n', 'af7a79fbd3fe850b1abe12338228e63b3588ecd61ab412316334d6b717b3b72a757570e8e13afdb1d0857dbd10f109d64c821421c40a688df812b77613ecc6ce', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:13', '2010-08-26 00:12:13', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '238bc5c2b763ecd36ae5e197d230f5646874313948c22b622d9a780e8c47102fef3a803e4779ab165f49736a15bbe45c2336993979f1c607fa61dfe140cd3d52') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af7a79fbd3fe850b1abe12338228e63b3588ecd61ab412316334d6b717b3b72a757570e8e13afdb1d0857dbd10f109d64c821421c40a688df812b77613ecc6ce') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'af7a79fbd3fe850b1abe12338228e63b3588ecd61ab412316334d6b717b3b72a757570e8e13afdb1d0857dbd10f109d64c821421c40a688df812b77613ecc6ce') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:14', 'f2a90419bec40f6804977c5d49d46901f1c52c4232519ddeac6bf85af95f8b2bb07e4f2b8546b09a94574632aa10ae6889d76871b2a44dfcb10f782accf013d4', '2010-08-26 00:12:14', 'joao', NULL, 'a2OV3WiVq07XTLTqfI', '238bc5c2b763ecd36ae5e197d230f5646874313948c22b622d9a780e8c47102fef3a803e4779ab165f49736a15bbe45c2336993979f1c607fa61dfe140cd3d52', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 4, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 1, 2, 7)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (45.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:12:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 20ms (View: 11, DB: 460) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:12:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:12:14) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:14', '2010-08-26 00:12:14', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (42.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '84c3785a7a6ee15a235d7d30d672fda5de6528a1d3b1d6a38f3e786fa3af7c9b0d6f7e860e3fa0c56efbba5dfeb14048881a9b70a58d4d3d803ad52ec7cc6854') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:31', '2fd15aaa9be5f5b04f1ef4a1f704f5b0b6777f1505b9cde77e44e9d53e77511554e099f6e94a2777844bb54d56485ef643bc4302fb53a21c5f487602bb637c45', '2010-08-26 00:12:31', 'admin', NULL, '6ReCE8BDuKEUHW8CWv4', '84c3785a7a6ee15a235d7d30d672fda5de6528a1d3b1d6a38f3e786fa3af7c9b0d6f7e860e3fa0c56efbba5dfeb14048881a9b70a58d4d3d803ad52ec7cc6854', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (73.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (52.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'cd0a1f94f1cdf92c6fcd029fee9f27652a53f2215e1ca76b39ce7d321a8d6591d5a5d68fc4c3a30b50c17014f2cbf19932c80a6e6bdb3601bf57a9b7e6960f6f') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:31', '21467c0719b3696e1740779eafee5de5b022a1881abf25678ad8d5e4e51429f524364273c4efe387825df0d929013a05aac2f378d23bc8f12f3b347237bfeff9', '2010-08-26 00:12:31', 'joao', NULL, 'tiYtvcWt0a2rQxIS9wp', 'cd0a1f94f1cdf92c6fcd029fee9f27652a53f2215e1ca76b39ce7d321a8d6591d5a5d68fc4c3a30b50c17014f2cbf19932c80a6e6bdb3601bf57a9b7e6960f6f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4f651cd5cab529e910f14153726b77826cc044af3d3364d33f52506bf487468f96341ffa6e29e7174f9599dd0789630bf18ad8d5c1db18684b79abc5d47a400f') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cd0a1f94f1cdf92c6fcd029fee9f27652a53f2215e1ca76b39ce7d321a8d6591d5a5d68fc4c3a30b50c17014f2cbf19932c80a6e6bdb3601bf57a9b7e6960f6f') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'cd0a1f94f1cdf92c6fcd029fee9f27652a53f2215e1ca76b39ce7d321a8d6591d5a5d68fc4c3a30b50c17014f2cbf19932c80a6e6bdb3601bf57a9b7e6960f6f') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:31', 'f971667da1fdc5ff3371230d63a890ac85d0b3acac22e94887a057fae2bab483961b678ee0b43b365f390282e92c526a4ea4a40205488d936a5385f7f96bb2ec', '2010-08-26 00:12:31', 'joao', NULL, '7ElB1FzOrAya4rBRJWV8', '4f651cd5cab529e910f14153726b77826cc044af3d3364d33f52506bf487468f96341ffa6e29e7174f9599dd0789630bf18ad8d5c1db18684b79abc5d47a400f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:31', '2010-08-26 00:12:31', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (47.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3e7a25077b9dc0d98ac75feec64263b3193db75b28ea3800c7977c8d3589cf86231f207c4a8d0bbe8a6025961d8824e67665f229724158ff661eaed6398bea90') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4f651cd5cab529e910f14153726b77826cc044af3d3364d33f52506bf487468f96341ffa6e29e7174f9599dd0789630bf18ad8d5c1db18684b79abc5d47a400f') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4f651cd5cab529e910f14153726b77826cc044af3d3364d33f52506bf487468f96341ffa6e29e7174f9599dd0789630bf18ad8d5c1db18684b79abc5d47a400f') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:32', '928e264dff125881671e502f6a5a45fc29a12fba0422d9eefcca87cb19830d0791065fcce586e996bfcaa3eafe179a447ea7676905aad6a6a72c3d975dcf291c', '2010-08-26 00:12:32', 'joao', NULL, '4zhcY7c7c2pQyOd1fX', '3e7a25077b9dc0d98ac75feec64263b3193db75b28ea3800c7977c8d3589cf86231f207c4a8d0bbe8a6025961d8824e67665f229724158ff661eaed6398bea90', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (1.0ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 1, 2, 7)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (66.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:12:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 25ms (View: 11, DB: 485) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f95e869afa0cef951600dd73a41c242dda817e20f479d98bfc5523139f692ec2767f23cba2dd3bd1da6fb4cf186dbeb789eee920ee21c7df2d36dc311b13cfc6') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:12:32', '2294ed8fa81a1fdb7ecf8df7e03e652046ab89443e4727511b83665c3c60cfc01a4ff1f841246ca9e7a7feb7911c00f8c837c57e129f11e24627b79ce35dcea2', '2010-08-26 00:12:32', 'joao', NULL, 'fL4AS0zDj85T8LRgEFX7', 'f95e869afa0cef951600dd73a41c242dda817e20f479d98bfc5523139f692ec2767f23cba2dd3bd1da6fb4cf186dbeb789eee920ee21c7df2d36dc311b13cfc6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:12:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 10, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (32.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:12:32) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:12:32', '2010-08-26 00:12:32', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 34) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (37.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '46a2e5adeb81a254955ed77b25ee4a95a549559bbb122a88fb98e991330e5cc51cd1b393711234cde914c5c82958066efc64e3dde333bf5c8a1ad66a50db88ee') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:13:17', '145cd57bf0288854692331aebe2e9c99c5821e60a355fbc771c81d98984b1e55518e8079fa996c2571669bed4d8359b10c85057da6ec9c975a051d1f7fc897fb', '2010-08-26 00:13:17', 'admin', NULL, 'l9IN2bikDOZydfy3szD', '46a2e5adeb81a254955ed77b25ee4a95a549559bbb122a88fb98e991330e5cc51cd1b393711234cde914c5c82958066efc64e3dde333bf5c8a1ad66a50db88ee', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (37.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (30.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '37b04d747e39e224b9d7fa8da18d925e5593bde5cdd709807c6416d970d3c5d8ea98c0ead4cb34d36732bdd2bb9e3b11032fecfb63d50fedfc7fc8a3b6021c7f') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:13:18', '981fa78e48ea07526f8c48ae244977002ea7cb37ef9e62a3ce8f67a3b722b447370a61cd10adb3b49a486687d100ee69651295b2ab0934d4ebd5a8d7cb1f11de', '2010-08-26 00:13:18', 'joao', NULL, 'HztXse3iLE3nwpB7aC', '37b04d747e39e224b9d7fa8da18d925e5593bde5cdd709807c6416d970d3c5d8ea98c0ead4cb34d36732bdd2bb9e3b11032fecfb63d50fedfc7fc8a3b6021c7f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (82.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5c0410726760eab72e1b16922a39083f990cf4edf3681fe51b739fe66e9cf1461a45c420c302a5ef0d9e9d5ed0ff96999a92f19aebc62513b629bd746b6a6106') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '37b04d747e39e224b9d7fa8da18d925e5593bde5cdd709807c6416d970d3c5d8ea98c0ead4cb34d36732bdd2bb9e3b11032fecfb63d50fedfc7fc8a3b6021c7f') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '37b04d747e39e224b9d7fa8da18d925e5593bde5cdd709807c6416d970d3c5d8ea98c0ead4cb34d36732bdd2bb9e3b11032fecfb63d50fedfc7fc8a3b6021c7f') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:13:18', 'a93e1a6a5946557b9d8c5f6daed5bfc3ddbb14733161a3e57022850d133a19de49901d68f5915c5bc6adef6921ad2a1ea86ecff40ee938ce417e4e3dff452d1c', '2010-08-26 00:13:18', 'joao', NULL, 'IqBnvT37ByCYeETuct6H', '5c0410726760eab72e1b16922a39083f990cf4edf3681fe51b739fe66e9cf1461a45c420c302a5ef0d9e9d5ed0ff96999a92f19aebc62513b629bd746b6a6106', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (85.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '58d6de1b4c644c97def9a1c89c9475668602708a58051b8048ba2ecaed1ab8e3c4a3703a612c5b9c9ba2a13751bde123176ad124257fc185723545b1a6b9125d') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5c0410726760eab72e1b16922a39083f990cf4edf3681fe51b739fe66e9cf1461a45c420c302a5ef0d9e9d5ed0ff96999a92f19aebc62513b629bd746b6a6106') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5c0410726760eab72e1b16922a39083f990cf4edf3681fe51b739fe66e9cf1461a45c420c302a5ef0d9e9d5ed0ff96999a92f19aebc62513b629bd746b6a6106') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:13:18', 'b356345ccb3c0613be5418da3eeec0472d5df18a3527f2859ba07b1585be9930aaa2cbcbde1310647775fdbbba3aa17c7bb17540a2bf45e17eb974dca4944384', '2010-08-26 00:13:18', 'joao', NULL, 'afTL0oirMJhT6ZNtMt', '58d6de1b4c644c97def9a1c89c9475668602708a58051b8048ba2ecaed1ab8e3c4a3703a612c5b9c9ba2a13751bde123176ad124257fc185723545b1a6b9125d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:13:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 11, DB: 487) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:13:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 5, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:13:18) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:13:18', '2010-08-26 00:13:18', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (40.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ccd8df56149422ba663c90f6b64309adf3838f8b0a3a2ad633b5d6ca7fa44b03aa28a665c26b90d727975dc0b369ec3179505ff988701728e102f0fcf04337ef') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:15:09', '4066784f57880a619f9c5ea2a4e46dea556db23162f43f77a916e39df670fe97230c7e895c5b414edc9e625e2f99c9b28c5c9cd22882796bc03df69c5909fab5', '2010-08-26 00:15:09', 'admin', NULL, 'hdBA5jjLR9ORaoDAmgdL', 'ccd8df56149422ba663c90f6b64309adf3838f8b0a3a2ad633b5d6ca7fa44b03aa28a665c26b90d727975dc0b369ec3179505ff988701728e102f0fcf04337ef', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (81.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (38.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1bba88a59ea273d66403e1a3f6a2d0cad4d61531461da71376c27977c2e0caf7b90059cb356587def41bc46d76329e8d9ec6bf0111bfccc67cb41251740195a8') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:15:09', 'fb1b1ee75824e0a527916cc8c4721b26c59e2ce67ac7e3fb498bc594463691a36437c1c27525b2b8121f385763496d7cd0d5640594842dcd48bc8b588bf07b98', '2010-08-26 00:15:09', 'joao', NULL, '0ro3Vll42nJ7IxWrEmTF', '1bba88a59ea273d66403e1a3f6a2d0cad4d61531461da71376c27977c2e0caf7b90059cb356587def41bc46d76329e8d9ec6bf0111bfccc67cb41251740195a8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (38.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '66d5a9e46995d77211583a98be2955a69d91c749c676f9593c348788a1ae19f3a923f75f034bd4f23950ea00ffcb5f731f5a1fe6cda99e025b245c91e668525b') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1bba88a59ea273d66403e1a3f6a2d0cad4d61531461da71376c27977c2e0caf7b90059cb356587def41bc46d76329e8d9ec6bf0111bfccc67cb41251740195a8') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1bba88a59ea273d66403e1a3f6a2d0cad4d61531461da71376c27977c2e0caf7b90059cb356587def41bc46d76329e8d9ec6bf0111bfccc67cb41251740195a8') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:15:09', '7d61a2315212609a1ab9be9422e6ad032334d7ac68597d2d8f3307f12513b4e831ccc1f590db848503fcde82ab0d10c2abbbb25f8f7cf2ca8c2ccb3a759b9638', '2010-08-26 00:15:09', 'joao', NULL, 'yTTpR3clbyRMlIfW8TD', '66d5a9e46995d77211583a98be2955a69d91c749c676f9593c348788a1ae19f3a923f75f034bd4f23950ea00ffcb5f731f5a1fe6cda99e025b245c91e668525b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:09', '2010-08-26 00:15:09', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6a9e361542c7396406d7c8225a03ad3d68ccb760873d372ac4e428303d55ae26e1b5ddd592f8d88923f55e74b95b376fd77c5f580146beea168c8e5978519baf') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '66d5a9e46995d77211583a98be2955a69d91c749c676f9593c348788a1ae19f3a923f75f034bd4f23950ea00ffcb5f731f5a1fe6cda99e025b245c91e668525b') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '66d5a9e46995d77211583a98be2955a69d91c749c676f9593c348788a1ae19f3a923f75f034bd4f23950ea00ffcb5f731f5a1fe6cda99e025b245c91e668525b') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:15:10', '9cc6faaa9f4a73f195b89240147226ff859946b7ebeda9e83575646cb3675326cbef76262f458b157672c96958065fee6c5c489bf1105de3c9ded88e781cdd43', '2010-08-26 00:15:10', 'joao', NULL, 'rOMEo3zDKzgibrr6F3s', '6a9e361542c7396406d7c8225a03ad3d68ccb760873d372ac4e428303d55ae26e1b5ddd592f8d88923f55e74b95b376fd77c5f580146beea168c8e5978519baf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:15:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 11, DB: 439) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:15:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:15:10) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:15:10', '2010-08-26 00:15:10', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (46.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b985c9f2202302770d2b7d4c0e0d171438d6b1ba1232d06035f285db488be646e2b6b52522b12c9b822c77ffd6d2d4862adaf2a1e031e80721fb04700eddb7ff') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:16:37', '123b1772fee4a21ad78c84d6fb08c42fcc7fc84a1a4e3395f8d0f4889f9caf9e3732096cef3d45e8d44d09417c9f499c33cc4ea659c2f2b71ae4058f0f8ee448', '2010-08-26 00:16:37', 'admin', NULL, '69ViUjHTkbhwwfYIC8', 'b985c9f2202302770d2b7d4c0e0d171438d6b1ba1232d06035f285db488be646e2b6b52522b12c9b822c77ffd6d2d4862adaf2a1e031e80721fb04700eddb7ff', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (67.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (57.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (52.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '756b1ba640fccbebb9533e20ca434315f45329f2089c5236656ed2a6e1219ceb6d4b32b9544b112c474ac9f563d8d3cd37230f1c83271ee010c8c21252209bfb') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:16:37', '06238b7d5e51d2509e54f5bff651d8b9f8e65c02eb62ffa9bcf8c4536ef819d4c0d4d1df770da654003bb090480c6c54202defe8b361b30de42e71460fe699af', '2010-08-26 00:16:37', 'joao', NULL, 'Xg9ZXitr7QLEkdHHABgQ', '756b1ba640fccbebb9533e20ca434315f45329f2089c5236656ed2a6e1219ceb6d4b32b9544b112c474ac9f563d8d3cd37230f1c83271ee010c8c21252209bfb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:37', '2010-08-26 00:16:37', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (38.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '290071011f3fc6c8887aa1beafa028f39740396ff6211fe70940e5fb99cfa629ba477edf8324a6fe0eeb46e515f4d0c0f2ac58e3f9f6d666dbf37f39cad9a6f3') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '756b1ba640fccbebb9533e20ca434315f45329f2089c5236656ed2a6e1219ceb6d4b32b9544b112c474ac9f563d8d3cd37230f1c83271ee010c8c21252209bfb') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '756b1ba640fccbebb9533e20ca434315f45329f2089c5236656ed2a6e1219ceb6d4b32b9544b112c474ac9f563d8d3cd37230f1c83271ee010c8c21252209bfb') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:16:38', '1e969517031d817290913d9410ca6677e475df30e2655df1bae57cdc070311bce94e8c6cb41acd34fd7583478fbed58c35e3c18f8f31503fe2b7772cd1d2b162', '2010-08-26 00:16:38', 'joao', NULL, 'YnJEkWW1pALThafSYQgr', '290071011f3fc6c8887aa1beafa028f39740396ff6211fe70940e5fb99cfa629ba477edf8324a6fe0eeb46e515f4d0c0f2ac58e3f9f6d666dbf37f39cad9a6f3', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ae63a5c376b034b6e3b56c03e723f32ce9dbb972ea726dd7f1c0557006949a2cec96c6d6bf1422760c0b3bdc3ff67e556578229665886390450b8c48820b6f5d') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '290071011f3fc6c8887aa1beafa028f39740396ff6211fe70940e5fb99cfa629ba477edf8324a6fe0eeb46e515f4d0c0f2ac58e3f9f6d666dbf37f39cad9a6f3') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '290071011f3fc6c8887aa1beafa028f39740396ff6211fe70940e5fb99cfa629ba477edf8324a6fe0eeb46e515f4d0c0f2ac58e3f9f6d666dbf37f39cad9a6f3') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:16:38', 'fe1cf42df6ebe4ae2ebab35c4a5618f8ca3c1e2d66be489c1ab76e7b6f3c5174480cba51269522070d4dccdf882c0f849eeadc8d2f1754c46ac4f5957a13bd92', '2010-08-26 00:16:38', 'joao', NULL, 'tjfbR68mTVSHJ68lURJ', 'ae63a5c376b034b6e3b56c03e723f32ce9dbb972ea726dd7f1c0557006949a2cec96c6d6bf1422760c0b3bdc3ff67e556578229665886390450b8c48820b6f5d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 4, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (32.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:16:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 11, DB: 449) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:16:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:16:38) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (2.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:16:38', '2010-08-26 00:16:38', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 7ms (DB: 3) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (32.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bc243d6239c56b3b04ca3eb6f2b9ef98d9edbd634fcd8f19732fc7616bc0388d1ee9d6234ba60a61b5da77a3765845df91c54faebf07ffd120b1f50ff59f1d71') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:17:17', '407ebba7baf9f6f8da9eb8c021eb55bc9bdb536f4393dc35bcecd2b4e375e7009fc7f721bcbfc49aea68707d92a70ff99dfcab95e27653c8baa5c62cb6da70d0', '2010-08-26 00:17:17', 'admin', NULL, 'q3W8dr69UTzN0astaM4d', 'bc243d6239c56b3b04ca3eb6f2b9ef98d9edbd634fcd8f19732fc7616bc0388d1ee9d6234ba60a61b5da77a3765845df91c54faebf07ffd120b1f50ff59f1d71', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (61.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (59.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:17', '2010-08-26 00:17:17', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (48.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd239f577a04bdb6d4fec8e197d95636d1f33e7ff9e828464ca78b5e15df9b13c88629d4c278b762ab2c9b9b3a69db88e9c82a3bf292d89958485b2bfc2eb721c') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:17:18', 'e7211ef4220d262529f439b9c9100b2ebba666286e1e938c2d22b8fa2c35f05e136cafb50f206419fd3d33d93505c8d80d1798bcae5a0dd048dc30045f6f77d0', '2010-08-26 00:17:18', 'joao', NULL, 'CiDyHpuxHBY73RSL9IvG', 'd239f577a04bdb6d4fec8e197d95636d1f33e7ff9e828464ca78b5e15df9b13c88629d4c278b762ab2c9b9b3a69db88e9c82a3bf292d89958485b2bfc2eb721c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b58e88ca162e7c2ce026d377d6d30193aff4ee07ec74fe498fd0ad3ef72ac095221dba354e4f6f739d42f765bb28477cd9225612b975deadbda4a3f0f9f9a132') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd239f577a04bdb6d4fec8e197d95636d1f33e7ff9e828464ca78b5e15df9b13c88629d4c278b762ab2c9b9b3a69db88e9c82a3bf292d89958485b2bfc2eb721c') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd239f577a04bdb6d4fec8e197d95636d1f33e7ff9e828464ca78b5e15df9b13c88629d4c278b762ab2c9b9b3a69db88e9c82a3bf292d89958485b2bfc2eb721c') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:17:18', '3f91e99f4505d8d85a3f766160d4856299d658e194844802c26a153b61e61934eb6580ab0d251f9f4fdb10af217b403edf5ba3caf1d5bc6abc2a1aa085d4889f', '2010-08-26 00:17:18', 'joao', NULL, '0vJsPHBqPZZYLpcq3UaK', 'b58e88ca162e7c2ce026d377d6d30193aff4ee07ec74fe498fd0ad3ef72ac095221dba354e4f6f739d42f765bb28477cd9225612b975deadbda4a3f0f9f9a132', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (47.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8e87049b35ca1c24d1640d8c65a227d6cea4dd3b5968ec654b7faee9a681451f1cf77bc2a787cf1fc22635eff96ec4e22c94bf4e54edbcd03a8a791ee1a42f9d') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b58e88ca162e7c2ce026d377d6d30193aff4ee07ec74fe498fd0ad3ef72ac095221dba354e4f6f739d42f765bb28477cd9225612b975deadbda4a3f0f9f9a132') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b58e88ca162e7c2ce026d377d6d30193aff4ee07ec74fe498fd0ad3ef72ac095221dba354e4f6f739d42f765bb28477cd9225612b975deadbda4a3f0f9f9a132') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 00:17:18', 'e1bb004a3f76dc4f904bb70a9b1fd8f5c4612465e2d26f1a031a87613fdaa3b0733487a63457b81f9444f3a03af2b7b9ffd7ee83d32eda2964c27d16dec494e9', '2010-08-26 00:17:18', 'joao', NULL, '9RczbrlzbKGW3khWvJv', '8e87049b35ca1c24d1640d8c65a227d6cea4dd3b5968ec654b7faee9a681451f1cf77bc2a787cf1fc22635eff96ec4e22c94bf4e54edbcd03a8a791ee1a42f9d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (2.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:17:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 20ms (View: 10, DB: 475) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-25 21:17:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-25 21:17:18) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 00:17:18', '2010-08-26 00:17:18', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (41.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1130ba8f8d9a4f5e3d6e8a31e45584e9d54b1ae21b4dc4b9417ceaf1170286ba457906220f45c9397948540e49d6c73f784c8e926063141fcde20dea97afaee2') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:04', 'f46af90e1484952463b5f53d28ba9572cb933070d9caec1cc7048177bbffdae7bc51462a150f1e6bc9eec7278f36a35463a358b1cee3e89bea36cfa8df6c2a68', '2010-08-26 14:02:04', 'admin', NULL, 'L4JjmaQn4DAMf9yul', '1130ba8f8d9a4f5e3d6e8a31e45584e9d54b1ae21b4dc4b9417ceaf1170286ba457906220f45c9397948540e49d6c73f784c8e926063141fcde20dea97afaee2', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (79.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (73.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'da861f407ca14cf17fc9f2ea6616352546429da6117a2fdd297bf1dc2a960b498757c7f4d432e2cdfd02597e7d7f288e033b991e84d4b5c3016dbe22755e0016') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:04', '95743f16f69742d22ebbe40904cf0cdec1fdfb9ad6d2ba7cc8583575e2d4c47e3160c01eee84f65a7293177c72ec8dcf9d7d318b6f6d1a95a75f7c78452db488', '2010-08-26 14:02:04', 'joao', NULL, 'iXQfJumziK58g9hEIB', 'da861f407ca14cf17fc9f2ea6616352546429da6117a2fdd297bf1dc2a960b498757c7f4d432e2cdfd02597e7d7f288e033b991e84d4b5c3016dbe22755e0016', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ba9717afc0818f34d53e0856c7b9c7be21991392c69bdcf522bc64026800f788b235605fcaabcdc08989a1d167c617916f1a9444fedd89cae605a2abb3aab080') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'da861f407ca14cf17fc9f2ea6616352546429da6117a2fdd297bf1dc2a960b498757c7f4d432e2cdfd02597e7d7f288e033b991e84d4b5c3016dbe22755e0016') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'da861f407ca14cf17fc9f2ea6616352546429da6117a2fdd297bf1dc2a960b498757c7f4d432e2cdfd02597e7d7f288e033b991e84d4b5c3016dbe22755e0016') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:04', '0dbafa7c89aae82bde6b2671640119eef4c0ec5e66b226d3f6158f0b822c00a35146327e7810db0c55ec1693f3756a3170b3c3daa995c2708eb6fb7b124b95ae', '2010-08-26 14:02:04', 'joao', NULL, 'WIueyVIkUybjBQKvVVuZ', 'ba9717afc0818f34d53e0856c7b9c7be21991392c69bdcf522bc64026800f788b235605fcaabcdc08989a1d167c617916f1a9444fedd89cae605a2abb3aab080', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '89b8f742dbdc7f6e31065b7a73ea98bc87f5b28ab90a0721fa12a5dd10873426d854dabac98a5506492f97926d62a2845b462aac9ed91c6b0e8423c19a7538cf') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ba9717afc0818f34d53e0856c7b9c7be21991392c69bdcf522bc64026800f788b235605fcaabcdc08989a1d167c617916f1a9444fedd89cae605a2abb3aab080') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ba9717afc0818f34d53e0856c7b9c7be21991392c69bdcf522bc64026800f788b235605fcaabcdc08989a1d167c617916f1a9444fedd89cae605a2abb3aab080') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:04', '478d3870c3abf9ea0d60c1d0d204324e1cbf4928adb8de119b74e7037270f7cb00c8915480f6cf28e819de0591c0d690dfe242269020f05d335e1a51a1a12b30', '2010-08-26 14:02:04', 'joao', NULL, 'UL4ffkN9UPRjEjg7TqHE', '89b8f742dbdc7f6e31065b7a73ea98bc87f5b28ab90a0721fa12a5dd10873426d854dabac98a5506492f97926d62a2845b462aac9ed91c6b0e8423c19a7538cf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (47.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (50.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:02:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 35ms (View: 29, DB: 487) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:02:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:02:04) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:04', '2010-08-26 14:02:04', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (49.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8b94312389f63fe3e866db08011e52ced1b16ec86d777f2df5a10204201c3370c7f330e8a9f55c9f09e5d2726f78761af744676cb33dcf39c1b28f9eacc49f77') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:50', '42a10290b4fcdb1c5294cb19c08c85a1a61af9acb531ebaf8da5a935585a10e0b529c0c9862c9426fc3b1cdde1c6ded551154f3e2f8a3ec1a0810de094d3b329', '2010-08-26 14:02:50', 'admin', NULL, 'PxgCtDi5sM2lyus5KMif', '8b94312389f63fe3e866db08011e52ced1b16ec86d777f2df5a10204201c3370c7f330e8a9f55c9f09e5d2726f78761af744676cb33dcf39c1b28f9eacc49f77', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (62.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.1ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fcbf0299f398535b10b32ed85689f5e3380436978dab72b40d9924c42317233f7b9c0ed50b5ad6c467547d544c73d836cbb1c891b2f949217f523d5cb943fc14') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:50', 'd0c0d0d210d1dc33315b83d62a206c6c997b2e9ab4f856173186bd5fa10272183eed0aad25f6b0e70dbf75bc9db3e1145388c3d4272ad6ee4cc197f4574f1a25', '2010-08-26 14:02:50', 'joao', NULL, 'uzS8eOrkdBUeICtnBU', 'fcbf0299f398535b10b32ed85689f5e3380436978dab72b40d9924c42317233f7b9c0ed50b5ad6c467547d544c73d836cbb1c891b2f949217f523d5cb943fc14', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (47.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bd634557de8b046ee6535039b69b52cb4c68c1784b1a19276765b5dad66261b89c0fcd9d0b2a3d5f6717d8c6fa35aa907d41bf2401668b02a374149dee0c37e1') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fcbf0299f398535b10b32ed85689f5e3380436978dab72b40d9924c42317233f7b9c0ed50b5ad6c467547d544c73d836cbb1c891b2f949217f523d5cb943fc14') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fcbf0299f398535b10b32ed85689f5e3380436978dab72b40d9924c42317233f7b9c0ed50b5ad6c467547d544c73d836cbb1c891b2f949217f523d5cb943fc14') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:50', '023cb583834df16ddbf17eb95932c2196148d8d478e668c770ab180c24328e0c5712549f638fd8c09beb35c4832e3d194e85e873d766d5ec6439dcbf96f2a499', '2010-08-26 14:02:50', 'joao', NULL, 'YZLCK3MLTogeDlxR8D4a', 'bd634557de8b046ee6535039b69b52cb4c68c1784b1a19276765b5dad66261b89c0fcd9d0b2a3d5f6717d8c6fa35aa907d41bf2401668b02a374149dee0c37e1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd1c12ca95b1c20ac093eede884852704683a60bc73131ce97c9d8bf4c7f365d48035ab85bc52cda4d716b890a2a79dea3598d8bfc692a9e617c23e424eb0b57d') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bd634557de8b046ee6535039b69b52cb4c68c1784b1a19276765b5dad66261b89c0fcd9d0b2a3d5f6717d8c6fa35aa907d41bf2401668b02a374149dee0c37e1') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'bd634557de8b046ee6535039b69b52cb4c68c1784b1a19276765b5dad66261b89c0fcd9d0b2a3d5f6717d8c6fa35aa907d41bf2401668b02a374149dee0c37e1') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:02:50', '259aa67f9e7a8a9e59a12639b7bf4909dd9ca4c887f427c6fdc0f149610e622422036a27f6c3f499dd2835084f653cb5462209c15160e95a693a8e1efd2fb6df', '2010-08-26 14:02:50', 'joao', NULL, 'hsURR95ZYjMtiUIEBYj', 'd1c12ca95b1c20ac093eede884852704683a60bc73131ce97c9d8bf4c7f365d48035ab85bc52cda4d716b890a2a79dea3598d8bfc692a9e617c23e424eb0b57d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 4, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (39.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:02:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 462) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:02:50) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:02:50', '2010-08-26 14:02:50', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 3) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (47.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f364c1288d38421534580157e1c3b8f045347c79138be22ff31e69fcaaa17169c6bf6133bdf01ce3054b16ca6d3d8727e39dbb0f290ee1f481aa588f6cd58677') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:03:04', '660144ddec6430f59dc460d5d53c0697ea339e5b2d79b35848b7f066ac142ad644280a6aee3ebac929dfa9d552f3efc2dd880041885430497b68026d86b6b501', '2010-08-26 14:03:04', 'admin', NULL, 'FeRkPbgb1q18Iz8ipu3', 'f364c1288d38421534580157e1c3b8f045347c79138be22ff31e69fcaaa17169c6bf6133bdf01ce3054b16ca6d3d8727e39dbb0f290ee1f481aa588f6cd58677', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (50.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:04', '2010-08-26 14:03:04', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (60.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (34.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (33.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6fe8d0bebeb89e78872654bb6f295b82d2fe252055c5d2b2159c3e14f16da0a14c5298fd3b759f83c40087557b3f4f51fe42708542991100093b565dcd264ae0') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:03:05', 'fccd75750eeaae2e1ebc0ee1c87d54470824384226f54bd2995375408b1a499f2df6e5703fc92c8b3dcc5bfcbd5d27c87c7f2f3003875660430d6a33987c08d0', '2010-08-26 14:03:05', 'joao', NULL, '7WlnOsAgHUn7WqqDwJE8', '6fe8d0bebeb89e78872654bb6f295b82d2fe252055c5d2b2159c3e14f16da0a14c5298fd3b759f83c40087557b3f4f51fe42708542991100093b565dcd264ae0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (134.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2f1655798e739dddcbf84df8afa8abe33469d1ca641a90a92c465f8bad0f66ab65323fd7c8078d3aff774473b834eb7000deb8e6bd3d032518b4a75763d5ae78') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6fe8d0bebeb89e78872654bb6f295b82d2fe252055c5d2b2159c3e14f16da0a14c5298fd3b759f83c40087557b3f4f51fe42708542991100093b565dcd264ae0') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6fe8d0bebeb89e78872654bb6f295b82d2fe252055c5d2b2159c3e14f16da0a14c5298fd3b759f83c40087557b3f4f51fe42708542991100093b565dcd264ae0') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:03:05', '46638332cd24103e5b81911a96b3161e50c25a262efd985549d29660ba3d405d6cd677847d077e7d74eb1be55dcceb76ad9fbc5354cef81335249dcd97359750', '2010-08-26 14:03:05', 'joao', NULL, 'tiPedIoOipZxUlrgbZ', '2f1655798e739dddcbf84df8afa8abe33469d1ca641a90a92c465f8bad0f66ab65323fd7c8078d3aff774473b834eb7000deb8e6bd3d032518b4a75763d5ae78', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (53.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2c5f5b95f8d93482b020525a08f4b1e9d2def934dc2d20962413d00c55f846ee3684540a83b1e477d24b87936ef4a98e24bd3e52a1985f8727257d4c612e1489') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2f1655798e739dddcbf84df8afa8abe33469d1ca641a90a92c465f8bad0f66ab65323fd7c8078d3aff774473b834eb7000deb8e6bd3d032518b4a75763d5ae78') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2f1655798e739dddcbf84df8afa8abe33469d1ca641a90a92c465f8bad0f66ab65323fd7c8078d3aff774473b834eb7000deb8e6bd3d032518b4a75763d5ae78') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:03:05', '3a2955bfa8c5130373e2f226aab04a30694577553556fb5954bb9ca4fc27e4586bf6d241d82ab68bb763c3297d5a13f0d0eb064adc1a15dfdcb7a2f5adf5be50', '2010-08-26 14:03:05', 'joao', NULL, 'VUmlsIunGJ0mpGsTTwts', '2c5f5b95f8d93482b020525a08f4b1e9d2def934dc2d20962413d00c55f846ee3684540a83b1e477d24b87936ef4a98e24bd3e52a1985f8727257d4c612e1489', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (1.0ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 10, DB: 520) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5714a5c390d719e5ee08baec4cc49385f54218f6f5b6c216b0942e031926e68b1ef4a21a36325623a1fb423daa9660a6e2d380a9f73812628f860c7876f962a8') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:03:05', '8897a5c958ab5e91dadb281ae50ad036a84fa902f184d511a4a173ba98a773a3f1a4e098e39cb1a31786ec73ab5081a2ea6709535f7a08d1ebd59bf9b5562571', '2010-08-26 14:03:05', 'joao', NULL, 'cUu6QqSOUqX7CC9MZxK', '5714a5c390d719e5ee08baec4cc49385f54218f6f5b6c216b0942e031926e68b1ef4a21a36325623a1fb423daa9660a6e2d380a9f73812628f860c7876f962a8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 36ms (View: 33, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (39.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:03:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:03:05', '2010-08-26 14:03:05', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 41) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (39.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3f35f1c71e9f7eacbbc48b9b77d61b2901d6d7e07f665c9d641bf356a5d50bf4c73118fe17f43eb1daaeaf88cc59f18efa24fcbbf969bcd2e982682365d19142') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:42:34', 'b329594aa5ab26682a782c1814cf7182786e9d061757761c6efbd1629df0054f238be248bf9abfb190b5e1c8213fb35fc4e7d59da537f0c22cc7fa0e260f5395', '2010-08-26 14:42:34', 'admin', NULL, 'VEmI0xHWLtyrN6iBpv7Q', '3f35f1c71e9f7eacbbc48b9b77d61b2901d6d7e07f665c9d641bf356a5d50bf4c73118fe17f43eb1daaeaf88cc59f18efa24fcbbf969bcd2e982682365d19142', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (76.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (32.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2957fd46efbfda91ed814ad0f176f6b057698ffd987566687434286aff5ea0bc51b4788af38ebae8a2b6ee39cb088efca4802526022df086cae906ac11cd7b55') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:42:35', '94965d4bce3f53aec1abae17da0443ae3e7e1a224e338f7702e997db1666878e0ac531e39760905960cc28c5fa138cb626e2973121575e3a9abd573b8679ec0c', '2010-08-26 14:42:35', 'joao', NULL, 'F8hT19QV9JqocVtv3ihF', '2957fd46efbfda91ed814ad0f176f6b057698ffd987566687434286aff5ea0bc51b4788af38ebae8a2b6ee39cb088efca4802526022df086cae906ac11cd7b55', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (372.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a2de8366a0dceae39d437bebdf24460c1deafb5c281f5b001d232619f0459d8201aeb4df51013d8802da3569339c18381fb36da0c3947858f6c6f985f6ef786c') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2957fd46efbfda91ed814ad0f176f6b057698ffd987566687434286aff5ea0bc51b4788af38ebae8a2b6ee39cb088efca4802526022df086cae906ac11cd7b55') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2957fd46efbfda91ed814ad0f176f6b057698ffd987566687434286aff5ea0bc51b4788af38ebae8a2b6ee39cb088efca4802526022df086cae906ac11cd7b55') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:42:35', '89803969d0e61c5e68950f678587f6515692983c884d3b38b65e0d5a9aed675b733e2146f213ac699a0ac7fa5c47d3ee187a562e13a6ef98eab709cc55bf3a93', '2010-08-26 14:42:35', 'joao', NULL, 'f66tMaHYPxuSjGEAOxXY', 'a2de8366a0dceae39d437bebdf24460c1deafb5c281f5b001d232619f0459d8201aeb4df51013d8802da3569339c18381fb36da0c3947858f6c6f985f6ef786c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (36.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '787c17369305260dfa5dc16d77e1e1ef77aace3ff26831882b3f596dfc38679977ee3a9eccf9592f7a7653fa595fdc5090ab0f2424fa09e46b736ec7dcea21f6') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a2de8366a0dceae39d437bebdf24460c1deafb5c281f5b001d232619f0459d8201aeb4df51013d8802da3569339c18381fb36da0c3947858f6c6f985f6ef786c') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a2de8366a0dceae39d437bebdf24460c1deafb5c281f5b001d232619f0459d8201aeb4df51013d8802da3569339c18381fb36da0c3947858f6c6f985f6ef786c') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:42:35', 'c18539205ade16e06add68e4bf501ee437922039b3b00d56a7522100eeeb236282eeff607261be6c70ae5e94c83651f3a6e786fc83f1f98d8f53bd60ec0c84de', '2010-08-26 14:42:35', 'joao', NULL, 'p1h4hKYc73vN2wHvwb', '787c17369305260dfa5dc16d77e1e1ef77aace3ff26831882b3f596dfc38679977ee3a9eccf9592f7a7653fa595fdc5090ab0f2424fa09e46b736ec7dcea21f6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:42:35', '2010-08-26 14:42:35', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (61.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:42:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 14ms (View: 9, DB: 774) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '950a3a2b2a0059b76746dd1bac3a24b287d8be28e10abf8d76eb94cf9a3fcf7c2f14185f943bd217d9c9371a6df928b5bc31efaffce017a7aa83c57e8909271c') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:42:36', '4b809570f33bfe669fd4707ce16ab5b731f5658073f6797d9127c514a328d1130f3f66c208895c7bc5b7cc049d77be0c5dda87d6f1bdb6a3abba0e2c3f145c00', '2010-08-26 14:42:36', 'joao', NULL, 'HEVJTIJPhO5xIOyUE7I', '950a3a2b2a0059b76746dd1bac3a24b287d8be28e10abf8d76eb94cf9a3fcf7c2f14185f943bd217d9c9371a6df928b5bc31efaffce017a7aa83c57e8909271c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:36', '2010-08-26 14:42:36', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:42:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 11ms (View: 9, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (36.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:42:36) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:36', '2010-08-26 14:42:36', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 38) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (42.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:42:36) [POST]
  Parameters: {"action"=>"create", "opinion"=>"1", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:42:36', '2010-08-26 14:42:36', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '96d63983c73631585a28442b3ee6347a453982396309a0322f6f3936c46d232c76a54e4816f4deef46de6beccc3a29479aed34f850d80c96bdfd10da3c645e3b') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:43:20', 'fd43df1e7b1d03bb08feae67b97016b4ce59296d7059a96d707090359f052fb625a037f49fc46ab4aa971025085259e46f2b58e93186d7914655b43a22d07ae5', '2010-08-26 14:43:20', 'admin', NULL, 'mEFolu6PGg9iexduczEU', '96d63983c73631585a28442b3ee6347a453982396309a0322f6f3936c46d232c76a54e4816f4deef46de6beccc3a29479aed34f850d80c96bdfd10da3c645e3b', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (73.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:20', '2010-08-26 14:43:20', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (39.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:20', '2010-08-26 14:43:20', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:20', '2010-08-26 14:43:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:20', '2010-08-26 14:43:20', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:20', '2010-08-26 14:43:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (45.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6aed70e3ea21d4e681dac00d8d93049c9b932821ff398249ef63fbfeff99e9b3aa3499685cce6b171188555e775751c74374fbf0d257c2028f7d8dd373507a1f') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:43:21', 'e4815cfece2d3833d9f34588e8a6ffd29a9d89dffee75276a2e1703b61d4415f35c1b21a1b76c852a4e8fa276648d2511539bf95a98a47ea9674e18674d722f3', '2010-08-26 14:43:21', 'joao', NULL, 'IugmJUqZSmE7irQQYZ6F', '6aed70e3ea21d4e681dac00d8d93049c9b932821ff398249ef63fbfeff99e9b3aa3499685cce6b171188555e775751c74374fbf0d257c2028f7d8dd373507a1f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (49.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3fc1ded0d3e433fe4c5b56d1d59c917f97aa1910812f7b5ebaf1e346bbe13ad28a78db4df427c36638664b6d63ca8e32be52bc720d89e07724ebd51a9cd36190') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6aed70e3ea21d4e681dac00d8d93049c9b932821ff398249ef63fbfeff99e9b3aa3499685cce6b171188555e775751c74374fbf0d257c2028f7d8dd373507a1f') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6aed70e3ea21d4e681dac00d8d93049c9b932821ff398249ef63fbfeff99e9b3aa3499685cce6b171188555e775751c74374fbf0d257c2028f7d8dd373507a1f') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:43:21', 'a6e85c2e8f3c780c18755cfa12b5350366b8fc5d5794bbd2606c0bb96caa94525835fb6dd7eb3414032945c3d9b230483bd5d830d15c1048a489fe13c73b9aaf', '2010-08-26 14:43:21', 'joao', NULL, 'zRJhuwcOeiKYjlyE1wLw', '3fc1ded0d3e433fe4c5b56d1d59c917f97aa1910812f7b5ebaf1e346bbe13ad28a78db4df427c36638664b6d63ca8e32be52bc720d89e07724ebd51a9cd36190', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5f6c19a2d39261b3bb31d44a0f56649dd68f39bc12b197e195f46220504a4ce24d924a363c4444d86b4a92562c1a1e4f7300d37c343ccb9b8ad189771d2b7817') LIMIT 1[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3fc1ded0d3e433fe4c5b56d1d59c917f97aa1910812f7b5ebaf1e346bbe13ad28a78db4df427c36638664b6d63ca8e32be52bc720d89e07724ebd51a9cd36190') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3fc1ded0d3e433fe4c5b56d1d59c917f97aa1910812f7b5ebaf1e346bbe13ad28a78db4df427c36638664b6d63ca8e32be52bc720d89e07724ebd51a9cd36190') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:43:21', '68050b70e40bce9fb2380c3dddafabbe917b80ee80cbb3ee26d893697bb59b87cd2dedfa951416381f672820a817e77feb0fbffb977b5dd649e57bcd4032c9bd', '2010-08-26 14:43:21', 'joao', NULL, 'D0aYg4eiiAOt074rV9', '5f6c19a2d39261b3bb31d44a0f56649dd68f39bc12b197e195f46220504a4ce24d924a363c4444d86b4a92562c1a1e4f7300d37c343ccb9b8ad189771d2b7817', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:43:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 11, DB: 501) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '091585875024b3153c821f9797acc97fa4825454ae47461198eca09259f6d63626206551b05e2b84ae8c5d2a803753895e76f6670883ff1505fd5b4271cafb4a') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:43:21', '7655fb1c2f2d58314b3d4880462faa590fc02b17d7edf47c2a1d9830f494a47618b1ab8a9c72ccbfe1e48f84a644fc246a2919ecbde512c9481753ace1b93f8a', '2010-08-26 14:43:21', 'joao', NULL, 'ADvKrJMgpEWNYGApS89f', '091585875024b3153c821f9797acc97fa4825454ae47461198eca09259f6d63626206551b05e2b84ae8c5d2a803753895e76f6670883ff1505fd5b4271cafb4a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:43:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 12ms (View: 10, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (43.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:43:21) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:43:21', '2010-08-26 14:43:21', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 8ms (DB: 44) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (44.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 11:43:21) [POST]
  Parameters: {"opinion"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bae43f24f32a6522019253abca772bfc50505667ba7808e0ce5293e075800065c56708425f7a61679effc60ed88ff7765c53b28bf2dbeacf7d06101e8a68d628') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:44:24', 'c87743fd24dd57fd34afa51738be3ad5fc750b13321c4062c1bee1657d22d8a236c4fadf7b517b5a6fc66c840840d9ae57b6b94104d91a590ecdac64a62756f5', '2010-08-26 14:44:24', 'admin', NULL, 'OofF4iIHB8V8mxT6fB4Z', 'bae43f24f32a6522019253abca772bfc50505667ba7808e0ce5293e075800065c56708425f7a61679effc60ed88ff7765c53b28bf2dbeacf7d06101e8a68d628', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (124.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (70.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (53.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:24', '2010-08-26 14:44:24', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '554823ec032d0aebb8b723570a93a3dcdf4f9275439973cf3306fa9136aeb9b2d08ee55dd82f8b22d1cceccfb6aa00ad609b0be2fc0970f261219e674ad00500') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:44:25', '1ab9add8a5370b473ec8ec96ace7e8e707304e8769e333374517f7c864d364ac7bf136b1e7f674dfeff130e4b4ddea9260f895891c3fd12a2a3165826bbec123', '2010-08-26 14:44:25', 'joao', NULL, 'g4Heq0cVJuhKx2N86nT', '554823ec032d0aebb8b723570a93a3dcdf4f9275439973cf3306fa9136aeb9b2d08ee55dd82f8b22d1cceccfb6aa00ad609b0be2fc0970f261219e674ad00500', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 2, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a63318e4a97a1f2834504f16be91fcc344b211f1bc59dca4285f4e0071410294ab0c6031ee386fbc88307ed92be2013d384193470feaa23dcfdc025dbebcc624') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '554823ec032d0aebb8b723570a93a3dcdf4f9275439973cf3306fa9136aeb9b2d08ee55dd82f8b22d1cceccfb6aa00ad609b0be2fc0970f261219e674ad00500') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '554823ec032d0aebb8b723570a93a3dcdf4f9275439973cf3306fa9136aeb9b2d08ee55dd82f8b22d1cceccfb6aa00ad609b0be2fc0970f261219e674ad00500') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:44:25', 'c77ad786eb234e5bbd1925e6c9e9b80c8777642ffb80b4006684ae32a30ac420980d7e6c4f9f816249b19123fefeb3a0058ce0e4c439ef575bc2fbe6b71e8954', '2010-08-26 14:44:25', 'joao', NULL, 'hPRb1OKVroycWjNI8yUu', 'a63318e4a97a1f2834504f16be91fcc344b211f1bc59dca4285f4e0071410294ab0c6031ee386fbc88307ed92be2013d384193470feaa23dcfdc025dbebcc624', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c815cd688e457a36577757421a1821d2b27b98709c5bb038092ffbe11d954447c1865c3a4e7f95a7579cc6fd1f7ca707bb06d66afd5763d5344214ae21dc3c3f') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a63318e4a97a1f2834504f16be91fcc344b211f1bc59dca4285f4e0071410294ab0c6031ee386fbc88307ed92be2013d384193470feaa23dcfdc025dbebcc624') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a63318e4a97a1f2834504f16be91fcc344b211f1bc59dca4285f4e0071410294ab0c6031ee386fbc88307ed92be2013d384193470feaa23dcfdc025dbebcc624') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:44:25', '572680283081ebd20b80a86b9a3eedac34188dadc2b7db698ecdfcceeccbbb6af2d706ec34e7d38ae0798ceca24213eafce8d0b9367ca69168762efc89906527', '2010-08-26 14:44:25', 'joao', NULL, 'Fv3pi5j3sPWjXYhGvq4', 'c815cd688e457a36577757421a1821d2b27b98709c5bb038092ffbe11d954447c1865c3a4e7f95a7579cc6fd1f7ca707bb06d66afd5763d5344214ae21dc3c3f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (45.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (45.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:44:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 14ms (View: 9, DB: 585) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'eff1e4bc7285cc60a5589c0fb364b5d76acdc87a8566e549a67322e8ff6f1bfc3c2cb85af0d4c8c2471a7055fb1776b9378ebf042e954f292155166d25538eca') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:44:25', 'fee5af9793482fb82ca60668602bd0d44e1d4cf4cd370f82912fcf0ed4dc987995df3d3605072142c31f7fc4e288f41f2fec83458dbb4e7c7f54bca7cf7cc76e', '2010-08-26 14:44:25', 'joao', NULL, 'Ox5ojPEpmFL3SI0wIb', 'eff1e4bc7285cc60a5589c0fb364b5d76acdc87a8566e549a67322e8ff6f1bfc3c2cb85af0d4c8c2471a7055fb1776b9378ebf042e954f292155166d25538eca', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:44:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 12ms (View: 9, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (35.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:44:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:44:25', '2010-08-26 14:44:25', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 37) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (37.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 11:44:25) [POST]
  Parameters: {"opinion"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
Redirected to http://test.host/messages
Completed in 2ms (DB: 38) | 302 Found [http://test.host/messages/opinion?message=1&opinion=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e9f097b5467663e779fc411e70b7629106762755b91dd910638bf57adcd52833a3e2cc0aa313f1b31c5668414a9e7f6aaf73f80afecd3628afe9b4698959afe9') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:45:39', '21d1b9b44c86aab09cfc4968dc588c5c42c31db932dd9dcf57277e815d5746d7527e0990df0e0147009f4ed7bcf3d5069c46a532a7ad0c00bfdbb753f6f01c3d', '2010-08-26 14:45:39', 'admin', NULL, 'HGNPOy4hpqBdxSLfL84', 'e9f097b5467663e779fc411e70b7629106762755b91dd910638bf57adcd52833a3e2cc0aa313f1b31c5668414a9e7f6aaf73f80afecd3628afe9b4698959afe9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (55.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4cf03c85074754d5b7ad6a76eb4c161c4d9f7eec102e38329c952e590459985a2f5621a03cf2dbfcd3ef5f55774713022437b5c839b08706e63d9b2bc1e6fddb') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:45:40', '365ea02b7d890f2f6ad39560cb770e27e5a833554660ad6bf71bd040967233b1147c21fd7d4e5240451f33d1904c595c7fcec27892ea113e8795b55b223af86e', '2010-08-26 14:45:40', 'joao', NULL, '8FRuaPA0vKzOuTVsXBu4', '4cf03c85074754d5b7ad6a76eb4c161c4d9f7eec102e38329c952e590459985a2f5621a03cf2dbfcd3ef5f55774713022437b5c839b08706e63d9b2bc1e6fddb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '83a02545229f8a1e24b430b7e64566de547d1719503989fadbdefd363b06d50128308e913a54f4c99b7240fb8f234a89d3410d2c1126490c85543051269b1239') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4cf03c85074754d5b7ad6a76eb4c161c4d9f7eec102e38329c952e590459985a2f5621a03cf2dbfcd3ef5f55774713022437b5c839b08706e63d9b2bc1e6fddb') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '4cf03c85074754d5b7ad6a76eb4c161c4d9f7eec102e38329c952e590459985a2f5621a03cf2dbfcd3ef5f55774713022437b5c839b08706e63d9b2bc1e6fddb') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:45:40', 'ca4a7cd5ec99db01e0d0a86c9593ddb671a308f170e1770d09059abe502295b44d0c8b1e6f56a7ab4d8c7feb3b9be98843741ebc31fc22e709231c7a180926cc', '2010-08-26 14:45:40', 'joao', NULL, 'Wcl3g9XpJKhLFr3x02YP', '83a02545229f8a1e24b430b7e64566de547d1719503989fadbdefd363b06d50128308e913a54f4c99b7240fb8f234a89d3410d2c1126490c85543051269b1239', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (2.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (37.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9ffd4b1e4446e255202e8c991c2caa121cc80b573846964971bbf5951396b4fe1e38d2d1ff20aead9776cfb0db562cb21e608aabab7559598b56022542b1eb22') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '83a02545229f8a1e24b430b7e64566de547d1719503989fadbdefd363b06d50128308e913a54f4c99b7240fb8f234a89d3410d2c1126490c85543051269b1239') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '83a02545229f8a1e24b430b7e64566de547d1719503989fadbdefd363b06d50128308e913a54f4c99b7240fb8f234a89d3410d2c1126490c85543051269b1239') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:45:40', 'fcec328af7d3ff0e3b905b209b8b512b41ca07d141bfff0d3f1961618a0e535c70d94e23aafff9ac8709d2c92a52e2d2b6b4af80e186b4db7bb0184619ed3e41', '2010-08-26 14:45:40', 'joao', NULL, 'XQoN37TIkbn1cwwqyCe', '9ffd4b1e4446e255202e8c991c2caa121cc80b573846964971bbf5951396b4fe1e38d2d1ff20aead9776cfb0db562cb21e608aabab7559598b56022542b1eb22', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (27.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (29.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:45:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 9, DB: 461) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f05853c19f217fa2d0c211614a65e867ce89b5110f4254fd2f2748fa7064eaae2fedb1b3bb289d98ddd339847736efb871f0ad685baf448b05b37f597dab87c2') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:45:40', 'ac065979789330ea65689634afc4cc092d6de9f01a458727a9e04039656bdfc8c62ddd37a1691f0457c8a5928e60aa76ac33213811c83a9bfc63c74b0520e786', '2010-08-26 14:45:40', 'joao', NULL, 'FtNf2tbm8kP35wJs0VB', 'f05853c19f217fa2d0c211614a65e867ce89b5110f4254fd2f2748fa7064eaae2fedb1b3bb289d98ddd339847736efb871f0ad685baf448b05b37f597dab87c2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:45:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 27ms (View: 22, DB: 7) | 200 OK [http://test.host/]
  [4;35;1mSQL (38.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:45:40) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:45:40', '2010-08-26 14:45:40', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 40) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (43.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 11:45:40) [POST]
  Parameters: {"opinion"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
Redirected to http://test.host/messages
Completed in 1ms (DB: 44) | 302 Found [http://test.host/messages/opinion?message=1&opinion=1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8f55933c7f228bf4ac8da4e5a30eab62f9d65c5f68816a6bfadb92a1ff92f2f156b96fc2767c4c315d68b16c00812036761d9f1f07ab7d9f4c76345a8cd156f1') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:50:08', '2ded94c987938ac811bb208c8bfb4a9bb1c67a52f1bf488613f6a10a2277eb68695a1c072b315b2378ea8c9851205ec8a92bbeef843fe7c4793e6303463e47d7', '2010-08-26 14:50:08', 'admin', NULL, 'pDfWDibZE796HNVzH7JB', '8f55933c7f228bf4ac8da4e5a30eab62f9d65c5f68816a6bfadb92a1ff92f2f156b96fc2767c4c315d68b16c00812036761d9f1f07ab7d9f4c76345a8cd156f1', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (64.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:08', '2010-08-26 14:50:08', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (45.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '38fdf237c6cf96877045ee5943f4edb070f1a04de9a7aa6677c34d535cd01c5637f74fa19e7b3c495f7550f1e072c7fb3dc7ea3c5236c9301488b9924566d24f') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:50:09', 'f610f058302f637527995a975492bac3a35f231680a6c31b4f9fd1111539012ec0f5abe29fa812bf89f19d9d0e7427e5f8f3da8f951a444ea70745fd5c60c579', '2010-08-26 14:50:09', 'joao', NULL, 'CmZyySrJ2piV8N2VXKn', '38fdf237c6cf96877045ee5943f4edb070f1a04de9a7aa6677c34d535cd01c5637f74fa19e7b3c495f7550f1e072c7fb3dc7ea3c5236c9301488b9924566d24f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ac150b9c64d8bbda6d59b21c4f985c5c3d965e57b7930c1be5c60befa9667ec5ac554f0e774c43d83b9793210ae1d31a5de8065f83706b474d382c0b12f2bd95') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '38fdf237c6cf96877045ee5943f4edb070f1a04de9a7aa6677c34d535cd01c5637f74fa19e7b3c495f7550f1e072c7fb3dc7ea3c5236c9301488b9924566d24f') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '38fdf237c6cf96877045ee5943f4edb070f1a04de9a7aa6677c34d535cd01c5637f74fa19e7b3c495f7550f1e072c7fb3dc7ea3c5236c9301488b9924566d24f') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:50:09', '42936b56c591cfecd565c8888505cac80158ec0a344bbee05769556b1ef15c19ee7874e132b9c5df741ea89ccacaa6a313f3a6041d223873850eb10bfe3ffd4d', '2010-08-26 14:50:09', 'joao', NULL, 'Y5S1Yx9K2TXoJSsVPFWL', 'ac150b9c64d8bbda6d59b21c4f985c5c3d965e57b7930c1be5c60befa9667ec5ac554f0e774c43d83b9793210ae1d31a5de8065f83706b474d382c0b12f2bd95', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '232bf2e9e285979984d1e229070782ed7cf5ad9cf4be6cb72532cd13311f764dad8b356a265b4586841b806a8a9165b8a9dd71a99205c9b253dfdac5c272f6d1') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ac150b9c64d8bbda6d59b21c4f985c5c3d965e57b7930c1be5c60befa9667ec5ac554f0e774c43d83b9793210ae1d31a5de8065f83706b474d382c0b12f2bd95') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ac150b9c64d8bbda6d59b21c4f985c5c3d965e57b7930c1be5c60befa9667ec5ac554f0e774c43d83b9793210ae1d31a5de8065f83706b474d382c0b12f2bd95') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:50:09', 'c6dc407fbe725c8deb88d0c2eff0707057e2f03d136c0cc5c1c72dcddcd8536ef6cb97584b326ee7819a9446eeca81e8864b98794646c44cb6820a7d6f362478', '2010-08-26 14:50:09', 'joao', NULL, 'ifaAPSdQXojcgWx9jRR', '232bf2e9e285979984d1e229070782ed7cf5ad9cf4be6cb72532cd13311f764dad8b356a265b4586841b806a8a9165b8a9dd71a99205c9b253dfdac5c272f6d1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (42.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:50:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 15ms (View: 9, DB: 481) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'eb3ade50abcfcf7fc80d9bf78dfe2182fd6e0d20aa7d94afc15121d0c9db87cfa0107bf00bd27e0435994152af23100751695a89107bb995d041846290f578be') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:50:09', '96381efa1dc6c315fd8a07b62091353f213795a73d094ec8a927d56856acfdbe1737a8be1182ad9d53807e5665e8e7da1c4b81f67d60078198925d60ba958daf', '2010-08-26 14:50:09', 'joao', NULL, 'KnV60VY00LFL8zk5qR', 'eb3ade50abcfcf7fc80d9bf78dfe2182fd6e0d20aa7d94afc15121d0c9db87cfa0107bf00bd27e0435994152af23100751695a89107bb995d041846290f578be', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:50:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 13ms (View: 10, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (38.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:50:09) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:50:09', '2010-08-26 14:50:09', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 39) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (60.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 11:50:09) [POST]
  Parameters: {"opinion"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
Redirected to http://test.host/messages
Completed in 1ms (DB: 61) | 302 Found [http://test.host/opinion?message=1&opinion=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9c67bb8c4a2c780b321d4c0b8195fbb2791fb2cf324789a816a99334d602b57600fac7fe7c5b6fadbfc9d52c07518caa131b679470082d39e5660c9e1e154334') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:51:07', 'beade47b3d2d6a557d3c9d858f1705f969315183d0c6adcd61c84a5e7534a6d71eb0e96fd401f0d8443cd25dd69aaa6d60e46a784b517d940f5b9041823d5f33', '2010-08-26 14:51:07', 'admin', NULL, 'njdG2nOdD6PZlt3HN47', '9c67bb8c4a2c780b321d4c0b8195fbb2791fb2cf324789a816a99334d602b57600fac7fe7c5b6fadbfc9d52c07518caa131b679470082d39e5660c9e1e154334', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (60.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (44.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (54.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fe20b4ed72e253c4d0e757fdc7f7cf55be489bb5b7868f328ded9c78795730fb1c2c149e8e4686a8a92787acb0aa4f9b6ff23d5b1f89df0f9eed383ed231b804') LIMIT 1[0m
  [4;35;1mUser Create (1.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:51:07', 'f03285c19cde6938b29533c6f225ce8ca7106a24b1bf86adf485157fb95de3e2147a6767127fb0957fb2ab0fa258213cda349f9cc507101aaee427a9122b2171', '2010-08-26 14:51:07', 'joao', NULL, '3HQyuq9ABS6HEOYlIZWR', 'fe20b4ed72e253c4d0e757fdc7f7cf55be489bb5b7868f328ded9c78795730fb1c2c149e8e4686a8a92787acb0aa4f9b6ff23d5b1f89df0f9eed383ed231b804', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:07', '2010-08-26 14:51:07', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (39.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e92300591457cb6d416fbf69a2291bb18989109033866e6935bc7ad1e5e9ee84e5de4e80bd3c5248459bf28b2903f9f825fe5970cbbee269d8952a611888cb1e') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fe20b4ed72e253c4d0e757fdc7f7cf55be489bb5b7868f328ded9c78795730fb1c2c149e8e4686a8a92787acb0aa4f9b6ff23d5b1f89df0f9eed383ed231b804') LIMIT 1[0m
  [4;36;1mUser Load (3.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'fe20b4ed72e253c4d0e757fdc7f7cf55be489bb5b7868f328ded9c78795730fb1c2c149e8e4686a8a92787acb0aa4f9b6ff23d5b1f89df0f9eed383ed231b804') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:51:08', '5e1086c1df0db8684d06b27be06a4b26f427e21b1b89a9d9751b9ed08b38ebd3bb686c98af9a7f07d6add3c1652d71cdae0897c5ae0463aa3fcb4b78d9caddf9', '2010-08-26 14:51:08', 'joao', NULL, 'd7Lq1NugYcR1wWqQY5Mk', 'e92300591457cb6d416fbf69a2291bb18989109033866e6935bc7ad1e5e9ee84e5de4e80bd3c5248459bf28b2903f9f825fe5970cbbee269d8952a611888cb1e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ed334d3d59479eef170b6318ced03b7451eb0816780e4766d28145370d1937524e1de01505da50bfdfe653ee2d8b4b33dca259e0ea3a28dd2420b10e190cc804') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e92300591457cb6d416fbf69a2291bb18989109033866e6935bc7ad1e5e9ee84e5de4e80bd3c5248459bf28b2903f9f825fe5970cbbee269d8952a611888cb1e') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e92300591457cb6d416fbf69a2291bb18989109033866e6935bc7ad1e5e9ee84e5de4e80bd3c5248459bf28b2903f9f825fe5970cbbee269d8952a611888cb1e') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:51:08', '758a193f90dae86b4777301859031fee24c9e7e8c67998e44f6e03e5e1e0b6dba4a8c0d27677ccc59b82079459aa8a16ce54254df1ae05979cf4ad9453cc4fb9', '2010-08-26 14:51:08', 'joao', NULL, 'Hjf2rVpfi7gK1aJ33h6i', 'ed334d3d59479eef170b6318ced03b7451eb0816780e4766d28145370d1937524e1de01505da50bfdfe653ee2d8b4b33dca259e0ea3a28dd2420b10e190cc804', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (55.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:51:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 28ms (View: 17, DB: 506) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4d78ac2ee16b9d2a20a734efaf87a07b4e566797668f93bacf5466ec0949589a0dd6b5dc6e93b8af785f93e0166a6276778d536de2fb16d3d32b93ad9556fdca') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 14:51:08', '9923b2ebc0ae4bd31c4902e07fbfd48d950c1c04762f4a3252f96386f4719a79c7e3a35f382c8e28e12a0ccc5603a6919590ff1a457c94d4dcfe6c5b978fa5f4', '2010-08-26 14:51:08', 'joao', NULL, 'BzOssuBYzBQFdjEYvVN8', '4d78ac2ee16b9d2a20a734efaf87a07b4e566797668f93bacf5466ec0949589a0dd6b5dc6e93b8af785f93e0166a6276778d536de2fb16d3d32b93ad9556fdca', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 11:51:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 24ms (View: 21, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (69.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 11:51:08) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 14:51:08', '2010-08-26 14:51:08', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 71) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 11:51:08) [GET]
  Parameters: {"opinion"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
Redirected to http://test.host/messages
Completed in 1ms (DB: 40) | 302 Found [http://test.host/opinion?message=1&opinion=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '95ce333adb6e47197ec98fbaea39325b2d6c6571f9236c13c8e00dbed8c05f1b2d22055eb007dd5662a65c6209928a0caab607b40651fefa5d4378e2f713decc') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 15:00:09', 'd5c718fce0f8f610f6436553c7a1c22c96dd9b53b7078dc94e4284a809660047d149edcec8d598a6114defb6c4d5d1e5ddb12d15583ef155ff39a2ad9538c545', '2010-08-26 15:00:09', 'admin', NULL, 'w1E33L7Kt3TPFJul7nX5', '95ce333adb6e47197ec98fbaea39325b2d6c6571f9236c13c8e00dbed8c05f1b2d22055eb007dd5662a65c6209928a0caab607b40651fefa5d4378e2f713decc', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (55.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.1ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (1.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:09', '2010-08-26 15:00:09', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (65.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7da29a26b1b2ecd954286c67ba35c347828b03c034c1988e80959f658741da26c772ca987750bd7c77539ac39b3cefb0d4631af973fbdbaae0eecfe82b103b55') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 15:00:10', 'c78eadba5b459c13a5233eeae808b878782a5f8a7acd3a16d94bcfa7dd4adc4b6be1c6b48f8dc631109b3084b36272da4c15f8388178df5f18fbffb64b155082', '2010-08-26 15:00:10', 'joao', NULL, 'HzeFZc8aNFtjlDDwoLAY', '7da29a26b1b2ecd954286c67ba35c347828b03c034c1988e80959f658741da26c772ca987750bd7c77539ac39b3cefb0d4631af973fbdbaae0eecfe82b103b55', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6476188c29d525c878db5e45e81c8f424911ac96e85ed1ce4d2ffe00c98d7e94ad779911fd681ef5789fab085a80b9570c27b10a0cdca3a357fdda51721b5b38') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7da29a26b1b2ecd954286c67ba35c347828b03c034c1988e80959f658741da26c772ca987750bd7c77539ac39b3cefb0d4631af973fbdbaae0eecfe82b103b55') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7da29a26b1b2ecd954286c67ba35c347828b03c034c1988e80959f658741da26c772ca987750bd7c77539ac39b3cefb0d4631af973fbdbaae0eecfe82b103b55') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 15:00:10', '27b617e902a0a49b1b3a7c275053cddb0375066f5251a469b19d54bc5b7628b31f3eb33e0ea52136c36b284574e98d1ec03bc925c78126278d4b1f9f2173c1ac', '2010-08-26 15:00:10', 'joao', NULL, 'IkABSDyQ7leOCxPQOga', '6476188c29d525c878db5e45e81c8f424911ac96e85ed1ce4d2ffe00c98d7e94ad779911fd681ef5789fab085a80b9570c27b10a0cdca3a357fdda51721b5b38', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e05e1118d26179f8ea6c19610317d702df3d0ade3bd5d736b744e5c20bdcef9f12b90f3c4374ce149b3aa7a206f5c8b9421dcd2b9a67b079b052181c1e976ff3') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6476188c29d525c878db5e45e81c8f424911ac96e85ed1ce4d2ffe00c98d7e94ad779911fd681ef5789fab085a80b9570c27b10a0cdca3a357fdda51721b5b38') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6476188c29d525c878db5e45e81c8f424911ac96e85ed1ce4d2ffe00c98d7e94ad779911fd681ef5789fab085a80b9570c27b10a0cdca3a357fdda51721b5b38') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 15:00:10', '5ffb0ec0a305bd62175e1c2196797ee6caab4f9f7bd1c8abd687460518dfff78b57293a798d24fa58531a7a4c3f96647fae71adc26ee53e4f8ca046977d72308', '2010-08-26 15:00:10', 'joao', NULL, 'iujqHqft4ZLefa0f2gRu', 'e05e1118d26179f8ea6c19610317d702df3d0ade3bd5d736b744e5c20bdcef9f12b90f3c4374ce149b3aa7a206f5c8b9421dcd2b9a67b079b052181c1e976ff3', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (1.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (49.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 12:00:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 10, DB: 552) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dfec57f6f431a3ea1145983e21605155a5cba362a56a80a471f09637b7a946d84e9aee5ff5d5fe2d8458ffee4e3db6ee1ed408870ff34e0bb56646a99a183c77') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 15:00:10', 'be3b28f1e8e5e2875dab838ad65431cd46773fab87496a3a82dee3736b56718bf2706396faef72051157f4a93336d2f6a7e165bd4cf0bbcae14f1854967c76dc', '2010-08-26 15:00:10', 'joao', NULL, 'rDTqAi7Urz7gEQ8ViL2', 'dfec57f6f431a3ea1145983e21605155a5cba362a56a80a471f09637b7a946d84e9aee5ff5d5fe2d8458ffee4e3db6ee1ed408870ff34e0bb56646a99a183c77', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 12:00:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 13ms (View: 10, DB: 5) | 200 OK [http://test.host/]
  [4;35;1mSQL (48.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 12:00:10) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 15:00:10', '2010-08-26 15:00:10', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 49) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (41.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 12:00:10) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
Redirected to http://test.host/messages
Completed in 1ms (DB: 42) | 302 Found [http://test.host/opinion/1?message=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100824050856)
Migrating to CreateMessages (20100825133403)
Migrating to CreateUserSessions (20100825143403)
Migrating to CreateOpinions (20100825171403)
Migrating to CreateComments (20100826181031)
  [4;36;1mSQL (196.0ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `content` text, `user_id` int(11), `message_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (87.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100826181031')[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.4ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mdescribe `comments`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW KEYS FROM `comments`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (2.8ms)[0m   [0mdescribe `messages`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `messages`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `opinions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `opinions`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_sessions`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `user_sessions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `user_sessions`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '059525d065381ce96b37908528355264abf9edde638d057a7f09856be2857a2f9ec104bc789f449405d4e6a39c5334660049b77ebe4412248e37341ff9d21454') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:25:53', '76053ffeeaefbbe4b80019c77d602f6d79cf490eb8ef3dd9ff3b243da4a167b8f6bee4c80a114a05df981c9b7a34a15d536c83d4054688355b93350167e35044', '2010-08-26 19:25:53', 'admin', NULL, 'hMaGcsuTqdyMzfW6oIn', '059525d065381ce96b37908528355264abf9edde638d057a7f09856be2857a2f9ec104bc789f449405d4e6a39c5334660049b77ebe4412248e37341ff9d21454', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (89.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:53', '2010-08-26 19:25:53', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:53', '2010-08-26 19:25:53', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (2.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:53', '2010-08-26 19:25:53', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (2.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (47.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3eec04d9d22ee6a150180fce2ee93357cce87bea174f3e850d6505dd4880b40fd9d30ef387d5cddb4772e6ec6ac16a1fff8f1f14ce75a09cdacd7e124c8cab87') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:25:54', 'c0c11bb2b0d273f34b3b35f96afc11633efd8fabdab78067ad8fb28122c7bc1a5656a2ce111c06ba199b0ebaffb718c559f9319b060f56bfc0f6826e197d92db', '2010-08-26 19:25:54', 'joao', NULL, '12lM3KZI2ON78meTOpY2', '3eec04d9d22ee6a150180fce2ee93357cce87bea174f3e850d6505dd4880b40fd9d30ef387d5cddb4772e6ec6ac16a1fff8f1f14ce75a09cdacd7e124c8cab87', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (47.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'aaf28fcade6625fc61661cac625d48bc4096169dbdd528344c79ae013da792911b5506e483082e2f4b15c6119669add93ccfbfe02c7a4b2c6551a88423d2ab96') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3eec04d9d22ee6a150180fce2ee93357cce87bea174f3e850d6505dd4880b40fd9d30ef387d5cddb4772e6ec6ac16a1fff8f1f14ce75a09cdacd7e124c8cab87') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3eec04d9d22ee6a150180fce2ee93357cce87bea174f3e850d6505dd4880b40fd9d30ef387d5cddb4772e6ec6ac16a1fff8f1f14ce75a09cdacd7e124c8cab87') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:25:54', '091788f47d9db199191c98f6f8e01b4b003fb8196301eb0ef5179cb7be237f069f9650bc409163b2fa124db75565f241d758e538ba07225a35cc459a44f486a8', '2010-08-26 19:25:54', 'joao', NULL, 'qjJf4pu2AfdFozvzk16', 'aaf28fcade6625fc61661cac625d48bc4096169dbdd528344c79ae013da792911b5506e483082e2f4b15c6119669add93ccfbfe02c7a4b2c6551a88423d2ab96', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (63.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (9.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '72a74ae6cdfa38a91a664d09658efff5ca2f586f2c78b5679f378fac0ae0a77ac00c1a96767956296ee1437e2f90eaa5f8584da221e9b73d8a1829be26d19dd8') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'aaf28fcade6625fc61661cac625d48bc4096169dbdd528344c79ae013da792911b5506e483082e2f4b15c6119669add93ccfbfe02c7a4b2c6551a88423d2ab96') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'aaf28fcade6625fc61661cac625d48bc4096169dbdd528344c79ae013da792911b5506e483082e2f4b15c6119669add93ccfbfe02c7a4b2c6551a88423d2ab96') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:25:54', 'ea4d92c48c0d736c652b17cc37a15fe1229e12971ae53169c698987a1a36c1bd43aa01f1765008be455d1f6cb093eb41ef2da02b1c76fdea578cfd9ae23ba1bb', '2010-08-26 19:25:54', 'joao', NULL, 'RGHFsEcq5LlQrjGmJ1Ka', '72a74ae6cdfa38a91a664d09658efff5ca2f586f2c78b5679f378fac0ae0a77ac00c1a96767956296ee1437e2f90eaa5f8584da221e9b73d8a1829be26d19dd8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (53.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:25:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 10, DB: 562) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '86356e09c760612ba354fcf50a6dffa0d485b99b9949960768af09746982a57774d0710ef761bbea4d6dee2bd8247eb7b73bb131771f79d3e118c601c33316e8') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:25:54', 'd9bdf78ad44dac05b839e489be4e70fd7a5939a23adb590cb72bf4b8f92fb394f412d57a6fb7fd200b84461f55155367adec0685ca7241b671a800621471c183', '2010-08-26 19:25:54', 'joao', NULL, '7dkWlyaVy3CKwXPy01U', '86356e09c760612ba354fcf50a6dffa0d485b99b9949960768af09746982a57774d0710ef761bbea4d6dee2bd8247eb7b73bb131771f79d3e118c601c33316e8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:25:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 12, DB: 5) | 200 OK [http://test.host/]
  [4;35;1mSQL (50.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:25:54) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:25:54', '2010-08-26 19:25:54', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 51) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (46.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:25:54) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 1' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (136.3ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
  [4;35;1mSQL (209.7ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100824050856)
  [4;36;1mSQL (174.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `username` varchar(255), `email` varchar(255), `age` int(11), `civil` varchar(1), `gender` varchar(1), `crypted_password` varchar(255), `password_salt` varchar(255), `persistence_token` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (53.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100824050856')[0m
Migrating to CreateMessages (20100825133403)
  [4;36;1mSQL (126.6ms)[0m   [0;1mCREATE TABLE `messages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `content` text, `user_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (53.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100825133403')[0m
Migrating to CreateUserSessions (20100825143403)
  [4;36;1mSQL (160.7ms)[0m   [0;1mCREATE TABLE `user_sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (53.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100825143403')[0m
Migrating to CreateOpinions (20100825171403)
  [4;36;1mSQL (202.6ms)[0m   [0;1mCREATE TABLE `opinions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `opinion` tinyint(1), `message_id` int(11), `user_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (53.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100825171403')[0m
Migrating to CreateComments (20100826181031)
  [4;36;1mSQL (164.9ms)[0m   [0;1mCREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `content` text, `user_id` int(11), `message_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (42.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100826181031')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.5ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mdescribe `comments`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `comments`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `messages`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `messages`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `opinions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `opinions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_sessions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `user_sessions`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `user_sessions`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6ebfee6947837ccc4258c1065e84895da83403e40946bb4b30532ab8340d01b4eed129fe991a5d6a95b08adaf566977f7786d96d8f6dc0714902d00d53c05228') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:27:27', '22923fbd0db808f7c01c658ad5210ef8c5779de7568a8fb3934bb0413e53285dd0e889efc8b8d42a21410fe0b938496a9325700d395034cd963d3f7c3a35d475', '2010-08-26 19:27:27', 'admin', NULL, 'fLP47vn3XOhQkQqxo9hp', '6ebfee6947837ccc4258c1065e84895da83403e40946bb4b30532ab8340d01b4eed129fe991a5d6a95b08adaf566977f7786d96d8f6dc0714902d00d53c05228', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (37.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:27', '2010-08-26 19:27:27', 1, 'teste')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (44.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:27', '2010-08-26 19:27:27', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (36.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd48f6c19fc6c4bb200072abb1273343de37a204ff7df3c82cad44166e50f8bdd392bcc730e3689568d9a432502b28bb6d6183f18d33bc8c6e461d9af5db27073') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:27:28', '977244e8a5113200c7523486a714c582cb3df31a5e1972cdc9f09896df31586c3c9f3c7d8a040e426f8b6a01446c42ae439135a05b1a0cd2032fff1463d7baf7', '2010-08-26 19:27:28', 'joao', NULL, 'IJmkloGN7m1ibUdndd8', 'd48f6c19fc6c4bb200072abb1273343de37a204ff7df3c82cad44166e50f8bdd392bcc730e3689568d9a432502b28bb6d6183f18d33bc8c6e461d9af5db27073', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '07b2ae69218023eac839cd3b3015cd2c11be57cb9a1e9a4a9735ebd878bc5f5039f3e6fd5835e69a900db55826b41d3aa37bd19176575e9698ef9fb692a25627') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd48f6c19fc6c4bb200072abb1273343de37a204ff7df3c82cad44166e50f8bdd392bcc730e3689568d9a432502b28bb6d6183f18d33bc8c6e461d9af5db27073') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'd48f6c19fc6c4bb200072abb1273343de37a204ff7df3c82cad44166e50f8bdd392bcc730e3689568d9a432502b28bb6d6183f18d33bc8c6e461d9af5db27073') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:27:28', 'dcdd39270e86a46928a2e1ce5eed35154569be15fa1b61c20e96cb83b4ee33f818cc8991673e5a417ce624e9f3836f9ef9e1f5116207f6145bafd2c023ea68f1', '2010-08-26 19:27:28', 'joao', NULL, 'FtSJM9zT9DBkQc6wlek9', '07b2ae69218023eac839cd3b3015cd2c11be57cb9a1e9a4a9735ebd878bc5f5039f3e6fd5835e69a900db55826b41d3aa37bd19176575e9698ef9fb692a25627', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2d10377365e4c5db164406feeb8b2fb5a46b8abeef08b6de0332bd34e123ff743393454e0fc17b033d860c644bf124e496d598715f08b4611bb3e9663d852279') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '07b2ae69218023eac839cd3b3015cd2c11be57cb9a1e9a4a9735ebd878bc5f5039f3e6fd5835e69a900db55826b41d3aa37bd19176575e9698ef9fb692a25627') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '07b2ae69218023eac839cd3b3015cd2c11be57cb9a1e9a4a9735ebd878bc5f5039f3e6fd5835e69a900db55826b41d3aa37bd19176575e9698ef9fb692a25627') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:27:28', 'a575865a2c59d777144ab1ff4c420540191ec7217bf8725bc11fe0978340bb60610c9261d59828ed66089ae837e850efbaed526c609f943fb6dbf3f51d89f642', '2010-08-26 19:27:28', 'joao', NULL, 'GvKhrq8JqCPejGhqntku', '2d10377365e4c5db164406feeb8b2fb5a46b8abeef08b6de0332bd34e123ff743393454e0fc17b033d860c644bf124e496d598715f08b4611bb3e9663d852279', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (56.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (44.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (38.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:27:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 11, DB: 450) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6427094c6217f438a4ec25354a9f08924acf0955414bfb9d9ef458f038e576a751e581191dfdf6b7a18675fc2aa738003ac8a52bc0a6da98d596644499f1ccf6') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:27:28', 'e2eceb36e2553128c63696865d220e6c2e619988205684127851beed448a315c19238f3730297a8ca7636a3a4e28ef33f642a6bc5b925af5b5a888cfd82dcac4', '2010-08-26 19:27:28', 'joao', NULL, 'X0XCdHe0xsWIMozFmN', '6427094c6217f438a4ec25354a9f08924acf0955414bfb9d9ef458f038e576a751e581191dfdf6b7a18675fc2aa738003ac8a52bc0a6da98d596644499f1ccf6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:27:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 11, DB: 5) | 200 OK [http://test.host/]
  [4;35;1mSQL (39.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:27:28) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:27:28', '2010-08-26 19:27:28', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 40) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (43.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:27:28) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 1' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4e3c3aef3db4ff51a805629d106396cf57703c7b26fe18fc632f6c355106b5503e7b9c35bbe9815caa8e8500713571acba543b3e6db6aab175cfa588059be232') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:08', 'd52d36697461b5b5945773d093088877d196e7df4f7fa79d7cf56bc90e69013f02fa0a10b72f957b095b90776ddac3f1e195a4b15b149b0f10082a5bef1382f8', '2010-08-26 19:33:08', 'admin', NULL, 'yRyqAac5SGyj9NhKFTeO', '4e3c3aef3db4ff51a805629d106396cf57703c7b26fe18fc632f6c355106b5503e7b9c35bbe9815caa8e8500713571acba543b3e6db6aab175cfa588059be232', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (64.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 'teste')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (68.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (38.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7d1d4e6e20eb44ac55ebef2fd1eeacdaa195050e36b594cae70fbfc5702dd9861e3f1d69dc008802dce3a0d9ec31a8c2b71896288edc8bb23644eefd22da18f3') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:08', '0bc2da522ca2cf326c4c702c86f16d8161602ffe6fe9f547f2d6e94411ebac1ad1c747697fc07cbe11a550a8478dccf8446e0a0ac974f00a6b40f9e6c1d8a704', '2010-08-26 19:33:08', 'joao', NULL, 'f6eZIYvyoCDOVEP8Zt6C', '7d1d4e6e20eb44ac55ebef2fd1eeacdaa195050e36b594cae70fbfc5702dd9861e3f1d69dc008802dce3a0d9ec31a8c2b71896288edc8bb23644eefd22da18f3', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (47.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3ea4db1a5bb123ba2a8806ca818ffe8c4583c4f9f6e80456990643efe5a5f5966d4ff6c7856a47ee5cf9cf66d55cd00cfaeeb439e38dc481c540769009c336f2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7d1d4e6e20eb44ac55ebef2fd1eeacdaa195050e36b594cae70fbfc5702dd9861e3f1d69dc008802dce3a0d9ec31a8c2b71896288edc8bb23644eefd22da18f3') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7d1d4e6e20eb44ac55ebef2fd1eeacdaa195050e36b594cae70fbfc5702dd9861e3f1d69dc008802dce3a0d9ec31a8c2b71896288edc8bb23644eefd22da18f3') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:08', '54ada11bab794c645c58e9d4782e057ef1911b8bdd80b9ccaac443fa5a7428cefb73c75fa3b83753984cb86936da86989989241b85adbb6f5367acf4a7133191', '2010-08-26 19:33:08', 'joao', NULL, '4dvsd1hZxYGkjTPiwjA8', '3ea4db1a5bb123ba2a8806ca818ffe8c4583c4f9f6e80456990643efe5a5f5966d4ff6c7856a47ee5cf9cf66d55cd00cfaeeb439e38dc481c540769009c336f2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ffd806b0bc153ab64235a0dbcc48f07f82b3674ed7de5a0625b3229f665954ad38c8ca91db08ed1d471acf6053e7226e72c7acf85c2921a5cb38be3a5bd999e2') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3ea4db1a5bb123ba2a8806ca818ffe8c4583c4f9f6e80456990643efe5a5f5966d4ff6c7856a47ee5cf9cf66d55cd00cfaeeb439e38dc481c540769009c336f2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '3ea4db1a5bb123ba2a8806ca818ffe8c4583c4f9f6e80456990643efe5a5f5966d4ff6c7856a47ee5cf9cf66d55cd00cfaeeb439e38dc481c540769009c336f2') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:08', '74b17378a9fb68aa040b41caec4e43571c34463407e88bfc6c55008abac2f703fdb589372069691b62d6d9916ab32336e7d8c6a116a5845376f3dcaa9e5bd6f8', '2010-08-26 19:33:08', 'joao', NULL, 'ltMJFgmmimGsy5vOmxIU', 'ffd806b0bc153ab64235a0dbcc48f07f82b3674ed7de5a0625b3229f665954ad38c8ca91db08ed1d471acf6053e7226e72c7acf85c2921a5cb38be3a5bd999e2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 2, 6)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:08', '2010-08-26 19:33:08', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:09', '2010-08-26 19:33:09', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:09', '2010-08-26 19:33:09', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:09', '2010-08-26 19:33:09', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:33:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (2.3ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 26ms (View: 14, DB: 534) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fb378cc7466c6a702916657de2051e229c2e2cb257d53543ce865fc619779908a7e5d4613ea95f6981a40451985c61f4e26ae60cade7d613004440f1dbfe77cf') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:09', 'b6018409f5c586b038d91e2972da71873e68821e36347fc26b05f7f50916f27b401138b41e0c0686808d0ae381f44a9eaefaceced10f3d199bdd077d4d5f1d69', '2010-08-26 19:33:09', 'joao', NULL, 'Vtc9M0lmp9nRA5l1n4V', 'fb378cc7466c6a702916657de2051e229c2e2cb257d53543ce865fc619779908a7e5d4613ea95f6981a40451985c61f4e26ae60cade7d613004440f1dbfe77cf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:09', '2010-08-26 19:33:09', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:33:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 15ms (View: 12, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (40.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:33:09) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:09', '2010-08-26 19:33:09', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 41) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (39.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:33:09) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 1' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fd7a3f1b363ff9d56ed0be1aca01a00101a29861c81fa64134af3f8791c26102ce8f6b8f4660184579f5092f4b28b54ef225c78ae05f4d96a6937a98cd358ed5') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:32', 'd197484ed4e3de2c9541ac8e1f7383695d519f3af509e12839113c14bc1ce596d018f447238bb49f7b91f0023b393860253558225b5fbcfa6cf51dbe5445704d', '2010-08-26 19:33:32', 'admin', NULL, 'Cvd8yU0JUIOvxea0HjL3', 'fd7a3f1b363ff9d56ed0be1aca01a00101a29861c81fa64134af3f8791c26102ce8f6b8f4660184579f5092f4b28b54ef225c78ae05f4d96a6937a98cd358ed5', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (42.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:32', '2010-08-26 19:33:32', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (41.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7137052df4e93e06d00278adad186d47c120aeed96ad54ae6c17380d43840bb5032fb291c597a1187b49e8f4084cd7a4c6a27a19ddef7fa544ba903482c7a624') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:33', '7d3728665735ead0c257c42875baa97ca3f29b34505cd6ce01dcb271dedb28efb40373a996f3d9173420bd9742fbcf2e0f9c8f6d7f3595a211f6bc8f23915658', '2010-08-26 19:33:33', 'joao', NULL, 'xxF3UzRDHJk1WHFJ269F', '7137052df4e93e06d00278adad186d47c120aeed96ad54ae6c17380d43840bb5032fb291c597a1187b49e8f4084cd7a4c6a27a19ddef7fa544ba903482c7a624', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '64009effc00d4c821de6235d60d91afdec59ccc76d0924fd29db821488b3e7253a32f47ebea7ca32bf99742796bbba5d47be03c8ef3b48a6c8f01f632a61e0f0') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7137052df4e93e06d00278adad186d47c120aeed96ad54ae6c17380d43840bb5032fb291c597a1187b49e8f4084cd7a4c6a27a19ddef7fa544ba903482c7a624') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7137052df4e93e06d00278adad186d47c120aeed96ad54ae6c17380d43840bb5032fb291c597a1187b49e8f4084cd7a4c6a27a19ddef7fa544ba903482c7a624') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:33', '65b3abeb1098d79e80ae451b73acc087a8e1db11decea37dc23c082fb8ef298de99f79906e7893ae5fc6a604bb2224380f287c14e68895e8e93d6475fa227ad6', '2010-08-26 19:33:33', 'joao', NULL, '1xhMAfyhCFg21F5eBes', '64009effc00d4c821de6235d60d91afdec59ccc76d0924fd29db821488b3e7253a32f47ebea7ca32bf99742796bbba5d47be03c8ef3b48a6c8f01f632a61e0f0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd27ce59265636a02be8f079039fc5ab6275ce4b6994d55b8b8437e344fb6392c29ce0ce3fe85cd6fc796682d173589d77658763162b2fcfe727b553329e3f3c1') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '64009effc00d4c821de6235d60d91afdec59ccc76d0924fd29db821488b3e7253a32f47ebea7ca32bf99742796bbba5d47be03c8ef3b48a6c8f01f632a61e0f0') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '64009effc00d4c821de6235d60d91afdec59ccc76d0924fd29db821488b3e7253a32f47ebea7ca32bf99742796bbba5d47be03c8ef3b48a6c8f01f632a61e0f0') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:33', '2cb93cfceb782d3335d89ba90a3e618ac337978a4ecafccc13c08702f02ba551e2b1fb8f0667b09acd4482f6da1ac01dd6e70dd2986ffb97582fa95cc0aba5e9', '2010-08-26 19:33:33', 'joao', NULL, '4clAGZfuBizemHh3we', 'd27ce59265636a02be8f079039fc5ab6275ce4b6994d55b8b8437e344fb6392c29ce0ce3fe85cd6fc796682d173589d77658763162b2fcfe727b553329e3f3c1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (46.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:33:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 11, DB: 454) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ecaf272a885ab1c4e746ff234c83a5b021269e6e86d98b69e8064f1f9882129571eb4cccebf4cd8f9adeb18a8856a37a2e68ef989a6d2bca30b595d80ed8b7dc') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:33:33', '5cc8f5a04c38e2597808efa6c4a6e799a4aa2ab83d6cd1b7907fe2e553440608a22408f0d9dc7a432f4f217c0e57df209d8e46b43c3bf04d4c521ebc0d8568eb', '2010-08-26 19:33:33', 'joao', NULL, 'r879hviLQYUxTJkvXf', 'ecaf272a885ab1c4e746ff234c83a5b021269e6e86d98b69e8064f1f9882129571eb4cccebf4cd8f9adeb18a8856a37a2e68ef989a6d2bca30b595d80ed8b7dc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:33:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 11, DB: 5) | 200 OK [http://test.host/]
  [4;35;1mSQL (36.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:33:33) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:33:33', '2010-08-26 19:33:33', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 37) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (37.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:33:33) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 1' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '307beabc941decb85f28f93f248c3e3317203da22f8c24f6ae805db2c9fc5726cb4bc7002305b3b6b4d441bea3f3b0e292def90d41510cbbb22066ac1a271aad') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:34:04', '3e6b1b3d3d5e7355536586da04e74bd9c85becb543d2fbc1c519cb8ca2df4c28c12622f2789e35b6ff58a8e422d24e577a5165362dadeca14715fc2893d92731', '2010-08-26 19:34:04', 'admin', NULL, '3sGySyZd1zgJsiNsi4i', '307beabc941decb85f28f93f248c3e3317203da22f8c24f6ae805db2c9fc5726cb4bc7002305b3b6b4d441bea3f3b0e292def90d41510cbbb22066ac1a271aad', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (87.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a4fdf61a21eba5b452f5f479f978103aa80dc0d4102540e36fa7b8243db81548dbb1d49f5ecd4b475698fb51c46dfe917c2aa090102d51b77cd2c25d163d2e84') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:34:04', 'ff8cd802d3f7bf0fff4c23df6b5eec58068916c206a1d178ba392447d7bd94ec9660e02faa09e9449b2eef746854a42d45b89ab04858d63f1074611127b166ea', '2010-08-26 19:34:04', 'joao', NULL, 'SmvN20GOZnubVjiNVVBw', 'a4fdf61a21eba5b452f5f479f978103aa80dc0d4102540e36fa7b8243db81548dbb1d49f5ecd4b475698fb51c46dfe917c2aa090102d51b77cd2c25d163d2e84', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:04', '2010-08-26 19:34:04', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dbcc9a6dad8198a147de7e464ac086262d8709586cd5dc42e3e2476fb702dbddecacfa1f10f2e5945a0f81a52861a2ae5c0f9bed942ab9059b6f25e26357085c') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a4fdf61a21eba5b452f5f479f978103aa80dc0d4102540e36fa7b8243db81548dbb1d49f5ecd4b475698fb51c46dfe917c2aa090102d51b77cd2c25d163d2e84') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a4fdf61a21eba5b452f5f479f978103aa80dc0d4102540e36fa7b8243db81548dbb1d49f5ecd4b475698fb51c46dfe917c2aa090102d51b77cd2c25d163d2e84') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:34:05', '4089520e2511a83fe8e28b897689fc3d7b939d8e35dbf3ff6ad718957a6995edb2471b03e34d8e851f7ee0d4897aa990f9a4cc4d93192504ca107405d51e4ff2', '2010-08-26 19:34:05', 'joao', NULL, 'C2SsfGGIOOX2VheqL0yg', 'dbcc9a6dad8198a147de7e464ac086262d8709586cd5dc42e3e2476fb702dbddecacfa1f10f2e5945a0f81a52861a2ae5c0f9bed942ab9059b6f25e26357085c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e082d69773bbf6eeac1b4e2c0706d0dd9b0a515600e9ddc340570fcdd30a368cae871e3e4b3eddcf5cfe27c01affab62974ebb5abbc241a69fab853503628106') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'dbcc9a6dad8198a147de7e464ac086262d8709586cd5dc42e3e2476fb702dbddecacfa1f10f2e5945a0f81a52861a2ae5c0f9bed942ab9059b6f25e26357085c') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'dbcc9a6dad8198a147de7e464ac086262d8709586cd5dc42e3e2476fb702dbddecacfa1f10f2e5945a0f81a52861a2ae5c0f9bed942ab9059b6f25e26357085c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:34:05', '99f513f60ad9f3dca2ca2d6ebcd9e7f2b962d6a1c6dc789dcf3ae55956c550c0213314356d00b5735d83fd73b8ab0480162de194c212be31385aa3d68d6875f5', '2010-08-26 19:34:05', 'joao', NULL, 'Z7N1csub7tePmk9SUdkZ', 'e082d69773bbf6eeac1b4e2c0706d0dd9b0a515600e9ddc340570fcdd30a368cae871e3e4b3eddcf5cfe27c01affab62974ebb5abbc241a69fab853503628106', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (5.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:34:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 501) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c421f5d886775d58850ba1a8a89f757ec673d11100e65aedde395a95837db7a58e358f0af1de57526589b5e03f2ae0dbf553dfbb993a7c868e4e4a6f636603c7') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:34:05', '6e870c355d8d1348c703e435aea1752d2c3ab0eca2bc6545984ef302d2c04e5b150b90ba30d70cc3fcabdfed2de7ffbb5282e0686d3e368eec638794420ef439', '2010-08-26 19:34:05', 'joao', NULL, 'QqiOWj67QFcfnohlMjwa', 'c421f5d886775d58850ba1a8a89f757ec673d11100e65aedde395a95837db7a58e358f0af1de57526589b5e03f2ae0dbf553dfbb993a7c868e4e4a6f636603c7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:34:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 11, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (42.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:34:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:34:05', '2010-08-26 19:34:05', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 44) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (41.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:34:05) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "params"=>{"message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 2' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 2[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '63ea337feff60176cfbb4c19035deab5eced4e18730b376a8b83113b73ac2ef34999c9d9c6817c83f0ac591145c529f96b5ce43e9a1eb8c4e27b58a78db359d2') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:36:11', 'f4a0e11e3601761c38fcd417c542b69f918aac2ebb4c6f253133cf8d5ec671b7b813bb44030c0af0982960c90465236f2041b338f74abc0c03f5517bafae0761', '2010-08-26 19:36:11', 'admin', NULL, 'pfwzZGLRSiFCnUDMoGVh', '63ea337feff60176cfbb4c19035deab5eced4e18730b376a8b83113b73ac2ef34999c9d9c6817c83f0ac591145c529f96b5ce43e9a1eb8c4e27b58a78db359d2', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (56.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2cde74712182ab156c5146d217f9760bfb0a98df4ca1c0a68c4eea7f8ed3ac638561a8db1e3980530c9382f6827198147c05b4ea289c456508d40780323767fb') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:36:12', 'e7123382a1d175a405738d8260427ac43213e5d2a33e578acefbab9189bf1d78b17d0a4451a06e4766ac17db0fd0f363236669a052806beb424335e63d139222', '2010-08-26 19:36:12', 'joao', NULL, 'yhUMmbawWTDJpaUQl1e', '2cde74712182ab156c5146d217f9760bfb0a98df4ca1c0a68c4eea7f8ed3ac638561a8db1e3980530c9382f6827198147c05b4ea289c456508d40780323767fb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (57.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c65d4eef4d1cbfe5208621b725cfab637bfcf9f6d398f17b264992536eca5ca96b43e41b90ff683ae6515cef09617bf28a608b275eab22ef6f1082fd0d79fc40') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2cde74712182ab156c5146d217f9760bfb0a98df4ca1c0a68c4eea7f8ed3ac638561a8db1e3980530c9382f6827198147c05b4ea289c456508d40780323767fb') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2cde74712182ab156c5146d217f9760bfb0a98df4ca1c0a68c4eea7f8ed3ac638561a8db1e3980530c9382f6827198147c05b4ea289c456508d40780323767fb') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:36:12', 'db38e987e94d25295faa0ab73c40fe7c77ef19701e5e76a1f4c6381acf35d40eda26a21871c05191c2c2a7b56759eef773853a6b400637ff0d069b92f100c3be', '2010-08-26 19:36:12', 'joao', NULL, 'RZ3np7cYlTkKKsGMQW', 'c65d4eef4d1cbfe5208621b725cfab637bfcf9f6d398f17b264992536eca5ca96b43e41b90ff683ae6515cef09617bf28a608b275eab22ef6f1082fd0d79fc40', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (45.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '39a44aa4a07accfbb4e98e58417b0e4e0aace31355e5518b9ab73ede60cb0a5ecf63bbae7a47cb8067247a6e456c48334ec6cd87b2fb4c5e1cdf84cf30b441ae') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c65d4eef4d1cbfe5208621b725cfab637bfcf9f6d398f17b264992536eca5ca96b43e41b90ff683ae6515cef09617bf28a608b275eab22ef6f1082fd0d79fc40') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c65d4eef4d1cbfe5208621b725cfab637bfcf9f6d398f17b264992536eca5ca96b43e41b90ff683ae6515cef09617bf28a608b275eab22ef6f1082fd0d79fc40') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:36:12', '2a46426ddc88671663f5e0694433acf9ad0417c8b2e19479ad882af0b526a1d8d26f07dfa8452ee2a218acf3348ae636dddd21426b73982fb610089d87b29a00', '2010-08-26 19:36:12', 'joao', NULL, 'mEbH0nhSMIW1FmUuHmr', '39a44aa4a07accfbb4e98e58417b0e4e0aace31355e5518b9ab73ede60cb0a5ecf63bbae7a47cb8067247a6e456c48334ec6cd87b2fb4c5e1cdf84cf30b441ae', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (42.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:36:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (2.3ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 25ms (View: 12, DB: 545) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd8681e1440c4c84b78f59d6ebdf4c27ab56a68dfd6d16356eb4cb7ddde6a1ccc752e8ced1dd94ed137d1305af044d4bfce4631a0cc7bbbff933161324104f6de') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:36:12', 'f1e4acc4f4b2b0077fe57fbb52957e757b9e7fbbc4463da5866b90a2bd68bea29177bc0583ac473c59ef89aa38f9e09aa7729bcb728a4803c2d4527a2920e224', '2010-08-26 19:36:12', 'joao', NULL, 'FMy1jqhcEzF6m2g9FMl', 'd8681e1440c4c84b78f59d6ebdf4c27ab56a68dfd6d16356eb4cb7ddde6a1ccc752e8ced1dd94ed137d1305af044d4bfce4631a0cc7bbbff933161324104f6de', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:12', '2010-08-26 19:36:12', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:36:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 11, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (29.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:36:13) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:36:13', '2010-08-26 19:36:13', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 31) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (28.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:36:13) [POST]
  Parameters: {"action"=>"opinion", "params"=>{"number"=>"1", "message"=>1}, "controller"=>"messages"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'and o.user_id = 1' at line 1: select count(*) as count from opinions o where o.message_id = and o.user_id = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '352593aee8f718936e12d60eb9589c16242277d2aa03203b5d1d389da11291d7a5d2295f58dcf898b855ae7ff1862767d8a54ae752922cadf0b5e5f492217ec7') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:37:03', '9e667d210acd56fb8183f35a511d9c8a3402285eedda2d70e5444ea9d74f5b546cf6be1d61a11d5b384aebfb2b591f44a6074855818ffbd71d7a34c7f4512be5', '2010-08-26 19:37:03', 'admin', NULL, 'e66nXVVzmgHfx5rt9', '352593aee8f718936e12d60eb9589c16242277d2aa03203b5d1d389da11291d7a5d2295f58dcf898b855ae7ff1862767d8a54ae752922cadf0b5e5f492217ec7', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (82.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (2.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 2, 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (53.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9c127eddff281c8255bbad8435b52b158056ba28bc37a5296a3b0ccb7e1036300432b86e1185dfc715533be11f8055cee1dd418c87b479bdf97d34258db4afb2') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:37:03', 'fb247ab7a3d7a28989b2f5c1dea742b7e44da897ad0c93dfea36f5c89db805bb43e3a662333fe7db6d546cbd181536f99bd21088f62e6e61ff3ea7a8b209717e', '2010-08-26 19:37:03', 'joao', NULL, 'u69Wo8AwzWSuPB3WVJPQ', '9c127eddff281c8255bbad8435b52b158056ba28bc37a5296a3b0ccb7e1036300432b86e1185dfc715533be11f8055cee1dd418c87b479bdf97d34258db4afb2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 2, 'teste')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f5779a46c462a73d0ec0a5136496514d44d3aaab6616ed6390b80e48ab201aae5ffc4fbaf4a37699bef367e346a97f606c417b260a448cb04f339152195ec922') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9c127eddff281c8255bbad8435b52b158056ba28bc37a5296a3b0ccb7e1036300432b86e1185dfc715533be11f8055cee1dd418c87b479bdf97d34258db4afb2') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9c127eddff281c8255bbad8435b52b158056ba28bc37a5296a3b0ccb7e1036300432b86e1185dfc715533be11f8055cee1dd418c87b479bdf97d34258db4afb2') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:37:03', 'e477d6153f4a70756cfa14f4ec47b7f45937d3e463bf8ed7fdaf4b50d0c7d23ecc6ddebeaede2d6a20c3da76060f75fd6ad36f888280f0962829e6f71a6fc095', '2010-08-26 19:37:03', 'joao', NULL, 'NYIYKyqnacutis6Ng1X', 'f5779a46c462a73d0ec0a5136496514d44d3aaab6616ed6390b80e48ab201aae5ffc4fbaf4a37699bef367e346a97f606c417b260a448cb04f339152195ec922', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:03', '2010-08-26 19:37:03', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4d4ebd1ddd52cfde4709e6837e87d4a0ecd01643639d86fbd1c4ba7826993a98710bb0f67234cd9688a7e3d0173b92807b078cb13734829d93940105263084eb') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f5779a46c462a73d0ec0a5136496514d44d3aaab6616ed6390b80e48ab201aae5ffc4fbaf4a37699bef367e346a97f606c417b260a448cb04f339152195ec922') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f5779a46c462a73d0ec0a5136496514d44d3aaab6616ed6390b80e48ab201aae5ffc4fbaf4a37699bef367e346a97f606c417b260a448cb04f339152195ec922') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:37:04', '5a93b3a0eb352e0417efb12c43fbddf4a925c3b0ab2c12d1d7c75cd20534c2dc8fc0fb1f3b093d4c231aa43a9a0c800061551a17b1e7dcb5afb885cec3ff966c', '2010-08-26 19:37:04', 'joao', NULL, 'XlVRdogbLAG1vq3sVtd', '4d4ebd1ddd52cfde4709e6837e87d4a0ecd01643639d86fbd1c4ba7826993a98710bb0f67234cd9688a7e3d0173b92807b078cb13734829d93940105263084eb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (32.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (53.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:37:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 526) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f02d301d3c07c0c6f7e8ac7d71b23bef14f1bd88a5319a38a2f3808178d45031d3ea233c841f7842966570687994a3431a2a16f49b0fb8f3783dbf68ee241944') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:37:04', '14c0c809254026971f0679268705f6c48e40d5663855437a0c2ab13a192ec1317126140378b685276c05402f47e324212c9a85270f35064fb4754e39be8fbf37', '2010-08-26 19:37:04', 'joao', NULL, '1uoxCO5U5caeeazlebEM', 'f02d301d3c07c0c6f7e8ac7d71b23bef14f1bd88a5319a38a2f3808178d45031d3ea233c841f7842966570687994a3431a2a16f49b0fb8f3783dbf68ee241944', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:37:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 29ms (View: 24, DB: 8) | 200 OK [http://test.host/]
  [4;35;1mSQL (32.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:37:04) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 33) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (44.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:37:04) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:37:04', '2010-08-26 19:37:04', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 46) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f333dcb8cca19156aacd1c4148ff759be5706e2b88857f5620d6f70794c99d7021df76b51bfea58dc614175c846a62908be2202b32e4c8872e52167673c728a0') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:54:21', 'b9849bf2c601ab591bdc06d0b36bfa9b9a50e660bdfdbff8dc79661b3aeeec2ca586536a578faad0afe2c96c35477c33c97bdf429cdef7077b9211d6682c620b', '2010-08-26 19:54:21', 'admin', NULL, 'n4NLynjIxoEqJwglCtGa', 'f333dcb8cca19156aacd1c4148ff759be5706e2b88857f5620d6f70794c99d7021df76b51bfea58dc614175c846a62908be2202b32e4c8872e52167673c728a0', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (83.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (57.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (38.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (47.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '454c5fa5ace4f09c13f15874989fb45be452a1372ab53f679a3232d89cb675743d57c5616fb6a90c0df0ef83f449eefe347a06e47b1c0e9064d8cc911216da7e') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:54:21', 'a371ab68402098b9e32e56717f599d9e50edf6dfd1345c1e370f6c42398aefc3b812178325b08653eeacafbb33cfd5758cfcbbe39f5c22bc7725c02c778462a0', '2010-08-26 19:54:21', 'joao', NULL, 'uih4BZGWgFfbr83xzFyD', '454c5fa5ace4f09c13f15874989fb45be452a1372ab53f679a3232d89cb675743d57c5616fb6a90c0df0ef83f449eefe347a06e47b1c0e9064d8cc911216da7e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0b18ca4b505db0556b2d589ecb3c0c9614a2884061359cc5528ee9ce6c8f25e66c40f0d357e312b9622e69edca7efee81a25e94cfc08494c2e033963ad2639ec') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '454c5fa5ace4f09c13f15874989fb45be452a1372ab53f679a3232d89cb675743d57c5616fb6a90c0df0ef83f449eefe347a06e47b1c0e9064d8cc911216da7e') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '454c5fa5ace4f09c13f15874989fb45be452a1372ab53f679a3232d89cb675743d57c5616fb6a90c0df0ef83f449eefe347a06e47b1c0e9064d8cc911216da7e') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:54:21', 'd46d5a475b4393828745fe0c888f507b13c0d49190f2b628b2c1c0bf4de370f49e71789139196772c0d18a42d4b4f38b961a9995a706a9612123432bff1576c0', '2010-08-26 19:54:21', 'joao', NULL, 'TAjeBXmjgF2Z6PdMCpF', '0b18ca4b505db0556b2d589ecb3c0c9614a2884061359cc5528ee9ce6c8f25e66c40f0d357e312b9622e69edca7efee81a25e94cfc08494c2e033963ad2639ec', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (60.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bbe162518245f16f925ae6668a07af1c72a76d6fbe5a88875db5dd14ca05145de476986cae5ef2afc5833ec2adf3680614de20a8cea3d6572e4a6ff0590596a0') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0b18ca4b505db0556b2d589ecb3c0c9614a2884061359cc5528ee9ce6c8f25e66c40f0d357e312b9622e69edca7efee81a25e94cfc08494c2e033963ad2639ec') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0b18ca4b505db0556b2d589ecb3c0c9614a2884061359cc5528ee9ce6c8f25e66c40f0d357e312b9622e69edca7efee81a25e94cfc08494c2e033963ad2639ec') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:54:21', 'de01150a20bec97f67cfc7f383f66aabc7b68c32ec0684f721994abbac4fc33a7167aa80cda200d44333522207159b078f741c8ffe9ab4cee9b1b5ca4b73a460', '2010-08-26 19:54:21', 'joao', NULL, '4vFnfSFj18orff8kLY', 'bbe162518245f16f925ae6668a07af1c72a76d6fbe5a88875db5dd14ca05145de476986cae5ef2afc5833ec2adf3680614de20a8cea3d6572e4a6ff0590596a0', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (30.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:54:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 20ms (View: 10, DB: 512) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'bf12050b42853edc1a0dea0265cf587d973e298c8dd5b5366964092732d5707e4df439d0430b3153a1d0db97feea881efd82146c4b1b8551d016b6bbab79f8a3') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:54:21', '3388cce03061cf7fcc3ee348a0a0accabe8ba67492cf86c31e96bdd9782e1c9c6fd56f3df9d3a66d2d2791fb0aafa9046800308b3b336079884ee021f1673816', '2010-08-26 19:54:21', 'joao', NULL, 'kVPWJtjrNkDdxUD8uqfQ', 'bf12050b42853edc1a0dea0265cf587d973e298c8dd5b5366964092732d5707e4df439d0430b3153a1d0db97feea881efd82146c4b1b8551d016b6bbab79f8a3', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:21', '2010-08-26 19:54:21', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:54:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 15ms (View: 12, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (34.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:54:22) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:54:22', '2010-08-26 19:54:22', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 35) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (41.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:54:22) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:54:22', '2010-08-26 19:54:22', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 43) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (45.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '88108352a52832bc391dec68db3b368738bd348367c21b7574e49433be23ec979b01f2725114c0a49bff2ac9d18bac692bb51374e4a343ff85b2c6d38f58935a') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:57:21', '8fc6f408b2bb26bff2d7a6d765b3846723d26eae01f96f0582e0b07a474a2ef30b00bba85264aca9165404797d83feb7813018e1a84e60a33c7b0498b9c30d44', '2010-08-26 19:57:21', 'admin', NULL, 'zqzLal4oBiNp9400rFiT', '88108352a52832bc391dec68db3b368738bd348367c21b7574e49433be23ec979b01f2725114c0a49bff2ac9d18bac692bb51374e4a343ff85b2c6d38f58935a', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (54.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (66.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 3, 3)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (49.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f9da3e0337e3fde91033cef3c68b845b1ad4a7363f56141753a98596a22ada575e4b4f0bd66ea83f1e4b0f73cf9490aef8a0bb514b1cfb6f99ed6a44431ffe47') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:57:21', '6a09626e02b0bf905fc61cc03686b24e449790338a3b8e92b83b9dc1506aba13ef80d1de4a87337cad85eb8bd4c291e4372883f20c67c010a294c9930794565c', '2010-08-26 19:57:21', 'joao', NULL, 'EJYn07FIXjYVtcuHBfPG', 'f9da3e0337e3fde91033cef3c68b845b1ad4a7363f56141753a98596a22ada575e4b4f0bd66ea83f1e4b0f73cf9490aef8a0bb514b1cfb6f99ed6a44431ffe47', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (59.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7a888198e5ee7c924cea809637eb9e31f76d1fff9930ef044fdcae221c08162af262ba485182d5489ad0b0b8e68bdab75e275fb08f3fe512a9090ebe8bf22670') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f9da3e0337e3fde91033cef3c68b845b1ad4a7363f56141753a98596a22ada575e4b4f0bd66ea83f1e4b0f73cf9490aef8a0bb514b1cfb6f99ed6a44431ffe47') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f9da3e0337e3fde91033cef3c68b845b1ad4a7363f56141753a98596a22ada575e4b4f0bd66ea83f1e4b0f73cf9490aef8a0bb514b1cfb6f99ed6a44431ffe47') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:57:21', 'c45c3acee4751e09aead5f7b9848e0d4dac08d43a0fbbdcd0c804bda21d875e1479a9b0b1a920d8f8de26aa124d60b4633e8e7134eeca5fc82baacd63b55d579', '2010-08-26 19:57:21', 'joao', NULL, '8pKnW2VNvNL75siPW1Aj', '7a888198e5ee7c924cea809637eb9e31f76d1fff9930ef044fdcae221c08162af262ba485182d5489ad0b0b8e68bdab75e275fb08f3fe512a9090ebe8bf22670', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:21', '2010-08-26 19:57:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '356905bbeb49abe622618b6ed628e784fb0a04a542713495bba6cc38986dee010d09a250fada1b2c4bee3971866910d2c25c47e9d33f03ae30013faf07ee77ea') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7a888198e5ee7c924cea809637eb9e31f76d1fff9930ef044fdcae221c08162af262ba485182d5489ad0b0b8e68bdab75e275fb08f3fe512a9090ebe8bf22670') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7a888198e5ee7c924cea809637eb9e31f76d1fff9930ef044fdcae221c08162af262ba485182d5489ad0b0b8e68bdab75e275fb08f3fe512a9090ebe8bf22670') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:57:22', '8c3f8ca642024a9492cab3285a3d7e7c279ca531e4fb058c46caa32ce24a2bfbe06709dfdbef9438a2bb39b2746ce8daeb9236cbea24c5d69c5afe88a1b6a247', '2010-08-26 19:57:22', 'joao', NULL, 'DT6EOvNtDQviqnVQ8BKR', '356905bbeb49abe622618b6ed628e784fb0a04a542713495bba6cc38986dee010d09a250fada1b2c4bee3971866910d2c25c47e9d33f03ae30013faf07ee77ea', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:57:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 517) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7d20acf28df280c84316c5bcb5304573b36fbb33fb984e8f194f3159298eaaf8ddf31e81d475a8372c7b2fd5e85b125467f00b132ed08db7de1691f530c606d9') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 19:57:22', '2f5781cd6e93dedba3c4a5c80774a319bcdccb047ab0bbe17677db5d0006ec679e454549705be32d7ad0aed07dca64c877ccaa246c40bbab5319850ac505534b', '2010-08-26 19:57:22', 'joao', NULL, '5K7cVXfNlSfV3to98n3', '7d20acf28df280c84316c5bcb5304573b36fbb33fb984e8f194f3159298eaaf8ddf31e81d475a8372c7b2fd5e85b125467f00b132ed08db7de1691f530c606d9', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 16:57:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 14ms (View: 11, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (47.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 16:57:22) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 8ms (DB: 48) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (38.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 16:57:22) [GET]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 19:57:22', '2010-08-26 19:57:22', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 7ms (DB: 40) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (47.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '32c42edbdac6d2539b8db6991df4f5fa268d16463a9220b98f888218995e994811c519c9c99ffcc31894963574f62600d26674e26bb12953275562c6dfb7e071') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:00:39', 'c92efdb7dfee3a3550224d3e6ed4c67180f83651c097e1722d5c1545964e72a08245befffaa9e20ddce67c6d76e50d1bb8df8f546e17285bb07f84c50ac05d81', '2010-08-26 20:00:39', 'admin', NULL, 'L7yFvFlIxYXrI4MpKh', '32c42edbdac6d2539b8db6991df4f5fa268d16463a9220b98f888218995e994811c519c9c99ffcc31894963574f62600d26674e26bb12953275562c6dfb7e071', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (70.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (76.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (55.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1ab2736f82f00827ca4f7a43e94def7205c7a7e31e75684b4ecbe508a319a85bfb9b264556902515911e170197662c6c02bf5441e0694974b6e0628988f5fe37') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:00:39', '0cb870df9571e6d0a40f87913bb96a1b92348558983368627183fa0df835ee5335927a108ec67e9c859c312ceb895a8eff3f7d2b9f4f0fbf4fcc786d31ec8408', '2010-08-26 20:00:39', 'joao', NULL, 'RuQxGLnU2MH41IFWk6i', '1ab2736f82f00827ca4f7a43e94def7205c7a7e31e75684b4ecbe508a319a85bfb9b264556902515911e170197662c6c02bf5441e0694974b6e0628988f5fe37', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (64.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5bcdd8edaf348fb8f369ff8fe4e2ba9e64e2863335eed8707b5346810deb34b8267df06ae0aeb57caa11c856f11c46b74a24ec4145170e374834d6388b6553fd') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1ab2736f82f00827ca4f7a43e94def7205c7a7e31e75684b4ecbe508a319a85bfb9b264556902515911e170197662c6c02bf5441e0694974b6e0628988f5fe37') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1ab2736f82f00827ca4f7a43e94def7205c7a7e31e75684b4ecbe508a319a85bfb9b264556902515911e170197662c6c02bf5441e0694974b6e0628988f5fe37') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:00:39', 'da29fa3aa8310cfb62f9a145af91094fce4e796ac8cb23282007f7697339d3608bb756c4962745f681630e19948987d192ebdfc4ea33865ac23e7c77a5e31e47', '2010-08-26 20:00:39', 'joao', NULL, 'EeQ3sZznEQ5EGEyitCwH', '5bcdd8edaf348fb8f369ff8fe4e2ba9e64e2863335eed8707b5346810deb34b8267df06ae0aeb57caa11c856f11c46b74a24ec4145170e374834d6388b6553fd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:39', '2010-08-26 20:00:39', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (29.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6121681937bddf69697d3c24b8d5fa38c8b9e9a3708a1a1431275e8e3e6d6f4b17f97b2e4151d5b20c1f4796c1e55f916314182a8d024c54aba42c8e3d0a2fdd') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5bcdd8edaf348fb8f369ff8fe4e2ba9e64e2863335eed8707b5346810deb34b8267df06ae0aeb57caa11c856f11c46b74a24ec4145170e374834d6388b6553fd') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5bcdd8edaf348fb8f369ff8fe4e2ba9e64e2863335eed8707b5346810deb34b8267df06ae0aeb57caa11c856f11c46b74a24ec4145170e374834d6388b6553fd') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:00:40', '655ab436ea95c18ec9827335d9c5a7756bc03145aca5c89468e75bc3e88ae327e3215cf40381200022693c9a7964f4e9926f3f3d43c1d0fdd61052477d783a06', '2010-08-26 20:00:40', 'joao', NULL, 'ZnkHkVbg5H5nSiBnAiC', '6121681937bddf69697d3c24b8d5fa38c8b9e9a3708a1a1431275e8e3e6d6f4b17f97b2e4151d5b20c1f4796c1e55f916314182a8d024c54aba42c8e3d0a2fdd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 2, 7)[0m
  [4;35;1mSQL (2.9ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (43.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:00:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 575) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9e87942cf026491ab432c2fc9f29825cdd47f27df49e41fb74c465b1b66b4a7f3a9b257a72cf82ea68692d803edfe138450247779f1790c648967fb0f11aa14c') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:00:40', '77e3248dabbf84d2c5bb9a9d314d3279843305e33b0f7e85c22a2c5a403b17306cd78949bafebfebedb2190ef3326e332df31263d82823bc0ee83894e3ffbbd1', '2010-08-26 20:00:40', 'joao', NULL, '3kWPhci4mSDpwJYqowu7', '9e87942cf026491ab432c2fc9f29825cdd47f27df49e41fb74c465b1b66b4a7f3a9b257a72cf82ea68692d803edfe138450247779f1790c648967fb0f11aa14c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:00:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 15ms (View: 12, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (37.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:00:40) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 38) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (41.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:00:40) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:00:40', '2010-08-26 20:00:40', NULL, 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 43) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2138b57ee2ffa3a52e4d936244f96f942af4cfc03f3a3faf06d7d7c18ae4207d34bd3399fb1a97415d7575938d039e9380f0887776ba03aaf009523aad7fe95d') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:01:24', '4b77535f717d6dc71f4cafbd13fd25437df261471393c858602a1b8dfaf4a9a0ae6235c00c9cb95697b67582160646efc3740a254c7d0769c47f534ad4caf1f9', '2010-08-26 20:01:24', 'admin', NULL, 'qe7Xt0P8Y8Y9rjiIR6bw', '2138b57ee2ffa3a52e4d936244f96f942af4cfc03f3a3faf06d7d7c18ae4207d34bd3399fb1a97415d7575938d039e9380f0887776ba03aaf009523aad7fe95d', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (75.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (90.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (55.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (51.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f32be0b52befa3f910c901a6c2650b69a1c49be1eb71fc04c2ace19780c5c066cf28e9945e120ee9d561479c5b0056c2be2c415dfb7185ed47dac37de44f6ac8') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:01:24', 'b17504f475ac5622a223baf9b45348349c80cdd1176eca9b1287fbb59bcf89644408b45889ecc761f6f91e5781b2b80611b383d96e5ac421bf84220a4779df3a', '2010-08-26 20:01:24', 'joao', NULL, 'fv3qwkui7Z5JYxwbP', 'f32be0b52befa3f910c901a6c2650b69a1c49be1eb71fc04c2ace19780c5c066cf28e9945e120ee9d561479c5b0056c2be2c415dfb7185ed47dac37de44f6ac8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b89fac1de20d02910d053160a59066c7a3abd3801fdb09e2e41d841bbda7d4435feed9630bf0322e6261596e1d130476dad8a7388f3caac89a56cf99cac843db') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f32be0b52befa3f910c901a6c2650b69a1c49be1eb71fc04c2ace19780c5c066cf28e9945e120ee9d561479c5b0056c2be2c415dfb7185ed47dac37de44f6ac8') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f32be0b52befa3f910c901a6c2650b69a1c49be1eb71fc04c2ace19780c5c066cf28e9945e120ee9d561479c5b0056c2be2c415dfb7185ed47dac37de44f6ac8') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:01:24', 'a40cb8456c06a2ee1ae0622cbcff6662d1d2c9ff51d56cccfd4fbedc42daf42509d673c2f6b2bb09c2edbfabee4524434ade7f7b2d96a59f07ae33f28d561be9', '2010-08-26 20:01:24', 'joao', NULL, 'o38IlcWWKXy3Q68Olfbq', 'b89fac1de20d02910d053160a59066c7a3abd3801fdb09e2e41d841bbda7d4435feed9630bf0322e6261596e1d130476dad8a7388f3caac89a56cf99cac843db', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (2.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '43a1e3c9f5c3b1bce72cf520bea61adcd2f67ebe79f3a0dce6ea1ac90b9cd12cd60d3c178a4c1f6ea07ee1ce5d2297ad61266e33cd0194802ca959afa56b9a76') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b89fac1de20d02910d053160a59066c7a3abd3801fdb09e2e41d841bbda7d4435feed9630bf0322e6261596e1d130476dad8a7388f3caac89a56cf99cac843db') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b89fac1de20d02910d053160a59066c7a3abd3801fdb09e2e41d841bbda7d4435feed9630bf0322e6261596e1d130476dad8a7388f3caac89a56cf99cac843db') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:01:24', '00d65cfeb3445d6e12cbff3f2ea14e95fe2faf13c6adbb094dc5655870968ecfb87749192f2c2acda5ed436d722254149cb83bf77ec64cd84611cd3a5592a622', '2010-08-26 20:01:24', 'joao', NULL, 'NXpLXgPVrzfOqIfUHCH', '43a1e3c9f5c3b1bce72cf520bea61adcd2f67ebe79f3a0dce6ea1ac90b9cd12cd60d3c178a4c1f6ea07ee1ce5d2297ad61266e33cd0194802ca959afa56b9a76', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (74.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (41.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:24', '2010-08-26 20:01:24', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (41.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:01:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 37ms (View: 30, DB: 584) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5aaa0b011d0f0b91102653aa943b70778119a9e6ce1cf9fb12ff80a0e282bf73dc8c3423916d4c0a26938b9715af769dfb404580712c5761188070ecdf0c65be') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:01:25', 'ebd4e545cbd3feffbaa7dc9131ada50739ee452803e2a5676157ab26df564aeb3ab860c0b7e010e0eef68c83a6ade2f7aa6cb1b5a84040f0f7f5e1580738a28e', '2010-08-26 20:01:25', 'joao', NULL, 'YcHtb9g9aqcGOL3EYn', '5aaa0b011d0f0b91102653aa943b70778119a9e6ce1cf9fb12ff80a0e282bf73dc8c3423916d4c0a26938b9715af769dfb404580712c5761188070ecdf0c65be', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:25', '2010-08-26 20:01:25', 5, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:01:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
Completed in 16ms (View: 12, DB: 6) | 200 OK [http://test.host/]
  [4;35;1mSQL (48.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:01:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:01:25', '2010-08-26 20:01:25', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 49) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (46.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:01:25) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:01:25', '2010-08-26 20:01:25', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 48) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (41.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fc37187f85823f400d285f9efcf0466504eb6f229140af3692a5c693024261ff970d9ee8de602a496631d6c8d83fbbdf4dec6b7eede88af53a2d821301d6fa19') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:02', '2fc652d2cbe7f35869009fcfe0f9c478fd27c731036b5fc512ac51fca907a389307798345ee7785b7b09d8e7c8197d223f38eb978f44b03e127a738c2c83f01c', '2010-08-26 20:16:02', 'admin', NULL, 'QwXD0v5gqCnP4C3O2lRC', 'fc37187f85823f400d285f9efcf0466504eb6f229140af3692a5c693024261ff970d9ee8de602a496631d6c8d83fbbdf4dec6b7eede88af53a2d821301d6fa19', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (78.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:02', '2010-08-26 20:16:02', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:02', '2010-08-26 20:16:02', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (48.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (46.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '553e3edc53d188578635463c91c6ea4767adfeba271b004819f1f586497fa98055594f8d8f0e446eb00ba1f66908931e6b6481621b68ca078d6712c533af325a') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:03', '0799eaf8553ff8e6b82a3ab4b5e851e644fc58ea3677844069b6d93a9371a6d9b20959f88ac166ba0e5d52cfd0e1160a6575e9aab03fcfb47acf574f1b74eac2', '2010-08-26 20:16:03', 'joao', NULL, 'GHgKu4wRUmjzJnadBF', '553e3edc53d188578635463c91c6ea4767adfeba271b004819f1f586497fa98055594f8d8f0e446eb00ba1f66908931e6b6481621b68ca078d6712c533af325a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (41.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c27e52f04cc417ab4358382ecc5f910ff0059947650aef5f2673593021986732ad1f54ff1f641c29e3cd1e4abc4ad4ee9a955739ab49f03c59382e0db9832d97') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '553e3edc53d188578635463c91c6ea4767adfeba271b004819f1f586497fa98055594f8d8f0e446eb00ba1f66908931e6b6481621b68ca078d6712c533af325a') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '553e3edc53d188578635463c91c6ea4767adfeba271b004819f1f586497fa98055594f8d8f0e446eb00ba1f66908931e6b6481621b68ca078d6712c533af325a') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:03', 'd82d797d4ab8cc77b26902fa3885069f960fd205224eebaa1b838465ca25e31bf86d2f58a1207bd205cb74e52ec7e5dad96cee1506f4fd8fb817e203aa3134a5', '2010-08-26 20:16:03', 'joao', NULL, 'SHSS8Xedadgdt6anBCy', 'c27e52f04cc417ab4358382ecc5f910ff0059947650aef5f2673593021986732ad1f54ff1f641c29e3cd1e4abc4ad4ee9a955739ab49f03c59382e0db9832d97', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'dd4077c00f1a92808191986e40e6edd0be5bd44d475c3109ee68d7f977ea7d0e2f12a65dcdd9b476dddc5bef52d0d95a6764add070a8dac76eabc95861126ebf') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c27e52f04cc417ab4358382ecc5f910ff0059947650aef5f2673593021986732ad1f54ff1f641c29e3cd1e4abc4ad4ee9a955739ab49f03c59382e0db9832d97') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c27e52f04cc417ab4358382ecc5f910ff0059947650aef5f2673593021986732ad1f54ff1f641c29e3cd1e4abc4ad4ee9a955739ab49f03c59382e0db9832d97') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:03', 'bd7677dbda2e029334ad1646f1f8043f7c688193b8e36f7808c90b59ac4d3ce60e49166cf2e8cc6216b3aa2e6de0bd0f3fda84385ef5fd691da635e3173cda5b', '2010-08-26 20:16:03', 'joao', NULL, 'z32Hc9nm6vNPb6tj6DCM', 'dd4077c00f1a92808191986e40e6edd0be5bd44d475c3109ee68d7f977ea7d0e2f12a65dcdd9b476dddc5bef52d0d95a6764add070a8dac76eabc95861126ebf', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:16:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 11, DB: 488) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:16:03) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (28.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:16:03) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:03', '2010-08-26 20:16:03', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 31) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (36.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5e41ff17065e3691ccca411b4d2d69df60cbffe634d46d042cebd91e5b3cccb4fa2e1a5bf1636c567fe7779dfc8053520d8298fb4aa9a29096f7e0fee94f99c9') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:24', 'f2de47462ca33a99c3df2601a17dcb40507cd8c8e19e4befce1053b20f8691044765290e69f0224fb2c24ac9467dfb036be01747a3bf980923703416691d223f', '2010-08-26 20:16:24', 'admin', NULL, 'SOSfe9tOQLgSO9yUn2VO', '5e41ff17065e3691ccca411b4d2d69df60cbffe634d46d042cebd91e5b3cccb4fa2e1a5bf1636c567fe7779dfc8053520d8298fb4aa9a29096f7e0fee94f99c9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (51.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:24', '2010-08-26 20:16:24', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (47.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:24', '2010-08-26 20:16:24', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (2.1ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:24', '2010-08-26 20:16:24', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (332.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (46.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '20b8f1e2707b5ab803ad2e13ebba82d2fa39185f67953687920db873f3f96f721df997d162b17797ac4738bb7979d175ab31b329a495d782ac95c4175dbff932') LIMIT 1[0m
  [4;35;1mUser Create (1.1ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:25', '79478c0a35140c7aff94bea16e4a974678096dd8c15181356fc44936e45ced646e5606b57eb5e7ad0778f90ffcf13eb591578e2d027a96756d912d0579981cf7', '2010-08-26 20:16:25', 'joao', NULL, 'hhtLrBkaxh5JPX52bv3p', '20b8f1e2707b5ab803ad2e13ebba82d2fa39185f67953687920db873f3f96f721df997d162b17797ac4738bb7979d175ab31b329a495d782ac95c4175dbff932', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '19617b9e6e4033b890d7407f2d26d1b1179240352e732ec3c5269a3e4315c056d2fa84e44a391e9768e53df20e04f491bc71a3277cc30e746df42369a7b91b3c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '20b8f1e2707b5ab803ad2e13ebba82d2fa39185f67953687920db873f3f96f721df997d162b17797ac4738bb7979d175ab31b329a495d782ac95c4175dbff932') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '20b8f1e2707b5ab803ad2e13ebba82d2fa39185f67953687920db873f3f96f721df997d162b17797ac4738bb7979d175ab31b329a495d782ac95c4175dbff932') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:25', 'ff8d8fac60ca30bcc724d6b9d102e176eb54684a6462f24e16038dd9789fbdf0ab49676069e09fc7a0e5d3733d1d739c42520b593891171f1914ec89f70b7831', '2010-08-26 20:16:25', 'joao', NULL, 'MaqYM5XxZ8dYEZJ2nNI9', '19617b9e6e4033b890d7407f2d26d1b1179240352e732ec3c5269a3e4315c056d2fa84e44a391e9768e53df20e04f491bc71a3277cc30e746df42369a7b91b3c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 2, 5)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '94139823950ea62ae9887bfb6708912ef133c8c93b8319a85fff68f5943730fb2e75e4dce7bf05cf7fc783ffe32f55b415e5a5f4e6cd45b239e3081df2b7fd91') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '19617b9e6e4033b890d7407f2d26d1b1179240352e732ec3c5269a3e4315c056d2fa84e44a391e9768e53df20e04f491bc71a3277cc30e746df42369a7b91b3c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '19617b9e6e4033b890d7407f2d26d1b1179240352e732ec3c5269a3e4315c056d2fa84e44a391e9768e53df20e04f491bc71a3277cc30e746df42369a7b91b3c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:16:25', 'e26fe09ede035c582f1b3b0bcb996fdd5dad5c0a26b6db682f1c6f48290adef17cd7121941446158a47217a9193ee68aa45649839babb664ff9f1a9b7e547c3f', '2010-08-26 20:16:25', 'joao', NULL, 'YSQiIIAXUOa11m0oVgk', '94139823950ea62ae9887bfb6708912ef133c8c93b8319a85fff68f5943730fb2e75e4dce7bf05cf7fc783ffe32f55b415e5a5f4e6cd45b239e3081df2b7fd91', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (32.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:16:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 12, DB: 775) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:16:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:16:25', '2010-08-26 20:16:25', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 3) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (48.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:16:26) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:16:26', '2010-08-26 20:16:26', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 50) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (40.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a07154304a419eb54c630456644f6f3adc563d50d332f3709d1ad07d4095e2b5e682cceb6362b5a3ef06af64ed9c0e2f2b54af9555ac5ae8fb44e58090cff2e7') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:17:11', '0fd218eee5e1aec06aab4a1f185ec6d10a25b8a40e296dcf06df5df01f1d4f1706f410d6dcc4a370a9f70fd375d0c8e802c27417b801950d7eec70df78911555', '2010-08-26 20:17:11', 'admin', NULL, 'QigUkNzhcr2eHxjff0M', 'a07154304a419eb54c630456644f6f3adc563d50d332f3709d1ad07d4095e2b5e682cceb6362b5a3ef06af64ed9c0e2f2b54af9555ac5ae8fb44e58090cff2e7', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (79.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (77.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (33.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (35.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9733f916a682ca16c14b47f085a40e05fea54fbe158833f43dbde9c9fc073ad52222f5113e208152c09406ba57c8d94398d33c90604a6c10d3f1af919c23ba0d') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:17:11', '2aab70a2e7930325eba04faafd6c0578c845f3c6925b92e3c46d1da1642636b3e588271680657d620577bfe8e2b634e44d456a5552099718ecd05adbf0d0a8cc', '2010-08-26 20:17:11', 'joao', NULL, 'dDtv2zG3MpWKKuw9iBC', '9733f916a682ca16c14b47f085a40e05fea54fbe158833f43dbde9c9fc073ad52222f5113e208152c09406ba57c8d94398d33c90604a6c10d3f1af919c23ba0d', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:11', '2010-08-26 20:17:11', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (35.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '08f2944282b112b0fc3a477a8498212ad3423f6a8faccb6860f917d66e8ff4f59a3dae1eba28af85d16feea06d8b57950d109018bf17e4a50988ec0de552f1c6') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9733f916a682ca16c14b47f085a40e05fea54fbe158833f43dbde9c9fc073ad52222f5113e208152c09406ba57c8d94398d33c90604a6c10d3f1af919c23ba0d') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9733f916a682ca16c14b47f085a40e05fea54fbe158833f43dbde9c9fc073ad52222f5113e208152c09406ba57c8d94398d33c90604a6c10d3f1af919c23ba0d') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:17:12', 'c3f7a95f09ade7c6744495994417b72d3baa0c60d099bfb268601143f0176771b76ca7aab59867de11c051f3e343308ecee42266ee2d79df5f4584278627bd80', '2010-08-26 20:17:12', 'joao', NULL, '9bnA35hnIkNDWsUFBKc', '08f2944282b112b0fc3a477a8498212ad3423f6a8faccb6860f917d66e8ff4f59a3dae1eba28af85d16feea06d8b57950d109018bf17e4a50988ec0de552f1c6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4611f5476edeb062ead7aaa54a0ff13832f45e8e5f114b54649b4ad06dabe7171185608debcdfc6659ca6805de74f65431c8e71b916a8766b390432f19ea2f10') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '08f2944282b112b0fc3a477a8498212ad3423f6a8faccb6860f917d66e8ff4f59a3dae1eba28af85d16feea06d8b57950d109018bf17e4a50988ec0de552f1c6') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '08f2944282b112b0fc3a477a8498212ad3423f6a8faccb6860f917d66e8ff4f59a3dae1eba28af85d16feea06d8b57950d109018bf17e4a50988ec0de552f1c6') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:17:12', 'b196e223b2d960ea1053f33d08908f3c5e9f32f06cc103781c920ab9a9537b6e40cca2ec35059bada58f3edf5405fbb101243247920d01483fa7d8e988b6868a', '2010-08-26 20:17:12', 'joao', NULL, 'LpZFsLpbPYeD4O8Vffd', '4611f5476edeb062ead7aaa54a0ff13832f45e8e5f114b54649b4ad06dabe7171185608debcdfc6659ca6805de74f65431c8e71b916a8766b390432f19ea2f10', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 4, 'teste')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:17:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 538) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:17:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:17:12) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (55.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:17:12) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:17:12', '2010-08-26 20:17:12', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 57) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (38.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9077c753301176a769633753d0f548e7071f61817c3a56e56b42d9491b0d4f0df6d523a135b45b4d0c3524e7db1cb40907cf56391c794105ef6151c597cee7c3') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:19:17', '27adfe352ae00b5c42418bb2dd9536a8152018033ab2001a59455a84b6837fca53a9fbff6d188cc8dfcc790a3e869e63d87609d01fe204f3e80e9d9d108e4109', '2010-08-26 20:19:17', 'admin', NULL, 'CCbQyzkYySrODXMRQH', '9077c753301176a769633753d0f548e7071f61817c3a56e56b42d9491b0d4f0df6d523a135b45b4d0c3524e7db1cb40907cf56391c794105ef6151c597cee7c3', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (82.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (49.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (53.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b5cd507cd093d3387788d27ab8458b98628b9e3b1ed50dfd5bd29c0c1be03cc034c826521a2ba46ff19395d247d309b9e9bea0b20078e698077e678086d2c336') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:19:17', 'b24e79752d7a5649e56d1db0d357242f427be613d1420a15db1d3452d086989ac027ecee7f03eeae39c4a40210797c12a4ddde857aac8386dd354df3912aa3c6', '2010-08-26 20:19:17', 'joao', NULL, 'ht8hAPTkprkGDgp93zB', 'b5cd507cd093d3387788d27ab8458b98628b9e3b1ed50dfd5bd29c0c1be03cc034c826521a2ba46ff19395d247d309b9e9bea0b20078e698077e678086d2c336', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '9eb33dde000e291f737666250b1cfbc55d08514c2bfa2bf8f701b4cd1898e3ca30dce92707876c5ff9597a5207dc3a5832d24303ec906fa38c5abe8065bfb912') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b5cd507cd093d3387788d27ab8458b98628b9e3b1ed50dfd5bd29c0c1be03cc034c826521a2ba46ff19395d247d309b9e9bea0b20078e698077e678086d2c336') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b5cd507cd093d3387788d27ab8458b98628b9e3b1ed50dfd5bd29c0c1be03cc034c826521a2ba46ff19395d247d309b9e9bea0b20078e698077e678086d2c336') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:19:17', '8efdc7219bbb91613f981f105b70a5164dc0a2dd39f9ffc9b99f1336626f98cc2b05ba20433f19b7949730af69307bd315608cb178ea54c97771f5c5c24d2395', '2010-08-26 20:19:17', 'joao', NULL, 'Anjx6iArIGj9nC3hLlb', '9eb33dde000e291f737666250b1cfbc55d08514c2bfa2bf8f701b4cd1898e3ca30dce92707876c5ff9597a5207dc3a5832d24303ec906fa38c5abe8065bfb912', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '390b06d0f42b74dc01dae13a3ca6d8be44f271c67ee134acb8f8bcbbdf3bcdfe982392345d8a9bea2790ad791a10d1bb12712808e9a404702ada9c155565b931') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9eb33dde000e291f737666250b1cfbc55d08514c2bfa2bf8f701b4cd1898e3ca30dce92707876c5ff9597a5207dc3a5832d24303ec906fa38c5abe8065bfb912') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '9eb33dde000e291f737666250b1cfbc55d08514c2bfa2bf8f701b4cd1898e3ca30dce92707876c5ff9597a5207dc3a5832d24303ec906fa38c5abe8065bfb912') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:19:17', 'fa7966f0707a46c3b224314068215313ee197b9ed39dab073e6ca97bacfa65b79fa717898a2b6b401162376ff0692998236004484a4064906b1d2874f842a032', '2010-08-26 20:19:17', 'joao', NULL, 'VxPJu3PaXeaUdg6LKVy0', '390b06d0f42b74dc01dae13a3ca6d8be44f271c67ee134acb8f8bcbbdf3bcdfe982392345d8a9bea2790ad791a10d1bb12712808e9a404702ada9c155565b931', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 3, 6)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:17', '2010-08-26 20:19:17', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:19:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 19ms (View: 11, DB: 515) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:19:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:19:18) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:19:18', '2010-08-26 20:19:18', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (43.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:19:18) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:19:18', '2010-08-26 20:19:18', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 45) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (37.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ab86265ead2cf3922134ac45f0c255c9f22d2a4d2500c21bf3f7adaff87c1cf1c5e1ec7f328391cb3db2e36c83794c934d4b5b2e9f3469aa0d471e758a6ed39f') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:21:19', '0bab626593506f2f1768b18299b6b271d20631da9d602a21257e3ee67f4795e2f3ade891307707bd4f70b0fda7546ee14d705c396a39e4c9d547273a6c94e82a', '2010-08-26 20:21:19', 'admin', NULL, 'w9VNP7GuIeZXE28nFOCB', 'ab86265ead2cf3922134ac45f0c255c9f22d2a4d2500c21bf3f7adaff87c1cf1c5e1ec7f328391cb3db2e36c83794c934d4b5b2e9f3469aa0d471e758a6ed39f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (69.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (66.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (40.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (43.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '94ae0c30e8342a5a29363fdedb107e15ff48b66729433e97f50db693d105fbfadff88be0571100a991f50a607592b44e55dec03cdb2a359dafafc7d61cbde667') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:21:19', '8054c7147ce7e6fd75c15029c5e530935f816127b6e3a5672c2a027cf3188495d40c58b9813c646bf9a5993560249baf846d6162f3da19d7e820c0ce75c6bc81', '2010-08-26 20:21:19', 'joao', NULL, 'J7TNf8DKAocoxlSDRx2x', '94ae0c30e8342a5a29363fdedb107e15ff48b66729433e97f50db693d105fbfadff88be0571100a991f50a607592b44e55dec03cdb2a359dafafc7d61cbde667', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (45.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1c7ed815985af3145368f7a98bcdb0329a69d7b1b4d7bb5decbc24d61669be50ef9e93d917acb1ca411c669cc7cd7c496b6343516d2c0e1badc31a02520cb4bb') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '94ae0c30e8342a5a29363fdedb107e15ff48b66729433e97f50db693d105fbfadff88be0571100a991f50a607592b44e55dec03cdb2a359dafafc7d61cbde667') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '94ae0c30e8342a5a29363fdedb107e15ff48b66729433e97f50db693d105fbfadff88be0571100a991f50a607592b44e55dec03cdb2a359dafafc7d61cbde667') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:21:19', 'e0f9e04f5a4ed5916acd36a14e22630493c87747be66e8b8140d748c404cab8addf46eb0d13b74705ae20639b1792b368f05208eea71c75b96d1d78af1f6000f', '2010-08-26 20:21:19', 'joao', NULL, '4VII5ObnsgsmCIdeWj2t', '1c7ed815985af3145368f7a98bcdb0329a69d7b1b4d7bb5decbc24d61669be50ef9e93d917acb1ca411c669cc7cd7c496b6343516d2c0e1badc31a02520cb4bb', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6a79acaaff49bd3913d612d14ab4727be2ffb83ed855998ebc0706529d48318d99289ddf412f74fc76c865dcbfa5a938b5a1cd584049a9d1e01e304f3d0f1957') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1c7ed815985af3145368f7a98bcdb0329a69d7b1b4d7bb5decbc24d61669be50ef9e93d917acb1ca411c669cc7cd7c496b6343516d2c0e1badc31a02520cb4bb') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1c7ed815985af3145368f7a98bcdb0329a69d7b1b4d7bb5decbc24d61669be50ef9e93d917acb1ca411c669cc7cd7c496b6343516d2c0e1badc31a02520cb4bb') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:21:19', '8d1078a0a0e75a71808a3ea8483a682a8bf8c1d28b9a70c86c09343d01f5e185c6f9013d29ff3028e1f1abdb1eff371d43254d6699d7a6090c9ac507926ee8c6', '2010-08-26 20:21:19', 'joao', NULL, 'a0T32qQlXBjZ1i9GzYU', '6a79acaaff49bd3913d612d14ab4727be2ffb83ed855998ebc0706529d48318d99289ddf412f74fc76c865dcbfa5a938b5a1cd584049a9d1e01e304f3d0f1957', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:19', '2010-08-26 20:21:19', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:21:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 513) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:21:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:21:20) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:21:20', '2010-08-26 20:21:20', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (42.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:21:20) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:21:20', '2010-08-26 20:21:20', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 7ms (DB: 45) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (38.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd482d8595b4795dc59368d013c9c7216f6cf2b37450d57b6f3961f7af4de81b0f60f25ef68ad5fb7fcc0e5f6574acef32b0b373751572c5a3daf0140a20757a9') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:22:41', '1d51a954a559c0e96890a480427da531fc4cabb0af7d024a560f7b139bbadfa13eed380a8549659f1c4acff2b303a542656be65d18d8fb3afb26adb38cdb45c7', '2010-08-26 20:22:41', 'admin', NULL, 'gER0Fh4OhKZRjaZsRm1', 'd482d8595b4795dc59368d013c9c7216f6cf2b37450d57b6f3961f7af4de81b0f60f25ef68ad5fb7fcc0e5f6574acef32b0b373751572c5a3daf0140a20757a9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (73.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (3.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (47.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.0ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 2, 3)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '33d057b5db058c12aa9ded029381a2cce69fdc4a23fd3e2eea1911e299d8e19f3ca4c89bd0885c610ae30ecb42369ec077b9e665f3dc0303598b23a17c90f7a1') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:22:41', '625138ebdc19021d51df7f5edcc7eadf8b7176e71c82bc63a8790d59a5242c260611423c0dafaa4d9afc1d1c7445519276294cef57815fec4578f6bc69b8d4bd', '2010-08-26 20:22:41', 'joao', NULL, 'TWblNP6rkarhU4gBDDqy', '33d057b5db058c12aa9ded029381a2cce69fdc4a23fd3e2eea1911e299d8e19f3ca4c89bd0885c610ae30ecb42369ec077b9e665f3dc0303598b23a17c90f7a1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6949cca8cdb712bac47dfeae4916f5d174db8f36e58d13728f86fd83afeaaa26278750a281a051c595d59f95396ba5f4e6c843854c5f1e2f7aafa162fd4e316c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '33d057b5db058c12aa9ded029381a2cce69fdc4a23fd3e2eea1911e299d8e19f3ca4c89bd0885c610ae30ecb42369ec077b9e665f3dc0303598b23a17c90f7a1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '33d057b5db058c12aa9ded029381a2cce69fdc4a23fd3e2eea1911e299d8e19f3ca4c89bd0885c610ae30ecb42369ec077b9e665f3dc0303598b23a17c90f7a1') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:22:41', '32163e94d9f50763b73d8d2e1d9ff9a58fd5ded7163b742c5d077864b460e30f432cdbb1c8a9664f54921bf83408c3a1a2d46364886ba5b09230e5fc1eaf79f6', '2010-08-26 20:22:41', 'joao', NULL, '7tRO9GIuuISIXQRvjH5', '6949cca8cdb712bac47dfeae4916f5d174db8f36e58d13728f86fd83afeaaa26278750a281a051c595d59f95396ba5f4e6c843854c5f1e2f7aafa162fd4e316c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '077ccbe8ae104472b0b754cdb14219726ffcaaceff4a990f77297c45a2d8d84c7ad199d639179f31ad83aa38b786f51223aeedd45b9a0177c79fb4e6f554faf6') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6949cca8cdb712bac47dfeae4916f5d174db8f36e58d13728f86fd83afeaaa26278750a281a051c595d59f95396ba5f4e6c843854c5f1e2f7aafa162fd4e316c') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6949cca8cdb712bac47dfeae4916f5d174db8f36e58d13728f86fd83afeaaa26278750a281a051c595d59f95396ba5f4e6c843854c5f1e2f7aafa162fd4e316c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:22:41', '97aa2216dbbd0b4a62c9d342df7f0e7cb4466de68ae823faf6da44b77c5573d9785bedca3bcfb408c4e4e7b5ddd1e5d7c03804f3f72f15b759ea1a4052b6c08c', '2010-08-26 20:22:41', 'joao', NULL, 'qM1ZiHKIHZ4SpxfQZCq', '077ccbe8ae104472b0b754cdb14219726ffcaaceff4a990f77297c45a2d8d84c7ad199d639179f31ad83aa38b786f51223aeedd45b9a0177c79fb4e6f554faf6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (44.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:41', '2010-08-26 20:22:41', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:22:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 21ms (View: 13, DB: 511) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:22:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:22:42) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:22:42', '2010-08-26 20:22:42', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (38.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:22:42) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:22:42', '2010-08-26 20:22:42', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 10ms (DB: 40) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (44.9ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '08de43030d0b0b0b23290df72010ee1b71d93f4b0996235c07675f4616a07bb46c7daa6c0e03bf006307273463832fc1291f290bcdf6a047b8f003fe8dcb5bd4') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:23:52', '108c571664c7dc73c30c414294a98736f0c817fccae207b756d0cdcb1cfa23a1394a5dc135ad7c801e1ac1a899674f534f90917274285d438b0428c630f9f56f', '2010-08-26 20:23:52', 'admin', NULL, 'BjJpws9vg2vKWTIeZTpp', '08de43030d0b0b0b23290df72010ee1b71d93f4b0996235c07675f4616a07bb46c7daa6c0e03bf006307273463832fc1291f290bcdf6a047b8f003fe8dcb5bd4', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (77.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (58.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (53.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 2, 3)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '27d22c45b48e7846d2b17e56b7cad5a6e5ba735001bbdea3065c44c53368f2e659524c65301c3743a1bf5f95a572eac8788e0d714707091941efa5deb6acac90') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:23:53', 'c9f5f0c8b7cc3a3ae4f752bc8ec92b2c90c8115c3aa4cf85fbefd0bada0356e6cdc89aedeb0335f029199e6142b13f9e580556fd0865a4babef5290ac31e8e2d', '2010-08-26 20:23:53', 'joao', NULL, '89XZQWMkiATiwms8AQ', '27d22c45b48e7846d2b17e56b7cad5a6e5ba735001bbdea3065c44c53368f2e659524c65301c3743a1bf5f95a572eac8788e0d714707091941efa5deb6acac90', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '42686da275f3b60c6a1cfdcc11bdef7b5ab471af951ef1c7e45fb7c2a79c3a3f194785eb6df5e373612751a650bc7be2be4659ca6ceef76b773b7e1ec1115f0c') LIMIT 1[0m
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '27d22c45b48e7846d2b17e56b7cad5a6e5ba735001bbdea3065c44c53368f2e659524c65301c3743a1bf5f95a572eac8788e0d714707091941efa5deb6acac90') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '27d22c45b48e7846d2b17e56b7cad5a6e5ba735001bbdea3065c44c53368f2e659524c65301c3743a1bf5f95a572eac8788e0d714707091941efa5deb6acac90') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:23:53', '56a57360bcc3abf4a0d1f0f3706439515cf5f6b16f76430553954cfda948b376590e7adfa3a6a663bf09934fb70efe540c98db3dad54cbf7c941c52d16c14349', '2010-08-26 20:23:53', 'joao', NULL, 'V3dIFP6iUDmnLxIhcXF', '42686da275f3b60c6a1cfdcc11bdef7b5ab471af951ef1c7e45fb7c2a79c3a3f194785eb6df5e373612751a650bc7be2be4659ca6ceef76b773b7e1ec1115f0c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4713aeed2c04efce75e93a5c0cf8b3f940c0169641c2090535c463a085e226934fd365b4f00e2e9a2aa7609fb758894ec2f736dddeb4bf26ff590e76f0cbe23b') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '42686da275f3b60c6a1cfdcc11bdef7b5ab471af951ef1c7e45fb7c2a79c3a3f194785eb6df5e373612751a650bc7be2be4659ca6ceef76b773b7e1ec1115f0c') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '42686da275f3b60c6a1cfdcc11bdef7b5ab471af951ef1c7e45fb7c2a79c3a3f194785eb6df5e373612751a650bc7be2be4659ca6ceef76b773b7e1ec1115f0c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:23:53', 'c9d4cf764e489e261af7a404a8f69f4a5be31a6a46ebaf6b22df5807153de9fc6f969900d4adc1207aff0dc0eac2905ec5f3895b51c957b99412d82f1e9a1c0f', '2010-08-26 20:23:53', 'joao', NULL, '08CG6KB8LbEoxqvENCG', '4713aeed2c04efce75e93a5c0cf8b3f940c0169641c2090535c463a085e226934fd365b4f00e2e9a2aa7609fb758894ec2f736dddeb4bf26ff590e76f0cbe23b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (48.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:23:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 512) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:23:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:23:53) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (77.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:23:53) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:23:53', '2010-08-26 20:23:53', NULL, 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 11ms (DB: 80) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (42.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8e789d4154102e6030accb53d162f82eb0e96758336f35a0c6636ea7f620c5d996bf0e9585cd7c8f71a52e258b8d9995ec032ed5ebed4fcc62b7259e306a5c43') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:24:47', '38a989ede97abb99f063e85bff40ed214cbfded742299a49011771c312f99ed632129f6ab403a1d32c14dcd14c7ae29a4caaaf0df74ff02360b0d1b5b8fbc6b3', '2010-08-26 20:24:47', 'admin', NULL, 'NihrKI3hsrqbnf17H9A', '8e789d4154102e6030accb53d162f82eb0e96758336f35a0c6636ea7f620c5d996bf0e9585cd7c8f71a52e258b8d9995ec032ed5ebed4fcc62b7259e306a5c43', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (83.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.9ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:47', '2010-08-26 20:24:47', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ad31001a15cefc24c02355352c52b691c7e74de247dfc124a306c7a9f48f18936ee75682fda498ab8fcaf541b4a0d1e1fed2c4f1da58e9abab4d4233b3603151') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:24:47', '6e6b7bf8519d038f70bac6fbd6bc0f83471c6d416b6dc78f1bed5b475ef20bac53bc2e259c318b94b38865c5d666c3f06ddcf0edd44907955c8c41513572f2d3', '2010-08-26 20:24:47', 'joao', NULL, 'Euxy1xG3sDlc5IcmZd97', 'ad31001a15cefc24c02355352c52b691c7e74de247dfc124a306c7a9f48f18936ee75682fda498ab8fcaf541b4a0d1e1fed2c4f1da58e9abab4d4233b3603151', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (40.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '86402f9668b8db41c6f9bb898bd0196514512c1249eacc5b4338cb961de04f816e173bf51ae1c7ae1b4c5b4af473021a6a09906014ac9db10fa094f02e3bad30') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ad31001a15cefc24c02355352c52b691c7e74de247dfc124a306c7a9f48f18936ee75682fda498ab8fcaf541b4a0d1e1fed2c4f1da58e9abab4d4233b3603151') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'ad31001a15cefc24c02355352c52b691c7e74de247dfc124a306c7a9f48f18936ee75682fda498ab8fcaf541b4a0d1e1fed2c4f1da58e9abab4d4233b3603151') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:24:48', 'd23e78ae67a8e70f967ed7e3a3dba563bdaab7aef7c944ec4172e60a29ad97dd94fee8b49c5eb487ce96fa3e291fd94c9994e9c280ddbb53b718f398c82afd8d', '2010-08-26 20:24:48', 'joao', NULL, 'OGK8Ohb9rI3bShr0ZfzG', '86402f9668b8db41c6f9bb898bd0196514512c1249eacc5b4338cb961de04f816e173bf51ae1c7ae1b4c5b4af473021a6a09906014ac9db10fa094f02e3bad30', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ef162ce367dd33d233b769f9724d5c46dea1dc88d79a87501e0d591c0beee51d1ed81e0bcf765890bcfc2ffef999c5d3e0c4ae3db1ae7761f69d37e9b4bd4db7') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '86402f9668b8db41c6f9bb898bd0196514512c1249eacc5b4338cb961de04f816e173bf51ae1c7ae1b4c5b4af473021a6a09906014ac9db10fa094f02e3bad30') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '86402f9668b8db41c6f9bb898bd0196514512c1249eacc5b4338cb961de04f816e173bf51ae1c7ae1b4c5b4af473021a6a09906014ac9db10fa094f02e3bad30') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:24:48', 'aa92f30e48c35d35d4395c29c75e8fbcb5d882e6402e9e07bdd15f018fa2b7ad542936397db0c6b1c7a71d1f24d9bb6871a3671a3892fac338ee595bdbd40a45', '2010-08-26 20:24:48', 'joao', NULL, 'lLjkLvcOVAf9LhkHyyqN', 'ef162ce367dd33d233b769f9724d5c46dea1dc88d79a87501e0d591c0beee51d1ed81e0bcf765890bcfc2ffef999c5d3e0c4ae3db1ae7761f69d37e9b4bd4db7', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:24:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 11, DB: 477) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:24:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:24:48) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (36.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:24:48) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:24:48', '2010-08-26 20:24:48', NULL, 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 10ms (DB: 39) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (35.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8108a876a38e1856adee6c34fc9e066517765382ccd60537e30e6d836295d5018616d3f0893b4ce631de55963ab85627d804d88eb4208dc94ebf30ee4b41180f') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:30:15', 'cad4af3fbfe7dcb4afc3ef0a5d7d2d53b0fa563060c5abcb8026147753ecf2dead630aff27d823c1f764770fdbfb26dd51a427cf3e57f5610a32eabe1b0bea76', '2010-08-26 20:30:15', 'admin', NULL, 'wkElXBskjsnBjwDg3R', '8108a876a38e1856adee6c34fc9e066517765382ccd60537e30e6d836295d5018616d3f0893b4ce631de55963ab85627d804d88eb4208dc94ebf30ee4b41180f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (74.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (76.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (54.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (54.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '13cb65ca98cae0f5128fc82b3d4bb9ecfeb5c3af769520220b3a80b1a613621d87d207e0b5cd7eeb2eac320a0220856d2698db8c3cd5bafc807cc3b90c8fa78f') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:30:15', '8084dd67cadb3b810a49422de85df7753f23c2261645a82b24c64a752a92603eeec348a721820fc9386e9584fff81ebd61a64b19e900260fe52d06e0856f84ee', '2010-08-26 20:30:15', 'joao', NULL, 'gGZdFqlLwAPbdarSyGQ3', '13cb65ca98cae0f5128fc82b3d4bb9ecfeb5c3af769520220b3a80b1a613621d87d207e0b5cd7eeb2eac320a0220856d2698db8c3cd5bafc807cc3b90c8fa78f', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (64.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e1583e0aa11e9791ec7f92b0dc63f9e4a304a694503ddc953b6d8cd631f353c0db38e0fa320c0b4bf080f91fbf3da93824714e8e38fe3158d244f4152c3389b8') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '13cb65ca98cae0f5128fc82b3d4bb9ecfeb5c3af769520220b3a80b1a613621d87d207e0b5cd7eeb2eac320a0220856d2698db8c3cd5bafc807cc3b90c8fa78f') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '13cb65ca98cae0f5128fc82b3d4bb9ecfeb5c3af769520220b3a80b1a613621d87d207e0b5cd7eeb2eac320a0220856d2698db8c3cd5bafc807cc3b90c8fa78f') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:30:15', '8bc8b40761f28a20e583255eafb3e52fa08ebe44d4303cc094253374bc711b46c40e2065f2e4b7e6891df0ae9abc22c889d1fad8999f433fccac932a2724f893', '2010-08-26 20:30:15', 'joao', NULL, 'J4WaSJiqsn8oJizYVEYC', 'e1583e0aa11e9791ec7f92b0dc63f9e4a304a694503ddc953b6d8cd631f353c0db38e0fa320c0b4bf080f91fbf3da93824714e8e38fe3158d244f4152c3389b8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '3113c1d741127b909a1c993bff6888790c252e2872b60ee691718dbf4afefa3f797eadcaace6f093f5235fe4b91d8d3d67f82cd30b341af0cc8f28eaa81584c1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e1583e0aa11e9791ec7f92b0dc63f9e4a304a694503ddc953b6d8cd631f353c0db38e0fa320c0b4bf080f91fbf3da93824714e8e38fe3158d244f4152c3389b8') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'e1583e0aa11e9791ec7f92b0dc63f9e4a304a694503ddc953b6d8cd631f353c0db38e0fa320c0b4bf080f91fbf3da93824714e8e38fe3158d244f4152c3389b8') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:30:15', '8e9bde391fc67fe3d7da8ba358ea786d8377f8b33b1fba049ec6e3c87b133480ef19f5e7b88123db8baf50a1373fd7ad988b9b9efbc70f7a2760353b4d90942c', '2010-08-26 20:30:15', 'joao', NULL, 'nhcxCpOE0OfTrRESTR', '3113c1d741127b909a1c993bff6888790c252e2872b60ee691718dbf4afefa3f797eadcaace6f093f5235fe4b91d8d3d67f82cd30b341af0cc8f28eaa81584c1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (75.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:15', '2010-08-26 20:30:15', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:30:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 22ms (View: 13, DB: 591) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:30:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:30:16) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:30:16', '2010-08-26 20:30:16', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (88.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:30:16) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:30:16', '2010-08-26 20:30:16', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 89) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (50.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '624bd052c4462ea6bad2fb9370a6d1bdc0a811981ee1676a562923582505cc309ec3be9c2def78266be1bc99d5f5ee8f8994b02cf75835345b48a6898a99120f') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:31:20', 'aaa3d0231e26f4d543b6dbd765b48c86b7ed5898bc02eda83f0f30922f90d414bdf4c5b9d1c3f9b7ced4fd656c19914000fb708e72aab157631f7b7f9d2cf722', '2010-08-26 20:31:20', 'admin', NULL, 'bDXDChPynCaMXYt4DIj9', '624bd052c4462ea6bad2fb9370a6d1bdc0a811981ee1676a562923582505cc309ec3be9c2def78266be1bc99d5f5ee8f8994b02cf75835345b48a6898a99120f', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (70.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (49.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (42.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:20', '2010-08-26 20:31:20', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (7.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (46.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '27a390b65922e7321fb2228edfdd3dd5542178364d90fbc9a63f39bbc9765e8118b60052a7c1fe2642f86933a8430624ed4efacb2f825681128b823bca288094') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:31:21', '76f6535c80680b875638d0c0c4d6ef4da0f6cbb798622de619dbc1ecc50fde5875ca08fee19aca3ae3d217604f57712dd3534036afb3f4df74fa89db946a90ed', '2010-08-26 20:31:21', 'joao', NULL, '9pSybJNJMayX8l8X9eP', '27a390b65922e7321fb2228edfdd3dd5542178364d90fbc9a63f39bbc9765e8118b60052a7c1fe2642f86933a8430624ed4efacb2f825681128b823bca288094', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 2, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (38.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5839553ee09eac4f20e95dc32d15046309422aea589f02524562cc76ea2a0e0ce231bb5f6a1786b2e71b2f2264462f916915fd3e4a24cfb025aba334761ec702') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '27a390b65922e7321fb2228edfdd3dd5542178364d90fbc9a63f39bbc9765e8118b60052a7c1fe2642f86933a8430624ed4efacb2f825681128b823bca288094') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '27a390b65922e7321fb2228edfdd3dd5542178364d90fbc9a63f39bbc9765e8118b60052a7c1fe2642f86933a8430624ed4efacb2f825681128b823bca288094') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:31:21', 'a6b8b0fb37d74e4ed6afa23ef0ecbf18335018ec933c75802b6fc1a2ecc99c972ab654cb75d870da5e3ded3228fc624ca9afb785d758d529fb5d3992c591d639', '2010-08-26 20:31:21', 'joao', NULL, 'TYl9QOidsyBGhhhxJMzG', '5839553ee09eac4f20e95dc32d15046309422aea589f02524562cc76ea2a0e0ce231bb5f6a1786b2e71b2f2264462f916915fd3e4a24cfb025aba334761ec702', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 3, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (44.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '352163e0c0b864ba0e6b8c690c37423ceac738fc581ee4b60136693fe0da8ca2dc5326755416cba3cd8108a827b07f243c2fbe8d6e84d6075df6b7cd6828e713') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5839553ee09eac4f20e95dc32d15046309422aea589f02524562cc76ea2a0e0ce231bb5f6a1786b2e71b2f2264462f916915fd3e4a24cfb025aba334761ec702') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5839553ee09eac4f20e95dc32d15046309422aea589f02524562cc76ea2a0e0ce231bb5f6a1786b2e71b2f2264462f916915fd3e4a24cfb025aba334761ec702') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:31:21', '0f6c92b45102dc0e2a327dce4f854c3215e8a44cc061ad044d8ad914e82850c0ba76cc82b4a207338004389a74b44023089855c5ff24639400ffb38f50cfc0ea', '2010-08-26 20:31:21', 'joao', NULL, 'aoKaVpzetLDz3rtExiB', '352163e0c0b864ba0e6b8c690c37423ceac738fc581ee4b60136693fe0da8ca2dc5326755416cba3cd8108a827b07f243c2fbe8d6e84d6075df6b7cd6828e713', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (46.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.0ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (44.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:31:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (2.4ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 24ms (View: 13, DB: 496) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:31:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:31:21) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 110ms (DB: 3) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (65.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:31:21) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:31:21', '2010-08-26 20:31:21', NULL, 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 67) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (47.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5d145bda40c293c0c3939ae24bb63e74cc0f90832a2014c0a5e6362861b1ab8f4d1addf58986d8f7929c06491a8ed6b106cf168ec297a01697b60443e869c4b1') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:32:12', 'd82b5a6bdfa49e873e2402160803b5786f305765aef89af5f81260610f554f283914b18d882a0bfac41dae27e9aec6499dc8f48b10742b36cb93fae9da2f19ed', '2010-08-26 20:32:12', 'admin', NULL, 'jPDsNTrch8Jv0Zz5yxnE', '5d145bda40c293c0c3939ae24bb63e74cc0f90832a2014c0a5e6362861b1ab8f4d1addf58986d8f7929c06491a8ed6b106cf168ec297a01697b60443e869c4b1', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (51.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (50.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'eb80734235f003d071aaf110f897ab95c624c57f50cf353042118a7c307e13cab0c42bf3d7d96c256c8a2f6bf4f1dad9c3a869b7298751f485e74758e2317445') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:32:12', 'f109b30c6da6a3e04b9ffdeab381ba5aca9d2390401e112b5a76d413c20d40b75a19fb59a7ff93ea65eb88f296b774984228cd81c94674c2724d6eeb6d45c7bf', '2010-08-26 20:32:12', 'joao', NULL, 'XKuWGhfSw75jffVIv08R', 'eb80734235f003d071aaf110f897ab95c624c57f50cf353042118a7c307e13cab0c42bf3d7d96c256c8a2f6bf4f1dad9c3a869b7298751f485e74758e2317445', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '24159bde16b96a7ac576ce618645095be712023a9986a793ccfbfb0a8d771dcb6124032f72b52d251da989839e4a71c47efd46fd43d9d5279acb07897d1864c6') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'eb80734235f003d071aaf110f897ab95c624c57f50cf353042118a7c307e13cab0c42bf3d7d96c256c8a2f6bf4f1dad9c3a869b7298751f485e74758e2317445') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'eb80734235f003d071aaf110f897ab95c624c57f50cf353042118a7c307e13cab0c42bf3d7d96c256c8a2f6bf4f1dad9c3a869b7298751f485e74758e2317445') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:32:12', 'c8e1c287895ed502821e087b505701d233a5051d9576a4f4d99641c67792008ef33c389c3f0304b1d3afc37360752b0f2eafa100c7e37d5c7ae5355700675600', '2010-08-26 20:32:12', 'joao', NULL, 'JyRFCg2dx8whtvOlkZ', '24159bde16b96a7ac576ce618645095be712023a9986a793ccfbfb0a8d771dcb6124032f72b52d251da989839e4a71c47efd46fd43d9d5279acb07897d1864c6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd072ffdbb51ef243a42bc2def27b8b4ca8f7ab3a285b68ed8d485dd6c10cb0bd771bfbf79d71508577221f203b8784a2f1a2e1dacbaa2e307c4258223c697892') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '24159bde16b96a7ac576ce618645095be712023a9986a793ccfbfb0a8d771dcb6124032f72b52d251da989839e4a71c47efd46fd43d9d5279acb07897d1864c6') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '24159bde16b96a7ac576ce618645095be712023a9986a793ccfbfb0a8d771dcb6124032f72b52d251da989839e4a71c47efd46fd43d9d5279acb07897d1864c6') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:32:12', 'a428444b1a6eb907870a0721547b048b95a4283d411e6ff9a6adea279e2781c08c1e56907dbc0d40736d98c5d906c4a65b19242a9663c2a6a7b6217de71e507d', '2010-08-26 20:32:12', 'joao', NULL, '3v32ypLPJmDpjTZcghL1', 'd072ffdbb51ef243a42bc2def27b8b4ca8f7ab3a285b68ed8d485dd6c10cb0bd771bfbf79d71508577221f203b8784a2f1a2e1dacbaa2e307c4258223c697892', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 2, 6)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (48.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:12', '2010-08-26 20:32:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:32:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 516) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:32:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:32:13) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:32:13', '2010-08-26 20:32:13', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (39.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:32:13) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:32:13', '2010-08-26 20:32:13', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 41) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (44.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e6123d19b676fd0a772c9c1879a4a4997dd1ac6670f70bb1b9e4f083aa30a8c159b1a6fcf27a60333d43774bf6d09b4b0e3283e518b3956c9da0b398f0104c06') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:09', '5a019a00cd6eee83bbb3281737d68d9205795a2c553e7e164fad8338335298e8befc617bff8e31a4bf5eaeff658d25c9dda1f722d40a60c2719d1b2e5e662bf7', '2010-08-26 20:34:09', 'admin', NULL, 'AzsdhMlQsRqcWhQtF3JE', 'e6123d19b676fd0a772c9c1879a4a4997dd1ac6670f70bb1b9e4f083aa30a8c159b1a6fcf27a60333d43774bf6d09b4b0e3283e518b3956c9da0b398f0104c06', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (51.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (47.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a8e06e20ac180727973afb6a50f9272ba5acaf0db5fcc036bcf8e932a02db4448ac5030dca2f8c4e810ede88923b53ba1cff02933b92a25d83c9ebefcfe1acb8') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:09', '0ce7a9693860de20b4663a3b2339e234c19722eb49048a849eb3dcfb03aa59466c6d5ae5202fd4df760be95c8e3fa5d1d98b711258b3a8c2185f590dce9f08a0', '2010-08-26 20:34:09', 'joao', NULL, 'wxQZGZ3gd5BqyK19Mtn6', 'a8e06e20ac180727973afb6a50f9272ba5acaf0db5fcc036bcf8e932a02db4448ac5030dca2f8c4e810ede88923b53ba1cff02933b92a25d83c9ebefcfe1acb8', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:09', '2010-08-26 20:34:09', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (58.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '411c4ed00748087c1033755ab7ebbb8d831f0406eb84d38a6dd88c91fc0eb8a98c47034e791a9be25a5d143f185bf7cffdabc67dbfc34412f7e8637318a7d261') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a8e06e20ac180727973afb6a50f9272ba5acaf0db5fcc036bcf8e932a02db4448ac5030dca2f8c4e810ede88923b53ba1cff02933b92a25d83c9ebefcfe1acb8') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a8e06e20ac180727973afb6a50f9272ba5acaf0db5fcc036bcf8e932a02db4448ac5030dca2f8c4e810ede88923b53ba1cff02933b92a25d83c9ebefcfe1acb8') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:10', '3692d796b9ce36646ec03dd73603f27772adc52042632af330a2f0f337912cb1425f453bcafbe1141d994d2602ef2f91c0331345441dd64db043af2e0315e929', '2010-08-26 20:34:10', 'joao', NULL, 'AzVjhsqXOJZsT0B4byIA', '411c4ed00748087c1033755ab7ebbb8d831f0406eb84d38a6dd88c91fc0eb8a98c47034e791a9be25a5d143f185bf7cffdabc67dbfc34412f7e8637318a7d261', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (43.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'd1e292c9598c7c8a7a6c70708d534d4ccd4c2d3b5700fc15319ad431873fd1da597a73219c9c26a34285bab2fcf4be339ac6c9bbc84164cc86e798fd963ba453') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '411c4ed00748087c1033755ab7ebbb8d831f0406eb84d38a6dd88c91fc0eb8a98c47034e791a9be25a5d143f185bf7cffdabc67dbfc34412f7e8637318a7d261') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '411c4ed00748087c1033755ab7ebbb8d831f0406eb84d38a6dd88c91fc0eb8a98c47034e791a9be25a5d143f185bf7cffdabc67dbfc34412f7e8637318a7d261') LIMIT 1[0m
  [4;36;1mUser Create (2.0ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:10', 'bf0f1c22534520a8f92cd822235df12cad24c32977473a695f99ed641b27bf42f6200fc3524441a51e0f4514cbead674daf9f317a005b4f42f7568f5d0911e0c', '2010-08-26 20:34:10', 'joao', NULL, 's7nvsXCa3ZRtEcWHKu9F', 'd1e292c9598c7c8a7a6c70708d534d4ccd4c2d3b5700fc15319ad431873fd1da597a73219c9c26a34285bab2fcf4be339ac6c9bbc84164cc86e798fd963ba453', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (41.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:34:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 529) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:34:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:34:10) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (44.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:34:10) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:10', '2010-08-26 20:34:10', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 47) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (38.5ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6f371cc8a52205c333e07cb4950ce2d216189e26150f06ff2cc6fa60b866586d8c355d2bb79f8a38bdb0a860e7d51a1edfca263a0c996c1d9617cc0b54e9ab6c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:43', '55a3a8fae6f8babf177a6fbeb6524b208d81fa18e4dddad3780013af8f65f8368742adbf477e4b087902128e2df52a297fc3717470e8f79fc350bbe6b742ba4e', '2010-08-26 20:34:43', 'admin', NULL, 'egWxxe2jamTJw0djtZ', '6f371cc8a52205c333e07cb4950ce2d216189e26150f06ff2cc6fa60b866586d8c355d2bb79f8a38bdb0a860e7d51a1edfca263a0c996c1d9617cc0b54e9ab6c', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (36.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (34.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (2.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 3, 3)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (37.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b58e706c47cd635ec28bcefad7a6ccb47c99df2650223b7d82cf052c3c7d3f6f3dd12645c1ed5de27b66c9493b63adc0cf966260902514e50c6fdb2e4792c829') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:43', 'd01f49e387b2698053527b4af57ed528b6ee32ac515ea1d1c0c0435354343e992dbbb559d0fa1d7518071b8fa728f08e33f55057b2b90520cf04d9dceae3f6c2', '2010-08-26 20:34:43', 'joao', NULL, 'zw5lYXJA8675CGlfPX', 'b58e706c47cd635ec28bcefad7a6ccb47c99df2650223b7d82cf052c3c7d3f6f3dd12645c1ed5de27b66c9493b63adc0cf966260902514e50c6fdb2e4792c829', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (28.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1ae2108ec9c3e80e7fe447dd8532e3e4dac572a95abe08fecd2aa4271a30d7cdea0592a42f70c86b564e7deb515fced93fe2d5d54fc98cb2a65bfdf6a033a1e2') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b58e706c47cd635ec28bcefad7a6ccb47c99df2650223b7d82cf052c3c7d3f6f3dd12645c1ed5de27b66c9493b63adc0cf966260902514e50c6fdb2e4792c829') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'b58e706c47cd635ec28bcefad7a6ccb47c99df2650223b7d82cf052c3c7d3f6f3dd12645c1ed5de27b66c9493b63adc0cf966260902514e50c6fdb2e4792c829') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:43', '1b995d6c3e895f7682b82e65f8dfb07c7f0edb373164a8a3609d2dbc258b82c8b60ddbf5a82043e4d312fa14493d620a102e620d4b60b30edc5e55e61de07b0c', '2010-08-26 20:34:43', 'joao', NULL, 'FZEYyJxVUKAoma97znZX', '1ae2108ec9c3e80e7fe447dd8532e3e4dac572a95abe08fecd2aa4271a30d7cdea0592a42f70c86b564e7deb515fced93fe2d5d54fc98cb2a65bfdf6a033a1e2', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ad591f67b24a9c01d6331a9d025ff4df52e350e43daa897b524e13e4a7e0501293db8dea364abb667eddbb5c7e837eaf903b50f9d01cf6fdd00bfc4e958796ee') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1ae2108ec9c3e80e7fe447dd8532e3e4dac572a95abe08fecd2aa4271a30d7cdea0592a42f70c86b564e7deb515fced93fe2d5d54fc98cb2a65bfdf6a033a1e2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1ae2108ec9c3e80e7fe447dd8532e3e4dac572a95abe08fecd2aa4271a30d7cdea0592a42f70c86b564e7deb515fced93fe2d5d54fc98cb2a65bfdf6a033a1e2') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:34:43', '881d5de68940297e55bdd1921d0abc902d9242873ae1563822b9d5cab6779af0b83978d185583d72793d71f89021a8aa482ba7dfda1dae0b55de054effdde0b1', '2010-08-26 20:34:43', 'joao', NULL, 'znsqsUbuFOC4Oo7aLkdk', 'ad591f67b24a9c01d6331a9d025ff4df52e350e43daa897b524e13e4a7e0501293db8dea364abb667eddbb5c7e837eaf903b50f9d01cf6fdd00bfc4e958796ee', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:43', '2010-08-26 20:34:43', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:44', '2010-08-26 20:34:44', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:44', '2010-08-26 20:34:44', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:44', '2010-08-26 20:34:44', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (47.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:34:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 12, DB: 458) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:34:44) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (2.2ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:34:44', '2010-08-26 20:34:44', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 104ms (DB: 5) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (50.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:34:44) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.7ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:34:44', '2010-08-26 20:34:44', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 52) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (44.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e889008516aa4dc0fe1c99658cae1ab7bc7e75304c07ba621f44ecb8f0ccdbc9745b44c4f4c5da9fc5fe9af57bea5151077a3fb60d75f99debf3ebb6735ab357') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:35:50', 'f75e5ad67bc067e396add9d0633b327dfe2eb20cae6d0d81db699a99b5bae286f75614bb03fa082ec61dfae38f5451ca9d3dbe3953163e9ecb3c0e81fe8aaf63', '2010-08-26 20:35:50', 'admin', NULL, 'wJD1xD9Uyp1aNrGO1DOt', 'e889008516aa4dc0fe1c99658cae1ab7bc7e75304c07ba621f44ecb8f0ccdbc9745b44c4f4c5da9fc5fe9af57bea5151077a3fb60d75f99debf3ebb6735ab357', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (81.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (59.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 3, 3)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (40.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'f09c137d4b9b41c05325049e065868675043e9a41e24d24ccbf3f3e80abaa9b44dbeddbfcc77de49120341a5d18adb38499282514edf476ec3dd6ba2c7ee9fe5') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:35:50', '4f14effeb395fb1a16c9ad1dbbf3a46b1032cb5ce067021eef8bbe16f47309b71a0cbf5549fa1047e3a3355af020cbd1476614cb77b6d35c699ec65fd54f2bdf', '2010-08-26 20:35:50', 'joao', NULL, 'tctuEmvBySbc8fGl0xlY', 'f09c137d4b9b41c05325049e065868675043e9a41e24d24ccbf3f3e80abaa9b44dbeddbfcc77de49120341a5d18adb38499282514edf476ec3dd6ba2c7ee9fe5', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (1.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '998432a0642b5f7c89969e78743f3ad0cc83d9f3acb2834f3112da27a8528ba55e9b506284ba601477749475abcbe7a861f1b3c658f37aa42314770cae3ee7dc') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f09c137d4b9b41c05325049e065868675043e9a41e24d24ccbf3f3e80abaa9b44dbeddbfcc77de49120341a5d18adb38499282514edf476ec3dd6ba2c7ee9fe5') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'f09c137d4b9b41c05325049e065868675043e9a41e24d24ccbf3f3e80abaa9b44dbeddbfcc77de49120341a5d18adb38499282514edf476ec3dd6ba2c7ee9fe5') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:35:50', '9f9bb6293edb64552362541b74645248c6bc38a7bff2b95861624b12039e9bcac6fa5985fce5a3afcf470a7ea7da9a8838ca825b90a0312e592001f1222bc937', '2010-08-26 20:35:50', 'joao', NULL, 'hG66UUnaZpBSop8RGTa', '998432a0642b5f7c89969e78743f3ad0cc83d9f3acb2834f3112da27a8528ba55e9b506284ba601477749475abcbe7a861f1b3c658f37aa42314770cae3ee7dc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (39.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '65797c77bdcec3d16c68bdc64c236fab840d50068dc1c0dbbcc2121100779646577c96e6bfada5182b84b8682dcd8c48203f2a33f4c1079cff0b58a24a0f0def') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '998432a0642b5f7c89969e78743f3ad0cc83d9f3acb2834f3112da27a8528ba55e9b506284ba601477749475abcbe7a861f1b3c658f37aa42314770cae3ee7dc') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '998432a0642b5f7c89969e78743f3ad0cc83d9f3acb2834f3112da27a8528ba55e9b506284ba601477749475abcbe7a861f1b3c658f37aa42314770cae3ee7dc') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:35:50', '9be67bcce18043428f5149bd165d236b30832b794574c5d31076113ceed38a778af718923729edf6a46112fc1d3315c2546a6986a39255da06d8f4b5f1e91173', '2010-08-26 20:35:50', 'joao', NULL, 'sJuNV6juAylGFcMdnvP', '65797c77bdcec3d16c68bdc64c236fab840d50068dc1c0dbbcc2121100779646577c96e6bfada5182b84b8682dcd8c48203f2a33f4c1079cff0b58a24a0f0def', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:50', '2010-08-26 20:35:50', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:51', '2010-08-26 20:35:51', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:51', '2010-08-26 20:35:51', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:51', '2010-08-26 20:35:51', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (41.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:35:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 16ms (View: 10, DB: 517) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:35:51) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:35:51', '2010-08-26 20:35:51', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 102ms (DB: 2) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (56.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:35:51) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:35:51', '2010-08-26 20:35:51', NULL, 1, 1)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 58) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (47.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '73ed19f0ebb132085570a4e1548ea34679511812d4983d823f48b9935255b19a5ee81adc83a192e6cf46cdd3777622d9227dad0848a44625ad000252720175e3') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:43', 'a893215dbc8bbb7deb9457fecb635e424870597eac69dd35704e5ada91dd459402cfb341332c9227139c3d0e5eba8032f66319a5ec56d2cd077aeafc52c90daf', '2010-08-26 20:36:43', 'admin', NULL, 'Z0zIzsy8xwDr0Itp6nX', '73ed19f0ebb132085570a4e1548ea34679511812d4983d823f48b9935255b19a5ee81adc83a192e6cf46cdd3777622d9227dad0848a44625ad000252720175e3', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (71.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 2, 2)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '91fb7649c25adba22a0b3adcb8ca23206bd486b8933de73e802bbdc430fbfa2b1690ea2bd7d07c8c2d73e427f6eaaba745978d7fdf7c221f4e9cfc65ecdf9a39') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:43', '3ea6e3134d3a4f3c2c0cef9b6f1268f50e46d479ca79e528077fcdec1d2e901ccbde45c7cf891801eeb3be9e83104a3c4aae59f7adfca2757b2726426d02e1f0', '2010-08-26 20:36:43', 'joao', NULL, 'CSKL10gsFIFmRYlNbjc', '91fb7649c25adba22a0b3adcb8ca23206bd486b8933de73e802bbdc430fbfa2b1690ea2bd7d07c8c2d73e427f6eaaba745978d7fdf7c221f4e9cfc65ecdf9a39', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (48.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c3edeac5edb2265d9f783f5b60a4545113d739206e73a15c9c25354bf419c138f9b66e9eaf46cb002718a8addbb739907f3ed941b9c4156d364aff842c245cba') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '91fb7649c25adba22a0b3adcb8ca23206bd486b8933de73e802bbdc430fbfa2b1690ea2bd7d07c8c2d73e427f6eaaba745978d7fdf7c221f4e9cfc65ecdf9a39') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '91fb7649c25adba22a0b3adcb8ca23206bd486b8933de73e802bbdc430fbfa2b1690ea2bd7d07c8c2d73e427f6eaaba745978d7fdf7c221f4e9cfc65ecdf9a39') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:43', '58ef6ec0434f19b81014b8ca2d847ceba490ed38902e99b53b19f3a6d9a6503e324732a25e6b4182461835d65519ceb01a48a66484aa015f04c7f3be2efc348b', '2010-08-26 20:36:43', 'joao', NULL, 'HOWYoWgcRKgOdrYkyPo', 'c3edeac5edb2265d9f783f5b60a4545113d739206e73a15c9c25354bf419c138f9b66e9eaf46cb002718a8addbb739907f3ed941b9c4156d364aff842c245cba', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'ea72f98c0c0f53da7454501442c058890ca4bb817627b0959b2c550640611b17d772b2008d75a7f5c2e14a5e84dc350e0dbe143d79f8f5b1a895ebea3bb1400a') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c3edeac5edb2265d9f783f5b60a4545113d739206e73a15c9c25354bf419c138f9b66e9eaf46cb002718a8addbb739907f3ed941b9c4156d364aff842c245cba') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c3edeac5edb2265d9f783f5b60a4545113d739206e73a15c9c25354bf419c138f9b66e9eaf46cb002718a8addbb739907f3ed941b9c4156d364aff842c245cba') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:43', 'a8b149df9c8f2cfb7fa6290468f48a9a45dbce35e74febccecc82ee6a1b393b3b6be7a4efb73b81053d41e9ed33afb8f446d47e5dc2d8064024d966c31b44cc4', '2010-08-26 20:36:43', 'joao', NULL, 'MUkvEw4LAo44na8tpLlK', 'ea72f98c0c0f53da7454501442c058890ca4bb817627b0959b2c550640611b17d772b2008d75a7f5c2e14a5e84dc350e0dbe143d79f8f5b1a895ebea3bb1400a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (52.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (43.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:43', '2010-08-26 20:36:43', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:36:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 10, DB: 484) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:36:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:36:44) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:44', '2010-08-26 20:36:44', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (38.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:36:44) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:44', '2010-08-26 20:36:44', NULL, 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 40) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2806cd8d5a061ce5dde3bcad25e458df69a900b2e828a928378d5eb2a47bfadf12f1473aec3ddb45fad081c2566edd42384d955ad90c4441479bcac44d78e988') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:56', '0360d2bd7d46472efb75be7331d5fe61636fc7744f3396add9b82064f00eb18bc9e8fdd2727a013732d6b56dd7520addbe87c5a464d74134fc9f5e6cc7c75b8f', '2010-08-26 20:36:56', 'admin', NULL, 'EznpQCed0VfUfdfvM5sM', '2806cd8d5a061ce5dde3bcad25e458df69a900b2e828a928378d5eb2a47bfadf12f1473aec3ddb45fad081c2566edd42384d955ad90c4441479bcac44d78e988', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (68.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (1.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:56', '2010-08-26 20:36:56', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (56.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:56', '2010-08-26 20:36:56', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:56', '2010-08-26 20:36:56', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (54.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 2, 3)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.6ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (47.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '7ace226988824b6bff977ca57858929ad5c04edd9a2e6a336477554b7cb68a71ed9d0a935de255052d6b433d10879d5148a9b5af9777996b30088085956d959a') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:57', '9ecdb2c22af46b9a97d55c4558889afa6cae26b0cb3ea5f4dd3d46b43166a8aeb8709ec5b3543bd8cdbc4067e47200bfc3398d037c9b10392ac1b3907066e86c', '2010-08-26 20:36:57', 'joao', NULL, 'jQ8kvEZfosgxboWDBku', '7ace226988824b6bff977ca57858929ad5c04edd9a2e6a336477554b7cb68a71ed9d0a935de255052d6b433d10879d5148a9b5af9777996b30088085956d959a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (43.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '49510b1c02b6da66b9dc3d11b23491037acd844b2f7d4fa4e34e5b2a24741d53ee28096103a73a2d7a6f653cda7922b31dd3110088b6080c5c1aaf6d49326fd6') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7ace226988824b6bff977ca57858929ad5c04edd9a2e6a336477554b7cb68a71ed9d0a935de255052d6b433d10879d5148a9b5af9777996b30088085956d959a') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '7ace226988824b6bff977ca57858929ad5c04edd9a2e6a336477554b7cb68a71ed9d0a935de255052d6b433d10879d5148a9b5af9777996b30088085956d959a') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:57', 'e82f046f6ffd471fb07292aedbcd6a6431d250f16fbdf37685612f7a5636ab46bc22bcb4563166154064c94dc7a5b733bd83f69a835ff2683a94a60234f14840', '2010-08-26 20:36:57', 'joao', NULL, 'R2fAkn7hsvvaBfSdveC', '49510b1c02b6da66b9dc3d11b23491037acd844b2f7d4fa4e34e5b2a24741d53ee28096103a73a2d7a6f653cda7922b31dd3110088b6080c5c1aaf6d49326fd6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (47.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '11e7ab61b392730d162d001b302dbd9791e7c5e054e80cbb15f00f10a8bdc3f76f2d4499cb898b1b431c18dfa80c4996112a154ed34152a424bbe943908d4bcd') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '49510b1c02b6da66b9dc3d11b23491037acd844b2f7d4fa4e34e5b2a24741d53ee28096103a73a2d7a6f653cda7922b31dd3110088b6080c5c1aaf6d49326fd6') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '49510b1c02b6da66b9dc3d11b23491037acd844b2f7d4fa4e34e5b2a24741d53ee28096103a73a2d7a6f653cda7922b31dd3110088b6080c5c1aaf6d49326fd6') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:36:57', '52539b66059b643473372284363bee4f4a7e5c003960b78b9dc5cb378b4c46218749076d84ab749d5bc4f0b275c81109d59507b523702d1fba45ebb880843bc6', '2010-08-26 20:36:57', 'joao', NULL, 'RiBcWnSkn0WKVhcS40hW', '11e7ab61b392730d162d001b302dbd9791e7c5e054e80cbb15f00f10a8bdc3f76f2d4499cb898b1b431c18dfa80c4996112a154ed34152a424bbe943908d4bcd', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.9ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (27.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 'teste')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 2, 7)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (32.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (31.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:36:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 18ms (View: 10, DB: 476) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:36:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:36:57) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (56.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:36:57) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:36:57', '2010-08-26 20:36:57', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 59) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (46.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '887ba8611134131dfb363c468f5625a0873cf49e4c85a2cbc1767a12058d325095748aa437c4440a5fc17db084ad3d4f4cf8cef47fbdabd2fd4df220853ed481') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:37:59', '7cf06e6848f755b693e1691dc46b62c346bfb55f4cdd5a76a7e2876d959290fc1399e6557233fd3b303217aa4e3f39de207c06cc2f128a640fbf820f63fc6718', '2010-08-26 20:37:59', 'admin', NULL, 'P04kKfgp2tKXwPL1x9NX', '887ba8611134131dfb363c468f5625a0873cf49e4c85a2cbc1767a12058d325095748aa437c4440a5fc17db084ad3d4f4cf8cef47fbdabd2fd4df220853ed481', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (88.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:37:59', '2010-08-26 20:37:59', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:37:59', '2010-08-26 20:37:59', 1, 'teste')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:37:59', '2010-08-26 20:37:59', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:37:59', '2010-08-26 20:37:59', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (41.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '1909e47acc0b1af11e8428cea446121227ded4b3811a476828c393c830d411318e3b8afe08c79a3544ff7dc716c8bb19614f4f0e98f12231e11f3c6e3bb3c84a') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:38:00', 'd993498ce48385645e2aa834c95926fabbdc3d258a319f80d2634ca450114b5f606c39e17b4c4b72d0c729e13cc8c3edb82fabef9ef49b5c8a844aacc6852305', '2010-08-26 20:38:00', 'joao', NULL, 'uVqiDXZlcrOTy9RuxsFx', '1909e47acc0b1af11e8428cea446121227ded4b3811a476828c393c830d411318e3b8afe08c79a3544ff7dc716c8bb19614f4f0e98f12231e11f3c6e3bb3c84a', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (51.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'c59eec4b02ce875797639c328d264b59bea16f448c7ee66d122d25eb0c948cc8abe5ea8b3391ee568b227036e45d204058a2c55ce3b76d2ef121642e53a3c965') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1909e47acc0b1af11e8428cea446121227ded4b3811a476828c393c830d411318e3b8afe08c79a3544ff7dc716c8bb19614f4f0e98f12231e11f3c6e3bb3c84a') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '1909e47acc0b1af11e8428cea446121227ded4b3811a476828c393c830d411318e3b8afe08c79a3544ff7dc716c8bb19614f4f0e98f12231e11f3c6e3bb3c84a') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:38:00', 'aae72134536b4375eae44b4083f46f62ef67921e9de7435448b6346c45dcadd2b34e789eb0b0e8658dfaec784574cecfc89a360f610d20f7c473bc1df801e6cf', '2010-08-26 20:38:00', 'joao', NULL, 'DbEeiSNEJvM59kJg1zV7', 'c59eec4b02ce875797639c328d264b59bea16f448c7ee66d122d25eb0c948cc8abe5ea8b3391ee568b227036e45d204058a2c55ce3b76d2ef121642e53a3c965', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 2, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '199d62ad859f43a89c1a5d230197c28e9ad33608b7d71293e3fb4d7b369bb5c1bea1acde8ca7ab8e55d60a7bcd241252e72f52e4bb7ecb810cc3833812b84e8e') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c59eec4b02ce875797639c328d264b59bea16f448c7ee66d122d25eb0c948cc8abe5ea8b3391ee568b227036e45d204058a2c55ce3b76d2ef121642e53a3c965') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'c59eec4b02ce875797639c328d264b59bea16f448c7ee66d122d25eb0c948cc8abe5ea8b3391ee568b227036e45d204058a2c55ce3b76d2ef121642e53a3c965') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:38:00', '8f5c3e501ba947e72bbd1aba2276e50fd84c4b6e4c0e9a69fb59f0b06ae6918f280b9159f9b420c86df6de7c77d6f4c67666a6bf9de9ab48fd30ea3f15a9bb70', '2010-08-26 20:38:00', 'joao', NULL, 'h1satSXExpziVvjT7n', '199d62ad859f43a89c1a5d230197c28e9ad33608b7d71293e3fb4d7b369bb5c1bea1acde8ca7ab8e55d60a7bcd241252e72f52e4bb7ecb810cc3833812b84e8e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.8ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (41.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (47.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:38:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 17ms (View: 11, DB: 513) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:38:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:38:00) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:38:00) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:38:00', '2010-08-26 20:38:00', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 47) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (46.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a4232f1eeba6f631fc8c6239bd2127a0b6d48cb7592818db5d578ed8cdfec7d7f35e2bbfa49bdade76b501e603ecabef6e3f2c0aeeac39886df2787ffe9d67f3') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:12', '8b2fc64c35cabc1de1655eb25794f87b9adb9d469fcebbe8f915eb3a8b2c98964d27cff5790b110612d1464d3e4e8e656d6f45581c2843d5628f15d2c20405c7', '2010-08-26 20:39:12', 'admin', NULL, '4a3gwe00P3ex2X0hJZo5', 'a4232f1eeba6f631fc8c6239bd2127a0b6d48cb7592818db5d578ed8cdfec7d7f35e2bbfa49bdade76b501e603ecabef6e3f2c0aeeac39886df2787ffe9d67f3', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (83.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (45.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (46.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (2.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '8b1f2f084a5107c2ecf949bdad1575f8432c934231a45b00c7b10efb4b2f40eb62574dc5d00807602c4392bb2fb53ee51e33328801ba7fcd9c062d1647878dfa') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:13', 'dcb2db3cd3d1d657a0e0d6c2024e54fbdecafe1bd4fe8db5009b52f5e6ea4df8ec2ae72ce2ded3f0b53b7001313c07107d35298a25bdd37fe6553f58ceaff498', '2010-08-26 20:39:13', 'joao', NULL, 'xIUYb0ph7TJmNa4nTnS7', '8b1f2f084a5107c2ecf949bdad1575f8432c934231a45b00c7b10efb4b2f40eb62574dc5d00807602c4392bb2fb53ee51e33328801ba7fcd9c062d1647878dfa', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '05a8802274024bdba23ffbad79c849a7a037a1b7e1e090031ba2a5fc6c5fd2c38252dd7b8546736845b4d94ea4c0b510a903c75c43070a606f61d763eb5fc3cc') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8b1f2f084a5107c2ecf949bdad1575f8432c934231a45b00c7b10efb4b2f40eb62574dc5d00807602c4392bb2fb53ee51e33328801ba7fcd9c062d1647878dfa') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '8b1f2f084a5107c2ecf949bdad1575f8432c934231a45b00c7b10efb4b2f40eb62574dc5d00807602c4392bb2fb53ee51e33328801ba7fcd9c062d1647878dfa') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:13', 'fa33934a5fd601095466503e41ea4df5139fdbc4c70ddf6716c333b5b9014d4d79d4c776c878142276ebfa1d8ccf9d0eb1553b0b9f21d45ea7981c5d9531ee3f', '2010-08-26 20:39:13', 'joao', NULL, 'z1E6o5pN1QugsNGhx5S', '05a8802274024bdba23ffbad79c849a7a037a1b7e1e090031ba2a5fc6c5fd2c38252dd7b8546736845b4d94ea4c0b510a903c75c43070a606f61d763eb5fc3cc', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '940bb0d51ef73cb87842717cb5db83e34abd744e5893493e9eeab0636c0d197ef999ab1fdffb6ae02b73a62f2ca444f285343b1ffd0cf07d58776d8d77504929') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '05a8802274024bdba23ffbad79c849a7a037a1b7e1e090031ba2a5fc6c5fd2c38252dd7b8546736845b4d94ea4c0b510a903c75c43070a606f61d763eb5fc3cc') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '05a8802274024bdba23ffbad79c849a7a037a1b7e1e090031ba2a5fc6c5fd2c38252dd7b8546736845b4d94ea4c0b510a903c75c43070a606f61d763eb5fc3cc') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:13', 'baa7237f5edee2d6ea9658647140afe789d60ffdad202646934c7e808d46206db6693f990c267532384f4bf4ae2bf628c961ba701e8f0de9153351be60e1f6a5', '2010-08-26 20:39:13', 'joao', NULL, 'C0c9yo1pz8ZJEXXiiPbx', '940bb0d51ef73cb87842717cb5db83e34abd744e5893493e9eeab0636c0d197ef999ab1fdffb6ae02b73a62f2ca444f285343b1ffd0cf07d58776d8d77504929', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (40.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.0ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (39.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:39:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 20ms (View: 10, DB: 506) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:39:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:39:13) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.5ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (47.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:39:13) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:13', '2010-08-26 20:39:13', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 50) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (42.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '794a5aab8654362094753d4e0cce845fc712f5160419a4b561080b7d56ae3eb347ce9604e8eb392211204f4612bdd371ad3bd4de3880765d23399d15d5a4e390') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:46', '87b893f004fed944f5113aabde21c0b18c255e53475407e5d0a3146e25f385e3cd551fcee97029b0a3652d22ef3e7263b70693b97c137687c52db6c1e044d622', '2010-08-26 20:39:46', 'admin', NULL, 'Ax5nrB2t3xdQFdmXnDpx', '794a5aab8654362094753d4e0cce845fc712f5160419a4b561080b7d56ae3eb347ce9604e8eb392211204f4612bdd371ad3bd4de3880765d23399d15d5a4e390', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (45.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (50.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.2ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (47.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 3, 3)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.6ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (42.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6f41194c0ee8f16df6709cf785d313c219fbef8bcb74e52520cdb79d399ba0da40671bffcf57e1b1cc6142bd0b2e5be871fe55fe913bb20159effa3685c7bd7c') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:46', '6441e34235fa3cc50cce5a2884bc720fefd381b42d3eb629f8a5a9ab2631a3948de693194fe0b29b49dfe0520038559d5e7472855a091cf37757051520f7ac86', '2010-08-26 20:39:46', 'joao', NULL, 'GG4iEjDTIBxsKEhSGk5r', '6f41194c0ee8f16df6709cf785d313c219fbef8bcb74e52520cdb79d399ba0da40671bffcf57e1b1cc6142bd0b2e5be871fe55fe913bb20159effa3685c7bd7c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (37.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '083cc774cb40ba313a371d7a6f675308a7d09b66b6d7f67283828adade72f6153c83eab5b94c1447931997270397110da322f83fb7e06d469d9e92b925b8fc87') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f41194c0ee8f16df6709cf785d313c219fbef8bcb74e52520cdb79d399ba0da40671bffcf57e1b1cc6142bd0b2e5be871fe55fe913bb20159effa3685c7bd7c') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f41194c0ee8f16df6709cf785d313c219fbef8bcb74e52520cdb79d399ba0da40671bffcf57e1b1cc6142bd0b2e5be871fe55fe913bb20159effa3685c7bd7c') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:46', 'a16e4f545c2a995fb625ba3534261c85fb638bb58e6c89950f930c2e27494f49b8881b73da7ee7df57fd556eb37335614c42e1355f16bd30627ead91eddcbe6b', '2010-08-26 20:39:46', 'joao', NULL, '9B6hXbuzkieW0o0ZmAbk', '083cc774cb40ba313a371d7a6f675308a7d09b66b6d7f67283828adade72f6153c83eab5b94c1447931997270397110da322f83fb7e06d469d9e92b925b8fc87', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'b860ec74d0db81368f6ba3b153b4a50400a33135a632740603c88866fb3e929e75a94b0c5daf95dbbcc83277045ef5942a31b5c78becd054d41916c772055802') LIMIT 1[0m
  [4;36;1mUser Load (2.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '083cc774cb40ba313a371d7a6f675308a7d09b66b6d7f67283828adade72f6153c83eab5b94c1447931997270397110da322f83fb7e06d469d9e92b925b8fc87') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '083cc774cb40ba313a371d7a6f675308a7d09b66b6d7f67283828adade72f6153c83eab5b94c1447931997270397110da322f83fb7e06d469d9e92b925b8fc87') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:39:46', '4bfe25304d7617c92634d7716c005ffbd82498fd93f5785a2a5d5670b93ed41476b91c9ec047886dac3d23bf5996d6ef0c4289ef634944af19dfa92e2ada19b3', '2010-08-26 20:39:46', 'joao', NULL, 'YJ9HD6p1998PTA09Jneg', 'b860ec74d0db81368f6ba3b153b4a50400a33135a632740603c88866fb3e929e75a94b0c5daf95dbbcc83277045ef5942a31b5c78becd054d41916c772055802', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 2, 6)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:46', '2010-08-26 20:39:46', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (1.2ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:47', '2010-08-26 20:39:47', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (33.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:47', '2010-08-26 20:39:47', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (31.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:39:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 20ms (View: 10, DB: 440) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:39:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:39:47) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:39:47', '2010-08-26 20:39:47', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (29.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:39:47) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:39:47', '2010-08-26 20:39:47', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 31) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '61a5a6db3999f9a3e6c9f97f6eeaba6d9f77e2145f523b123db652da0e5bb3fd60cd072e94bc0193f9fca2418e816c39acf4ae55942c1165439735813ad34d39') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:49:12', '28c73d1a007ec5291925ab59ba7200adaff4a1589876f9f16ac90b2c624c977c87330505b2fb208aeb0c1ac4b40233ebd451ca1f33f26d27917d15f734accce1', '2010-08-26 20:49:12', 'admin', NULL, 'SHvmPNX0wz9XbQOObT', '61a5a6db3999f9a3e6c9f97f6eeaba6d9f77e2145f523b123db652da0e5bb3fd60cd072e94bc0193f9fca2418e816c39acf4ae55942c1165439735813ad34d39', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (81.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:12', '2010-08-26 20:49:12', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.2ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (40.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:12', '2010-08-26 20:49:12', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:12', '2010-08-26 20:49:12', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (45.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 2, 3)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.8ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (38.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5eec243440762bff6bde431db43c471bfea82ee159a01b726ba8318078d5f13e564e4a0e8688e55c5ca54f8873e972c938c7d6c14926d946ec14ecb58c5f0b35') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:49:13', '1c2a90610dff24960e7172242b1ba56f7245462e0eb8f67fdaac6207f7dec9567b8487b8d27cd9bbf1a291727151ab65e7ee03cc0800b8f3156198ed51aacb77', '2010-08-26 20:49:13', 'joao', NULL, 'dzAS4N0vqays7QEbSAJ', '5eec243440762bff6bde431db43c471bfea82ee159a01b726ba8318078d5f13e564e4a0e8688e55c5ca54f8873e972c938c7d6c14926d946ec14ecb58c5f0b35', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 2, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (42.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '6f13c87479abf50537edaf5a5cc18b8cdd6a2484641d800d13f689ba13f5181aba1fa94a481d819359eac1a6d5dc60c770179b53c25567d0ec3a8436705185b4') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5eec243440762bff6bde431db43c471bfea82ee159a01b726ba8318078d5f13e564e4a0e8688e55c5ca54f8873e972c938c7d6c14926d946ec14ecb58c5f0b35') LIMIT 1[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5eec243440762bff6bde431db43c471bfea82ee159a01b726ba8318078d5f13e564e4a0e8688e55c5ca54f8873e972c938c7d6c14926d946ec14ecb58c5f0b35') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:49:13', '8eee69909c88d4e3c3d37d67d7c8e784781ce8d2a7b44be706401ec15743c9767412878d733080f70554b26a0691fab4d6139660e525eaf4d94c449d11dbce6c', '2010-08-26 20:49:13', 'joao', NULL, 'm0nfqmwVsO39pt6JuwcR', '6f13c87479abf50537edaf5a5cc18b8cdd6a2484641d800d13f689ba13f5181aba1fa94a481d819359eac1a6d5dc60c770179b53c25567d0ec3a8436705185b4', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '76fb1abfc1adcce756cbe6e156fbd1ea4d7977296273a8487faf6637c1412e32deb964de58f6dca4ba3a601ae9e635e14f45664a6071d1a08b0d70ad2d1ca464') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f13c87479abf50537edaf5a5cc18b8cdd6a2484641d800d13f689ba13f5181aba1fa94a481d819359eac1a6d5dc60c770179b53c25567d0ec3a8436705185b4') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '6f13c87479abf50537edaf5a5cc18b8cdd6a2484641d800d13f689ba13f5181aba1fa94a481d819359eac1a6d5dc60c770179b53c25567d0ec3a8436705185b4') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:49:13', '447b8f3e3e225ce2a654ba5c464ee7d5aabf33a3ecb13fd4a05e36fd8dd0bc25318d81f88c8d264a0e6ed298420bed9113b50fdea9898f76653bcc98892cb7a5', '2010-08-26 20:49:13', 'joao', NULL, 'IVwQ7U5Cnu9HLHyXiBf8', '76fb1abfc1adcce756cbe6e156fbd1ea4d7977296273a8487faf6637c1412e32deb964de58f6dca4ba3a601ae9e635e14f45664a6071d1a08b0d70ad2d1ca464', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.9ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.9ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (51.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (45.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:49:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 19ms (View: 12, DB: 488) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:49:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:49:13) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 118ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (48.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:49:13) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:49:13', '2010-08-26 20:49:13', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 50) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (40.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5b0e6d8282e053dca741dff2a4da7e666a4323d5d3014bd0032dd07c9173c4562f5dbc00c714012c622d69096ff266bf0bd186a6c2a1efe327eeedc109e20f8b') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:50:10', '28a6e5a2ceb29447cf8ad7e998c268e504fd3aaaf98f20bfdb7f49f16d7fe87a2b09abb7c5e85b09203f032e7a3c123708617de67f6a6ce5e60367d34917db64', '2010-08-26 20:50:10', 'admin', NULL, '2K93pxKDBENdJkaKPRfB', '5b0e6d8282e053dca741dff2a4da7e666a4323d5d3014bd0032dd07c9173c4562f5dbc00c714012c622d69096ff266bf0bd186a6c2a1efe327eeedc109e20f8b', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (83.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (48.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (44.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.1ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (44.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '5d4080c7a5289ef82393e540ea8793fdb7a2ae7d7c77e459438ba290397d9bbd87ff198dd0b53448501c2eada5f2c12a1a39a62c16ff8cf1ed0b4ff576b42b90') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:50:10', '645a7a39760d656f70e6b5ab259bf18d1fab76a2175219ab73741a16e369c4ffa2a7051c2ad14d051580ff8fe2fa30f04bc7c67c0839715e42a58469f01aa7b6', '2010-08-26 20:50:10', 'joao', NULL, 'ElkSn6aIinPBYIN1xBh', '5d4080c7a5289ef82393e540ea8793fdb7a2ae7d7c77e459438ba290397d9bbd87ff198dd0b53448501c2eada5f2c12a1a39a62c16ff8cf1ed0b4ff576b42b90', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (44.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'a5dff52aeb48988588f1ca0d184ed8100c6649b948346270a58a635ed5532bd86b938862cb57186ca9db7ebe197120c0567da3dd32bd8dd1952a744157f5ca2b') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5d4080c7a5289ef82393e540ea8793fdb7a2ae7d7c77e459438ba290397d9bbd87ff198dd0b53448501c2eada5f2c12a1a39a62c16ff8cf1ed0b4ff576b42b90') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '5d4080c7a5289ef82393e540ea8793fdb7a2ae7d7c77e459438ba290397d9bbd87ff198dd0b53448501c2eada5f2c12a1a39a62c16ff8cf1ed0b4ff576b42b90') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:50:10', '862b1f57a08b948a66905e5abb3d6e3c989ca5a79044881024a8afe312410cb22a23a22245d0e4b949271e801e3b21f562b587c0a11fbe695ffdaf51a26de5bd', '2010-08-26 20:50:10', 'joao', NULL, 'nYhQhemDycWxn9mmE68', 'a5dff52aeb48988588f1ca0d184ed8100c6649b948346270a58a635ed5532bd86b938862cb57186ca9db7ebe197120c0567da3dd32bd8dd1952a744157f5ca2b', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (47.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '26909e4a0f0f5494899f7d79c2c96690a715378e6451bfd8b5e2e813e684e6b4a4920cc7c9f1829a5066811f3561fca78d1c02aba62f0b31d95e045f1741464e') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a5dff52aeb48988588f1ca0d184ed8100c6649b948346270a58a635ed5532bd86b938862cb57186ca9db7ebe197120c0567da3dd32bd8dd1952a744157f5ca2b') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = 'a5dff52aeb48988588f1ca0d184ed8100c6649b948346270a58a635ed5532bd86b938862cb57186ca9db7ebe197120c0567da3dd32bd8dd1952a744157f5ca2b') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 20:50:10', 'a8a47aaf8156de1fd14281d63074180f57a76ec057156c0470af2fa9d52be16aed575005d1d02bcc80ae824d9a2a0cfb8f110e786b7eae94affc6449ede18340', '2010-08-26 20:50:10', 'joao', NULL, 'hPLjam3ulme3xbdw6Vei', '26909e4a0f0f5494899f7d79c2c96690a715378e6451bfd8b5e2e813e684e6b4a4920cc7c9f1829a5066811f3561fca78d1c02aba62f0b31d95e045f1741464e', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.9ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (48.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.9ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 'teste')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (45.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:10', '2010-08-26 20:50:10', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (41.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:50:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 24ms (View: 10, DB: 511) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 17:50:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 17:50:11) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 20:50:11', '2010-08-26 20:50:11', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (458.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 17:50:11) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 20:50:11', '2010-08-26 20:50:11', NULL, 1, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 460) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (52.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '4388ab2e9f6a00980e6095aed80dcb6f7f50cd4007f0f45494fc4641ef4a13c6b900a44bf2d3be74e2c64fce33628c1a5f9666547a06d1ba124dc15195116991') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:01:32', 'e4860ec8fc84335dddace3064a7f2e387592d482a0aaf449c83ffb380424639fdf4c18838dfd7f5d40a306a1dd6f2962c346bd0c854d5ad4c93f4e0deda88b44', '2010-08-26 21:01:32', 'admin', NULL, 'XIYtTrIlDPP1Gob4tf', '4388ab2e9f6a00980e6095aed80dcb6f7f50cd4007f0f45494fc4641ef4a13c6b900a44bf2d3be74e2c64fce33628c1a5f9666547a06d1ba124dc15195116991', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (144.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (33.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.9ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 2, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (34.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (37.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0b7d7636f6b71b6a4045797e111d59b778d52356936b0308ecfb67eb14b05c4b84705102df337531cd59d7aabfefb83582509172f2b30896a2f823de74f0a210') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:01:32', '4bdcfd9c9deee0b2a709a47e98bcc147925818003ac90346de1c66d2fa41ca91a564932cd75341aa2f2399506ddf7954d753c76015fba58f736c57f66ac173cf', '2010-08-26 21:01:32', 'joao', NULL, 'Xr4yekytvzyCoBQzR7m', '0b7d7636f6b71b6a4045797e111d59b778d52356936b0308ecfb67eb14b05c4b84705102df337531cd59d7aabfefb83582509172f2b30896a2f823de74f0a210', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (49.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '393dacec68615fdfcb2f8f2ada24568c6e773eb3ffb4fe936ce0e10b517cc101758edc68d10aff3a0ebbb400c70e17cda105b09a83f261e7e3f0adfc9fabec0c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0b7d7636f6b71b6a4045797e111d59b778d52356936b0308ecfb67eb14b05c4b84705102df337531cd59d7aabfefb83582509172f2b30896a2f823de74f0a210') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0b7d7636f6b71b6a4045797e111d59b778d52356936b0308ecfb67eb14b05c4b84705102df337531cd59d7aabfefb83582509172f2b30896a2f823de74f0a210') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:01:32', '5421dbbd50ee076cc841b63735dcef14e3a2a95c8ab88dc2681644825254874b6008606d7044e921806cfad08a550b3881dba3e08a2c45c903d91bf7287d6beb', '2010-08-26 21:01:32', 'joao', NULL, 'Px6BAbBxZi5BxnUAV6J1', '393dacec68615fdfcb2f8f2ada24568c6e773eb3ffb4fe936ce0e10b517cc101758edc68d10aff3a0ebbb400c70e17cda105b09a83f261e7e3f0adfc9fabec0c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:32', '2010-08-26 21:01:32', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'fa56b6d4f00aa7bdcb2db8e4a6a6408a6d9552b8989a36ea8c56cd8edaa7774fd0401d65cab72442ab555f463e79e8bf16a1f49962de5f9b51671e087a7ee69c') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '393dacec68615fdfcb2f8f2ada24568c6e773eb3ffb4fe936ce0e10b517cc101758edc68d10aff3a0ebbb400c70e17cda105b09a83f261e7e3f0adfc9fabec0c') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '393dacec68615fdfcb2f8f2ada24568c6e773eb3ffb4fe936ce0e10b517cc101758edc68d10aff3a0ebbb400c70e17cda105b09a83f261e7e3f0adfc9fabec0c') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:01:33', '0b56b3e2ee3683659ee822fc9e0298f1344be4ff639dd55ba106e9fbd122885c357dcc901eabeb4d9ab0123cbc5a709b4efb1ace12b02e536277c6e02552da8b', '2010-08-26 21:01:33', 'joao', NULL, 'yiwDxUt4ZV8D0Pmedv76', 'fa56b6d4f00aa7bdcb2db8e4a6a6408a6d9552b8989a36ea8c56cd8edaa7774fd0401d65cab72442ab555f463e79e8bf16a1f49962de5f9b51671e087a7ee69c', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 4, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.7ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 3, 6)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (43.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.3ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 2, 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 18:01:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering messages/index
Completed in 37ms (View: 31, DB: 526) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
WARNING: Can't mass-assign these protected attributes: id
WARNING: Can't mass-assign these protected attributes: id


Processing MessagesController#index (for 0.0.0.0 at 2010-08-26 18:01:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 18:01:33) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.4ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', 1, 'blá blá blá 1')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 5ms (DB: 1) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;36;1mSQL (43.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 18:01:33) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:01:33', '2010-08-26 21:01:33', NULL, 1, 1)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 7ms (DB: 45) | 302 Found [http://test.host/opinion/1/1]
  [4;36;1mSQL (39.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '47c9c231e4498edd4f5fcdb3c071ee6259e3ae99a53bb371f634ddae018c15ec3e3db866cc1fc93170fa88bb9ead4026fe27b3e7d269464507cd1f0ed2e2b6ab') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:02:07', 'abb17ffe98682fe7a8aba12828d328f61b1905a816549fb00459f018331eced9cff13897d2e40f79311b3b5dc01a03760572201d069d0512d405590c313ffa45', '2010-08-26 21:02:07', 'admin', NULL, 'jjh4UquGJNIO7QIvYm5', '47c9c231e4498edd4f5fcdb3c071ee6259e3ae99a53bb371f634ddae018c15ec3e3db866cc1fc93170fa88bb9ead4026fe27b3e7d269464507cd1f0ed2e2b6ab', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (106.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 'teste')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.0ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (39.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.7ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 'teste')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.7ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.8ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 2, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.5ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.6ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.7ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:07', '2010-08-26 21:02:07', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (0.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (54.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '88c4cc62399cb8ef11a402a6b331f9a6c538db36f5c253aaa4ac4dd2e26682904f9a49fe72dad1b517b01b683b978982848af91ca9e2d0784df1e0edc66aacb6') LIMIT 1[0m
  [4;35;1mUser Create (1.2ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:02:08', '0fe04f0007ecf7095bbecfcf2269f3276f593125774a14d4653795a2c0f59c58323b81f3387cf43d67c7887879e7163ece2b16b7b827d011f87f521e0828a14b', '2010-08-26 21:02:08', 'joao', NULL, 'gjI1QxOnlkAYnZbqBSy', '88c4cc62399cb8ef11a402a6b331f9a6c538db36f5c253aaa4ac4dd2e26682904f9a49fe72dad1b517b01b683b978982848af91ca9e2d0784df1e0edc66aacb6', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (33.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '2120f75de8e59cf879d763d300d6276e7e9e025565ff23c12e53042f513eb333f0c95055427b7601cc3dce4adfa8845aba8e6d4a51b104d8177792b5f93a8223') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88c4cc62399cb8ef11a402a6b331f9a6c538db36f5c253aaa4ac4dd2e26682904f9a49fe72dad1b517b01b683b978982848af91ca9e2d0784df1e0edc66aacb6') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '88c4cc62399cb8ef11a402a6b331f9a6c538db36f5c253aaa4ac4dd2e26682904f9a49fe72dad1b517b01b683b978982848af91ca9e2d0784df1e0edc66aacb6') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:02:08', '62bedef2ff97e4552de3882e0558166f3c109dcdc9778080132e7e52c99293330394b4b4be51d74a8b248200cae555d2e81847a71901e306b0885f55138e3a75', '2010-08-26 21:02:08', 'joao', NULL, 'dajqqFQNuHNOYfvzZo2l', '2120f75de8e59cf879d763d300d6276e7e9e025565ff23c12e53042f513eb333f0c95055427b7601cc3dce4adfa8845aba8e6d4a51b104d8177792b5f93a8223', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 3, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (45.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY 'e447f92ffd400bb8d634f52751ff36213957bca22a03312f7baa7920f41f933314ae044d4a181b65332bcbeb3088650ffbd0922e7ac2ef6fc3404f61e23357de') LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2120f75de8e59cf879d763d300d6276e7e9e025565ff23c12e53042f513eb333f0c95055427b7601cc3dce4adfa8845aba8e6d4a51b104d8177792b5f93a8223') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '2120f75de8e59cf879d763d300d6276e7e9e025565ff23c12e53042f513eb333f0c95055427b7601cc3dce4adfa8845aba8e6d4a51b104d8177792b5f93a8223') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 21:02:08', '1f1da86ca560b3e5ccad1ad6ac6816fd7f5f00a6845df8267f04e7a3830573bbca1f887a69510a9b64370c183ac47d25f02cdfa032939ae262ef4064b249a4d9', '2010-08-26 21:02:08', 'joao', NULL, 'rCllqjkHCdrQxaEoY2', 'e447f92ffd400bb8d634f52751ff36213957bca22a03312f7baa7920f41f933314ae044d4a181b65332bcbeb3088650ffbd0922e7ac2ef6fc3404f61e23357de', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.3ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.4ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.7ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.5ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 3, 6)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (38.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 2, 7)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (46.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (38.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 18:02:08) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 9ms (DB: 502) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (42.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 18:02:08) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.5ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 21:02:08', '2010-08-26 21:02:08', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 6ms (DB: 44) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (45.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'admin@admin.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0bb96262e589395aeb7c445075804ee3138d614adf47c7070a7670b0909cfc838f6c009a0993c1b5cd8369835a4619169edc70e7f8a3f081ca155065432954d9') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 22:17:35', '930cca4f4110e7d1bcd13de898218769efa98e6736ac6c15d4ea9fa6856fea190e8491182137d865cb4ca9417d49994c4490499eb125189f0a164825ac687a7f', '2010-08-26 22:17:35', 'admin', NULL, 'iwMIK55TRHmiT7Y8TSP', '0bb96262e589395aeb7c445075804ee3138d614adf47c7070a7670b0909cfc838f6c009a0993c1b5cd8369835a4619169edc70e7f8a3f081ca155065432954d9', NULL, 'admin@admin.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;35;1mSQL (76.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMessage Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.7ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 1[0m
  [4;35;1mOpinion Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `opinions`[0m
  [4;36;1mSQL (70.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.6ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 2 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.6ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as importance from opinions where message_id = 2[0m
  [4;36;1mSQL (67.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 2, 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.3ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 3 and o.user_id = 3[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 1, 3, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mOpinion Load (1.4ms)[0m   [0;1mselect count(*) as importance from opinions where message_id = 3[0m
  [4;35;1mSQL (39.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '0a742a717baa534e78b6ae4010fae22064d0bf13253c9355c53dca4db03fb1e88eabb65bc5102607df516648293ac653195c4bf6b378ad7bc0836245d321c012') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 22:17:35', 'cb2ab6bdd03cbe7d02fc20e8c99f1ed169ebd4bf7530975ecf4c38909bfc983d98c3080b65293ed942fc50959f7619384ff7da805f294f68a1a619cf52d0321f', '2010-08-26 22:17:35', 'joao', NULL, 'o2roR9d6zfAJtr9aqudY', '0a742a717baa534e78b6ae4010fae22064d0bf13253c9355c53dca4db03fb1e88eabb65bc5102607df516648293ac653195c4bf6b378ad7bc0836245d321c012', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 2, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mselect count(*) as importance from messages m, opinions o where m.user_id = 2 and m.id = o.message_id[0m
  [4;35;1mSQL (46.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '59eec7d92ecedf15610db16b3ffea548a8fc0b041c0986dd1ce553ffdff1d01e992821b67ac8e7fea9c873a8905008c0912fbba131d86202d86116b2df6bbf20') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0a742a717baa534e78b6ae4010fae22064d0bf13253c9355c53dca4db03fb1e88eabb65bc5102607df516648293ac653195c4bf6b378ad7bc0836245d321c012') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '0a742a717baa534e78b6ae4010fae22064d0bf13253c9355c53dca4db03fb1e88eabb65bc5102607df516648293ac653195c4bf6b378ad7bc0836245d321c012') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 22:17:35', '3a136a5b7176401cf3308f2e8ffc787a76faf390f047b589f9f035ec3f1372073abb1b6d4cca6af9366ad86fc0880600c6c618ec5c600883d8b4463fa9713df7', '2010-08-26 22:17:35', 'joao', NULL, 'LSr3mkWbIIXPd4Xtr52', '59eec7d92ecedf15610db16b3ffea548a8fc0b041c0986dd1ce553ffdff1d01e992821b67ac8e7fea9c873a8905008c0912fbba131d86202d86116b2df6bbf20', NULL, 'joao@xp.com.br', NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:35', '2010-08-26 22:17:35', 3, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 5 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 2, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 3 and m.id = o.message_id[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (2.5ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'joao@xp.com.br') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`username`) = BINARY 'joao') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`persistence_token` = BINARY '54defc6bdb391ff14c41c501917def79778a42fddbf9f73a7dcca0b59074122de1c903833d1bdf05e92f90724ebfd89f18e4b834cb52fa038aecb5e62cdcddf1') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '59eec7d92ecedf15610db16b3ffea548a8fc0b041c0986dd1ce553ffdff1d01e992821b67ac8e7fea9c873a8905008c0912fbba131d86202d86116b2df6bbf20') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`persistence_token` = '59eec7d92ecedf15610db16b3ffea548a8fc0b041c0986dd1ce553ffdff1d01e992821b67ac8e7fea9c873a8905008c0912fbba131d86202d86116b2df6bbf20') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`created_at`, `crypted_password`, `updated_at`, `username`, `gender`, `password_salt`, `persistence_token`, `age`, `email`, `civil`) VALUES('2010-08-26 22:17:36', '964feec930ddf0dc6c04e21ef6b0bf2d84323e3c46556c6588b844e0abb5e2e95f6b60180aed8b5c6df1f6e23c32f50f8e669500c9310c23f9753a63e80f3025', '2010-08-26 22:17:36', 'joao', NULL, 'DbFIjMgpMcg854KcQaFf', '54defc6bdb391ff14c41c501917def79778a42fddbf9f73a7dcca0b59074122de1c903833d1bdf05e92f90724ebfd89f18e4b834cb52fa038aecb5e62cdcddf1', NULL, 'joao@xp.com.br', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMessage Create (0.2ms)[0m   [0;1mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 4, 'teste')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (0.2ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 2[0m
  [4;35;1mOpinion Create (0.2ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 2, 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.5ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 6 and o.user_id = 3[0m
  [4;36;1mOpinion Create (0.4ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 3, 6)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mselect count(*) as importance from messages m, opinions o where m.user_id = 4 and m.id = o.message_id[0m
  [4;36;1mSQL (42.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.8ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 'teste')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM `messages` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (1.3ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mOpinion Create (0.8ms)[0m   [0;1mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 2, 7)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM `messages` LIMIT 1[0m
  [4;35;1mOpinion Load (1.1ms)[0m   [0mselect count(*) as count from opinions o where o.message_id = 7 and o.user_id = 2[0m
  [4;36;1mSQL (39.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.3ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 'teste')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mOpinion Load (0.4ms)[0m   [0mselect count(*) as importance from opinions where message_id = 1[0m
  [4;36;1mSQL (57.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing MessagesController#create (for 0.0.0.0 at 2010-08-26 19:17:36) [POST]
  Parameters: {"action"=>"create", "controller"=>"messages", "message"=>{"user_id"=>1, "content"=>"blá blá blá 1"}}
  [4;36;1mSQL (1.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMessage Create (0.4ms)[0m   [0mINSERT INTO `messages` (`created_at`, `updated_at`, `user_id`, `content`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', 1, 'blá blá blá 1')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 17ms (DB: 538) | 302 Found [http://test.host/messages?message%5Bcontent%5D=bl%C3%A1+bl%C3%A1+bl%C3%A1+1&message%5Buser_id%5D=1]
  [4;35;1mSQL (47.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m


Processing MessagesController#opinion (for 0.0.0.0 at 2010-08-26 19:17:36) [POST]
  Parameters: {"number"=>"1", "action"=>"opinion", "controller"=>"messages", "message"=>"1"}
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mOpinion Load (1.5ms)[0m   [0;1mselect count(*) as count from opinions o where o.message_id = 1 and o.user_id = 1[0m
  [4;35;1mOpinion Create (0.3ms)[0m   [0mINSERT INTO `opinions` (`created_at`, `updated_at`, `opinion`, `user_id`, `message_id`) VALUES('2010-08-26 22:17:36', '2010-08-26 22:17:36', NULL, 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/messages
Completed in 17ms (DB: 50) | 302 Found [http://test.host/opinion/1/1]
  [4;35;1mSQL (46.3ms)[0m   [0mROLLBACK[0m
